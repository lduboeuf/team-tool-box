!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.Widget=b():a.Widget=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){"use strict";var d=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.rs=a,this.state="initial",this.active=!1,this.online=!1,this.closed=!1,this.leaveOpen=!!b.leaveOpen&&b.leaveOpen,this.logging="boolean"==typeof b.logging&&b.logging,this.autoCloseAfter=b.autoCloseAfter?b.autoCloseAfter:1500,this.lastSynced=null,this.lastSyncedUpdateLoop=null};d.prototype={log:function(){if(this.logging){for(var a,b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[RS-WIDGET] "].concat(c))}},eventHandler:function(a,b){var c=this;switch(this.log("EVENT: ",a),a){case"ready":this.setState(this.state);break;case"sync-req-done":this.rsSyncButton.classList.add("rs-rotate");break;case"sync-done":if(this.rsSyncButton.classList.remove("rs-rotate"),this.rsWidget.classList.contains("rs-state-unauthorized")||!this.rs.remote.online)this.updateLastSyncedOutput();else if(this.rs.remote.online){this.lastSynced=new Date;var d=document.querySelector(".rs-box-connected .rs-sub-headline");d.innerHTML="Synced just now"}!this.closed&&this.shouldCloseWhenSyncDone&&setTimeout(this.close.bind(this),this.autoCloseAfter);break;case"disconnected":this.active=!1,this.online=!1,this.setBackendClass(),this.setState("initial");break;case"connected":this.active=!0,this.online=!0,this.rs.hasFeature("Sync")?(this.shouldCloseWhenSyncDone=!0,this.rs.on("sync-req-done",function(){return c.eventHandler("sync-req-done")}),this.rs.on("sync-done",function(){return c.eventHandler("sync-done")})):(this.rsSyncButton.classList.add("rs-hidden"),setTimeout(this.close.bind(this),this.autoCloseAfter));var e=this.rs.remote.userAddress;this.rsConnectedUser.innerHTML=e,this.setBackendClass(this.rs.backend),this.setState("connected");break;case"network-offline":this.online=!1,this.setState();break;case"network-online":this.online=!0,this.active=!0,this.setState();break;case"error":this.setBackendClass(this.rs.backend),"DiscoveryError"===b.name?this.handleDiscoveryError(b):"SyncError"===b.name?this.handleSyncError(b):"Unauthorized"===b.name?this.handleUnauthorized(b):console.debug("Encountered unhandled error",b)}},setState:function(a){if(a){this.log("Setting state ",a);var b=document.querySelector(".rs-box.rs-selected");b&&b.classList.remove("rs-selected");var c=document.querySelector(".rs-box.rs-box-"+a);c&&c.classList.add("rs-selected");var d=this.rsWidget.className.match(/rs-state-\S+/g)[0];this.rsWidget.classList.remove(d),this.rsWidget.classList.add("rs-state-"+(a||this.state)),this.closed&&"close"!==a&&this.rsWidget.classList.add("rs-state-close"),this.state=a}!this.online&&this.active?(this.rsWidget.classList.add("rs-state-offline"),this.rsConnectedLabel.textContent="Not Connected"):(this.rsConnectedLabel.textContent="Connected",this.rsWidget.classList.remove("rs-state-offline"))},createHtmlTemplate:function(){var a=document.createElement("div"),b=document.createElement("style");return b.innerHTML=c(3),a.id="remotestorage-widget",a.innerHTML=c(2),a.appendChild(b),a},setupElements:function(){this.rsWidget=document.querySelector(".rs-widget"),this.rsInitial=document.querySelector(".rs-box-initial"),this.rsChoose=document.querySelector(".rs-box-choose"),this.rsConnected=document.querySelector(".rs-box-connected"),this.rsSignIn=document.querySelector(".rs-box-sign-in"),this.rsConnectedLabel=document.querySelector(".rs-box-connected .rs-sub-headline"),this.rsChooseRemoteStorageButton=document.querySelector("button.rs-choose-rs"),this.rsChooseDropboxButton=document.querySelector("button.rs-choose-dropbox"),this.rsChooseGoogleDriveButton=document.querySelector("button.rs-choose-googledrive"),this.rsErrorBox=document.querySelector(".rs-box-error .rs-error-message"),this.rs.apiKeys.hasOwnProperty("googledrive")||this.rsChooseGoogleDriveButton.parentNode.removeChild(this.rsChooseGoogleDriveButton),this.rs.apiKeys.hasOwnProperty("dropbox")||this.rsChooseDropboxButton.parentNode.removeChild(this.rsChooseDropboxButton),this.rsSignInForm=document.querySelector(".rs-sign-in-form"),this.rsDisconnectButton=document.querySelector(".rs-disconnect"),this.rsSyncButton=document.querySelector(".rs-sync"),this.rsLogo=document.querySelector(".rs-widget-icon"),this.rsErrorReconnectLink=document.querySelector(".rs-box-error a.rs-reconnect"),this.rsErrorDisconnectButton=document.querySelector(".rs-box-error button.rs-disconnect"),this.rsConnectedUser=document.querySelector(".rs-connected-text h1.rs-user")},setupHandlers:function(){var a=this;this.rs.on("connected",function(){return a.eventHandler("connected")}),this.rs.on("ready",function(){return a.eventHandler("ready")}),this.rs.on("disconnected",function(){return a.eventHandler("disconnected")}),this.rs.on("network-online",function(){return a.eventHandler("network-online")}),this.rs.on("network-offline",function(){return a.eventHandler("network-offline")}),this.rs.on("error",function(b){return a.eventHandler("error",b)}),this.setEventListeners(),this.setClickHandlers()},attach:function(a){var b=this.createHtmlTemplate();if(a){var c=document.getElementById(a);if(!c)throw'Failed to find target DOM element with id="'+a+'"';c.appendChild(b)}else document.body.appendChild(b);this.setupElements(),this.setupHandlers()},setEventListeners:function(){var a=this;this.rsSignInForm.addEventListener("submit",function(b){b.preventDefault();var c=document.querySelector("input[name=rs-user-address]").value;a.rs.connect(c)})},showChooseOrSignIn:function(){this.rs.apiKeys&&Object.keys(this.rs.apiKeys).length>0?this.setState("choose"):this.setState("sign-in")},setClickHandlers:function(){var a=this;this.rsInitial.addEventListener("click",function(){return a.showChooseOrSignIn()}),this.rsChooseRemoteStorageButton.addEventListener("click",function(){return a.setState("sign-in")}),this.rsChooseDropboxButton.addEventListener("click",function(){return a.rs.dropbox.connect()}),this.rsChooseGoogleDriveButton.addEventListener("click",function(){return a.rs.googledrive.connect()}),this.rsDisconnectButton.addEventListener("click",function(){return a.rs.disconnect()}),this.rsErrorReconnectLink.addEventListener("click",function(){return a.rs.reconnect()}),this.rsErrorDisconnectButton.addEventListener("click",function(){return a.rs.disconnect()}),this.rs.hasFeature("Sync")&&this.rsSyncButton.addEventListener("click",function(){a.rsSyncButton.classList.contains("rs-rotate")?(a.rs.stopSync(),a.rsSyncButton.classList.remove("rs-rotate")):(a.rs.startSync(),a.rsSyncButton.classList.add("rs-rotate"))}),document.addEventListener("click",function(){return a.close()}),this.rsWidget.addEventListener("click",function(a){return a.stopPropagation()}),this.rsLogo.addEventListener("click",function(){return a.toggle()})},toggle:function(){this.closed?this.open():"initial"===this.state?this.showChooseOrSignIn():this.close()},open:function(){this.closed=!1,this.setState(this.active?"connected":"initial"),this.shouldCloseWhenSyncDone=!1},close:function(){"error"!==this.state&&(!this.leaveOpen&&this.active?(this.setState("close"),this.closed=!0):this.setState(this.active?"connected":"initial"))},setBackendClass:function(a){this.rsWidget.classList.remove("rs-backend-remotestorage"),this.rsWidget.classList.remove("rs-backend-dropbox"),this.rsWidget.classList.remove("rs-backend-googledrive"),a&&this.rsWidget.classList.add("rs-backend-"+a)},showErrorBox:function(a){this.rsErrorBox.innerHTML=a,this.setState("error")},hideErrorBox:function(){this.rsErrorBox.innerHTML="",this.setState("close")},handleDiscoveryError:function(a){var b=document.querySelector(".rs-sign-in-error");b.innerHTML=a.message,b.classList.remove("rs-hidden"),b.classList.add("rs-visible")},handleSyncError:function(){this.open(),this.showErrorBox("App sync error")},handleUnauthorized:function(a){a.code&&"access_denied"===a.code?this.rs.disconnect():(this.open(),this.showErrorBox(a.message+" "),this.rsErrorBox.appendChild(this.rsErrorReconnectLink),this.rsErrorReconnectLink.classList.remove("rs-hidden"))},updateLastSyncedOutput:function(){var a=new Date,b=Math.round((a.getTime()-this.lastSynced.getTime())/1e3);document.querySelector(".rs-box-connected .rs-sub-headline").innerHTML="Synced "+b+" seconds ago"}},a.exports=d},function(a,b){
a.exports=' <div class="rs-widget rs-state-initial"> <div class=rs-widget-icon> <svg class=rs-main-logo id=rs-main-logo-remotestorage xmlns=http://www.w3.org/2000/svg version=1.1 xml:space=preserve width=0.739008in height=0.853339in style=shape-rendering:geometricPrecision;text-rendering:geometricPrecision;image-rendering:optimizeQuality;fill-rule:evenodd;clip-rule:evenodd viewBox="0 0 739 853" xmlns:xlink=http://www.w3.org/1999/xlink> <g> <polygon class=rs-logo-shape points="370,754 0,542 0,640 185,747 370,853 554,747 739,640 739,525 739,525 739,476 739,427 739,378 653,427 370,589 86,427 86,427 86,361 185,418 370,524 554,418 653,361 739,311 739,213 739,213 554,107 370,0 185,107 58,180 144,230 228,181 370,100 511,181 652,263 370,425 87,263 87,263 0,213 0,213 0,311 0,378 0,427 0,476 86,525 185,582 370,689 554,582 653,525 653,590 653,592 "/> </g> </svg> <svg class=rs-main-logo id=rs-main-logo-dropbox width=40 height=36 xml:space=preserve stroke-miterlimit=1.4142 xmlns=http://www.w3.org/2000/svg viewBox="0 0 104 97" stroke-linejoin=round version=1.1 clip-rule=evenodd> <path d="m30.691 0l-30.691 20.039 21.221 16.994 30.946-19.108-21.476-17.925z" fill=#007ee5 /> <path d="m0 54.028l30.691 20.039 21.476-17.926-30.945-19.108-21.222 16.995z" fill=#007ee5 /> <path d="m52.167 56.142l21.477 17.926 30.696-20.039-21.227-16.995-30.946 19.108z" fill=#007ee5 /> <path d="m104.34 20.039l-30.696-20.039-21.477 17.925 30.946 19.108 21.227-16.994z" fill=#007ee5 /> <path d="m52.23 59.998l-21.538 17.873-9.218-6.018v6.747l30.756 18.443 30.756-18.443v-6.747l-9.216 6.018-21.54-17.873z" fill=#007ee5 /> </svg> <svg class=rs-main-logo id=rs-main-logo-googledrive width=40 height=40 version=1.1 stroke-miterlimit=1.4142 xml:space=preserve xmlns=http://www.w3.org/2000/svg width=100% stroke-linejoin=round clip-rule=evenodd viewBox="0 0 511 442" height=100%> <path d="m166.23 0.10955l0.44-0.009998 0.04 0.49-0.56 0.02 0.08-0.5z" fill=#0ba25e /> <path d="m164.52 3.3896c0.39-0.56 1.15-1.68 1.54-2.24l0.7-0.11c0.52 6.34 2.38 12.45 3.78 18.62 6.02 26.81 12.1 53.6 18.43 80.33 4.15 18.33 8.78 36.57 12.58 54.97 3.3 11.39 5.07 23.14 8.26 34.55 2.06 10.64 5.29 21.02 7.02 31.72-0.7 1.17-1.4 2.35-2.11 3.52-0.17 0.27-0.53 0.83-0.7 1.11l-0.26 0.45c-0.04 0.08-0.13 0.25-0.18 0.33-0.39 0.72-1.17 2.15-1.56 2.86-0.07 0.13-0.22 0.39-0.3 0.52l-0.71 1.26c-0.09 0.15-0.26 0.44-0.34 0.59l-0.83 1.45c-0.04 0.08-0.13 0.24-0.18 0.32l-1.03 1.8c-0.09 0.15-0.27 0.47-0.36 0.63-0.1 0.17-0.3 0.5-0.4 0.67l-1.01 1.74c-0.08 0.13-0.24 0.41-0.32 0.54l-0.62 1.05c-0.1 0.18-0.32 0.55-0.42 0.73-0.4 0.69-1.19 2.07-1.59 2.77-0.07 0.12-0.22 0.37-0.29 0.5l-0.63 1.05c-0.1 0.19-0.32 0.55-0.43 0.74-0.37 0.65-1.13 1.94-1.5 2.59-0.09 0.15-0.26 0.46-0.35 0.61l-0.75 1.35c-0.07 0.12-0.21 0.37-0.28 0.49l-0.77 1.35-0.32 0.56c-0.4 0.66-1.18 1.99-1.57 2.66-0.09 0.15-0.27 0.46-0.36 0.62l-0.71 1.28c-0.07 0.12-0.2 0.35-0.26 0.47l-0.82 1.42c-0.07 0.13-0.22 0.38-0.29 0.5-0.42 0.72-1.25 2.15-1.67 2.87-0.07 0.13-0.23 0.39-0.31 0.52l-0.6 0.99c-0.1 0.18-0.31 0.53-0.41 0.71-0.38 0.66-1.13 1.97-1.51 2.63-0.06 0.11-0.2 0.35-0.26 0.46l-0.82 1.46c-0.06 0.11-0.18 0.32-0.24 0.43l-0.84 1.47c-0.07 0.11-0.21 0.35-0.28 0.46-0.39 0.66-1.18 1.96-1.57 2.62-0.11 0.17-0.31 0.53-0.42 0.71l-0.59 1.1c-0.08 0.14-0.23 0.42-0.3 0.55l-1.03 1.78c-0.08 0.15-0.26 0.45-0.34 0.6-0.09 0.14-0.25 0.43-0.33 0.57-1.69 2.85-3.22 5.79-5.09 8.53-10.65 17.37-20.45 35.28-30.76 52.86-16.74 28.97-33.46 57.94-50.2 86.91-2.51 4.51-5.37 8.83-7.53 13.54-0.11 0.16-0.33 0.48-0.44 0.64-4.01-5.78-7.11-12.16-10.78-18.16-16.74-28.99-33.49-57.97-50.22-86.97-9.3-16.31-18.99-32.42-28.04-48.88 35.84-61.85 71.52-123.81 107.29-185.7 0.03-0.06 0.1-0.17 0.13-0.23l0.98-1.68c0.04-0.07 0.12-0.21 0.17-0.28l0.99-1.69c0.09-0.15 0.27-0.47 0.37-0.62 0.1-0.18 0.3-0.53 0.4-0.71l0.99-1.76 0.28-0.48 0.74-1.18c0.13-0.19 0.39-0.58 0.52-0.78 0.36-0.54 1.09-1.63 1.46-2.17 0.04-0.18 0.11-0.53 0.15-0.7l0.87-1.67 0.16-0.28 1-1.68c0.1-0.16 0.3-0.5 0.4-0.67 0.11-0.19 0.33-0.58 0.45-0.78l0.84-1.47c0.09-0.16 0.27-0.47 0.36-0.62l0.7-1.23c0.08-0.13 0.24-0.41 0.32-0.55 0.39-0.67 1.17-2.01 1.57-2.68l0.32-0.56 0.73-1.33c0.06-0.1 0.18-0.32 0.24-0.42l0.96-1.68c0.12-0.2 0.37-0.61 0.5-0.81l0.65-0.98c0.14-0.2 0.41-0.59 0.55-0.78 0.12-0.2 0.37-0.6 0.5-0.8l0.54-1.04c0.18-0.39 0.55-1.17 0.73-1.56l0.55-0.77c0.1-0.14 0.29-0.41 0.39-0.55 0.37-0.31 1.12-0.95 1.49-1.27l-0.07-1.17c0.06-0.14 0.2-0.42 0.27-0.56l0.85-1.69c0.07-0.12 0.21-0.37 0.28-0.49l0.75-1.22c0.14-0.2 0.41-0.6 0.55-0.8 0.34-0.56 1.03-1.66 1.37-2.21 0.1-0.2 0.28-0.59 0.38-0.79l0.53-1.15c0.16-0.3 0.5-0.91 0.67-1.22l0.66-0.94c0.14-0.19 0.42-0.57 0.56-0.76 0.12-0.2 0.37-0.6 0.49-0.8l0.49-1.03c0.11-0.23 0.34-0.7 0.45-0.93l0.86-1.66c0.13-0.2 0.38-0.62 0.5-0.83l0.66-0.98c0.14-0.2 0.42-0.58 0.56-0.78 0.13-0.2 0.38-0.61 0.5-0.81l0.51-1.04c0.15-0.29 0.44-0.86 0.58-1.15l0.68-1.12c0.12-0.19 0.36-0.57 0.49-0.76 0.36-0.56 1.09-1.68 1.46-2.23 0.04-0.17 0.13-0.51 0.17-0.68l0.87-1.66c0.03-0.07 0.11-0.2 0.15-0.27l1-1.71c0.1-0.17 0.29-0.5 0.39-0.67 0.1-0.16 0.29-0.5 0.39-0.66l1-1.75c0.04-0.07 0.12-0.21 0.16-0.29l0.94-1.63c0.05-0.07 0.14-0.22 0.18-0.3l1.01-1.7c0.09-0.16 0.27-0.46 0.36-0.62 0.1-0.17 0.3-0.52 0.4-0.7l0.96-1.69c0.06-0.11 0.18-0.32 0.24-0.42l0.81-1.31c0.13-0.19 0.39-0.58 0.51-0.77 0.37-0.55 1.09-1.65 1.46-2.2 0.03-0.17 0.11-0.51 0.15-0.68l0.85-1.63c0.07-0.12 0.22-0.37 0.29-0.5l0.76-1.19c0.14-0.19 0.4-0.58 0.54-0.78 0.35-0.56 1.05-1.67 1.4-2.23 0.05-0.16 0.14-0.48 0.19-0.64l0.88-1.65c0.04-0.08 0.12-0.22 0.16-0.3l1.02-1.7204c0.08-0.15 0.26-0.45 0.35-0.6 0.09-0.17 0.27-0.49 0.36-0.65l1-1.78c0.05-0.07 0.13-0.22 0.17-0.29l0.95-1.61c0.03-0.05 0.1-0.16 0.13-0.21z" fill=#0ba25e /> <path id=#fccd48ff fill=#fccd48 d="m166.67 0.099552c32.48-0.15 64.97-0.02 97.46-0.07 26.88 0.099998 53.78-0.21 80.65 0.15 0.53 1.02 1.07 2.03 1.64 3.04 0.08 0.13 0.23 0.41 0.31 0.55 2.6 4.53 5.24 9.0404 7.81 13.58 0.05 0.08 0.13 0.23 0.18 0.3 4.98 8.55 9.94 17.11 14.83 25.71 0.04 0.07 0.13 0.21 0.17 0.29 0.89 1.53 1.81 3.06 2.72 4.6 0.08 0.13 0.23 0.4 0.31 0.54 1.25 2.2 2.51 4.39 3.78 6.58 0.05 0.07 0.13 0.21 0.17 0.29 1.27 2.18 2.52 4.38 3.78 6.58 0.08 0.13 0.23 0.39 0.31 0.52 1.27 2.14 2.5 4.3 3.72 6.46 0.08 0.13 0.23 0.4 0.31 0.53 11.94 20.62 23.85 41.25 35.75 61.9-1.36 5.99 1.93 11.95 0.1 17.97-1.11 16.45-7.32 32.46-17.56 45.38-3.33 3.61-0.1 8.62-0.46 12.9-3.59 4.35-8.21 7.6-12.57 11.11 0.01 3.28 0.02 6.56-0.13 9.85-3.89 2.57-8.35 4.06-12.3 6.54-0.42 1.33-0.85 2.67-1.26 4.02-3.17 1.5-6.56 2.47-9.73 3.99-12.55-3.6-24.97-7.61-37.49-11.32-11.65-3.85-23.58-6.87-35.11-11.11l-0.66-1.18c-0.06-0.09-0.16-0.27-0.21-0.36l-0.95-1.61-0.4-0.68c-0.09-0.15-0.25-0.44-0.34-0.59-0.71-1.26-1.36-2.55-1.94-3.87l-0.06-0.13-0.07-0.1c-0.44-0.7-1.33-2.11-1.78-2.81-0.05-0.08-0.15-0.24-0.2-0.33l-0.29-0.46c-0.17-0.29-0.52-0.86-0.69-1.15-0.43-0.73-1.3-2.19-1.73-2.92-0.11-0.18-0.32-0.55-0.43-0.73l-0.61-1.04c-0.08-0.14-0.24-0.41-0.32-0.55l-0.97-1.67c-0.04-0.07-0.13-0.21-0.17-0.29l-1.02-1.75c-0.09-0.16-0.27-0.48-0.36-0.63-0.1-0.18-0.31-0.55-0.41-0.73l-0.83-1.46c-0.1-0.17-0.3-0.53-0.4-0.7l-0.64-1.13c-0.09-0.15-0.26-0.45-0.35-0.6-0.39-0.72-1.18-2.15-1.58-2.87-0.04-0.08-0.14-0.25-0.18-0.33l-0.27-0.47c-0.19-0.28-0.56-0.84-0.75-1.12-0.99-1.66-1.92-3.36-2.81-5.07-0.05-0.08-0.14-0.25-0.18-0.33l-0.26-0.46c-0.19-0.27-0.57-0.81-0.76-1.07-0.44-0.79-1.32-2.37-1.76-3.16-0.05-0.08-0.15-0.25-0.19-0.34l-0.27-0.48c-0.2-0.33-0.59-0.98-0.79-1.31l-0.86-1.45c-0.08-0.14-0.25-0.42-0.34-0.57-0.38-0.66-1.15-1.99-1.54-2.65-0.09-0.15-0.26-0.46-0.35-0.62-0.68-1.13-1.33-2.27-1.97-3.41-0.05-0.09-0.16-0.27-0.21-0.36l-0.95-1.63c-0.1-0.16-0.29-0.48-0.38-0.65-0.09-0.15-0.26-0.45-0.35-0.6l-1.01-1.76c-0.05-0.08-0.14-0.25-0.19-0.33l-0.82-1.47c-0.07-0.12-0.2-0.35-0.27-0.47-0.38-0.67-1.15-2-1.53-2.67-0.08-0.14-0.24-0.41-0.32-0.54-0.62-1.03-1.24-2.07-1.84-3.1-27.73-48.12-55.5-96.21-83.29-144.3-1.74-3.0004-3.32-6.1204-5.45-8.8804l-0.05-0.45005-0.04-0.49z"/> <path d="m166.15 0.60955l0.56-0.02 0.05 0.45005-0.7 0.11 0.09-0.54005z" fill=#089156 /> <path d="m166.76 1.0396c2.13 2.76 3.71 5.88 5.45 8.88 27.79 48.09 55.56 96.18 83.29 144.3-12.84 22.36-25.78 44.67-38.67 67.01-1.73-10.7-4.96-21.08-7.02-31.72-3.19-11.41-4.96-23.16-8.26-34.55-3.8-18.4-8.43-36.64-12.58-54.97-6.33-26.73-12.41-53.52-18.43-80.33-1.4-6.17-3.26-12.28-3.78-18.62z" fill=#089156 /> <path d="m164.39 3.5996c0.03-0.05 0.1-0.16 0.13-0.21-0.03 0.05-0.1 0.16-0.13 0.21z" fill=#089156 /> <path d="m163.27 5.4996c0.05-0.07 0.13-0.22 0.17-0.29-0.04 0.07-0.12 0.22-0.17 0.29z" fill=#089156 /> <path d="m161.91 7.9296c0.09-0.17 0.27-0.49 0.36-0.65-0.09 0.16-0.27 0.48-0.36 0.65z" fill=#089156 /> <path d="m161.56 8.5296c0.08-0.15 0.26-0.45 0.35-0.6-0.09 0.15-0.27 0.45-0.35 0.6z" fill=#089156 /> <path d="m160.38 10.55c0.04-0.08 0.12-0.22 0.16-0.3-0.04 0.08-0.12 0.22-0.16 0.3z" fill=#089156 /> <path d="m159.31 12.84c0.05-0.16 0.14-0.48 0.19-0.64-0.05 0.16-0.14 0.48-0.19 0.64z" fill=#089156 /> <path d="m157.91 15.07c0.35-0.56 1.05-1.67 1.4-2.23-0.35 0.56-1.05 1.67-1.4 2.23z" fill=#089156 /> <path d="m157.37 15.85c0.14-0.19 0.4-0.58 0.54-0.78-0.14 0.2-0.4 0.59-0.54 0.78z" fill=#089156 /> <path d="m156.32 17.54c0.07-0.12 0.22-0.37 0.29-0.5-0.07 0.13-0.22 0.38-0.29 0.5z" fill=#089156 /> <path d="m155.32 19.85c0.03-0.17 0.11-0.51 0.15-0.68-0.04 0.17-0.12 0.51-0.15 0.68z" fill=#089156 /> <path d="m153.86 22.05c0.37-0.55 1.09-1.65 1.46-2.2-0.37 0.55-1.09 1.65-1.46 2.2z" fill=#089156 /> <path d="m153.35 22.82c0.13-0.19 0.39-0.58 0.51-0.77-0.12 0.19-0.38 0.58-0.51 0.77z" fill=#089156 /> <path d="m152.3 24.55c0.06-0.11 0.18-0.32 0.24-0.42-0.06 0.1-0.18 0.31-0.24 0.42z" fill=#089156 /> <path d="m150.94 26.94c0.1-0.17 0.3-0.52 0.4-0.7-0.1 0.18-0.3 0.53-0.4 0.7z" fill=#089156 /> <path d="m150.58 27.56c0.09-0.16 0.27-0.46 0.36-0.62-0.09 0.16-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m149.39 29.56c0.05-0.07 0.14-0.22 0.18-0.3-0.04 0.08-0.13 0.23-0.18 0.3z" fill=#089156 /> <path d="m148.29 31.48c0.04-0.07 0.12-0.21 0.16-0.29-0.04 0.08-0.12 0.22-0.16 0.29z" fill=#089156 /> <path d="m146.9 33.89c0.1-0.16 0.29-0.5 0.39-0.66-0.1 0.16-0.29 0.5-0.39 0.66z" fill=#089156 /> <path d="m146.51 34.56c0.1-0.17 0.29-0.5 0.39-0.67-0.1 0.17-0.29 0.5-0.39 0.67z" fill=#089156 /> <path d="m145.36 36.54c0.03-0.07 0.11-0.2 0.15-0.27-0.04 0.07-0.12 0.2-0.15 0.27z" fill=#089156 /> <path d="m144.32 38.88c0.04-0.17 0.13-0.51 0.17-0.68-0.04 0.17-0.13 0.51-0.17 0.68z" fill=#089156 /> <path d="m142.86 41.11c0.36-0.56 1.09-1.68 1.46-2.23-0.37 0.55-1.1 1.67-1.46 2.23z" fill=#089156 /> <path d="m142.37 41.87c0.12-0.19 0.36-0.57 0.49-0.76-0.13 0.19-0.37 0.57-0.49 0.76z" fill=#089156 /> <path d="m141.11 44.14c0.15-0.29 0.44-0.86 0.58-1.15-0.14 0.29-0.43 0.86-0.58 1.15z" fill=#089156 /> <path d="m140.1 45.99c0.13-0.2 0.38-0.61 0.5-0.81-0.12 0.2-0.37 0.61-0.5 0.81z" fill=#089156 /> <path d="m139.54 46.77c0.14-0.2 0.42-0.58 0.56-0.78-0.14 0.2-0.42 0.58-0.56 0.78z" fill=#089156 /> <path d="m138.38 48.58c0.13-0.2 0.38-0.62 0.5-0.83-0.12 0.21-0.37 0.63-0.5 0.83z" fill=#089156 /> <path d="m137.07 51.17c0.11-0.23 0.34-0.7 0.45-0.93-0.11 0.23-0.34 0.7-0.45 0.93z" fill=#089156 /> <path d="m136.09 53c0.12-0.2 0.37-0.6 0.49-0.8-0.12 0.2-0.37 0.6-0.49 0.8z" fill=#089156 /> <path d="m135.53 53.76c0.14-0.19 0.42-0.57 0.56-0.76-0.14 0.19-0.42 0.57-0.56 0.76z" fill=#089156 /> <path d="m134.2 55.92c0.16-0.3 0.5-0.91 0.67-1.22-0.17 0.31-0.51 0.92-0.67 1.22z" fill=#089156 /> <path d="m133.29 57.86c0.1-0.2 0.28-0.59 0.38-0.79-0.1 0.2-0.28 0.59-0.38 0.79z" fill=#089156 /> <path d="m131.92 60.07c0.34-0.56 1.03-1.66 1.37-2.21-0.34 0.55-1.03 1.65-1.37 2.21z" fill=#089156 /> <path d="m131.37 60.87c0.14-0.2 0.41-0.6 0.55-0.8-0.14 0.2-0.41 0.6-0.55 0.8z" fill=#089156 /> <path d="m130.34 62.58c0.07-0.12 0.21-0.37 0.28-0.49-0.07 0.12-0.21 0.37-0.28 0.49z" fill=#089156 /> <path d="m129.22 64.83c0.06-0.14 0.2-0.42 0.27-0.56-0.07 0.14-0.21 0.42-0.27 0.56z" fill=#089156 /> <path d="m127.8 67.27c0.35-0.61 1.06-1.83 1.42-2.44l0.07 1.17c-0.37 0.32-1.12 0.96-1.49 1.27z" fill=#089156 /> <path d="m127.41 67.82c0.1-0.14 0.29-0.41 0.39-0.55-0.1 0.14-0.29 0.41-0.39 0.55z" fill=#089156 /> <path d="m126.13 70.15c0.18-0.39 0.55-1.17 0.73-1.56-0.18 0.39-0.55 1.17-0.73 1.56z" fill=#089156 /> <path d="m125.09 71.99c0.12-0.2 0.37-0.6 0.5-0.8-0.13 0.2-0.38 0.6-0.5 0.8z" fill=#089156 /> <path d="m124.54 72.77c0.14-0.2 0.41-0.59 0.55-0.78-0.14 0.19-0.41 0.58-0.55 0.78z" fill=#089156 /> <path d="m123.39 74.56c0.12-0.2 0.37-0.61 0.5-0.81-0.13 0.2-0.38 0.61-0.5 0.81z" fill=#089156 /> <path d="m122.19 76.66c0.06-0.1 0.18-0.32 0.24-0.42-0.06 0.1-0.18 0.32-0.24 0.42z" fill=#089156 /> <path d="m121.14 78.55l0.32-0.56-0.32 0.56z" fill=#089156 /> <path d="m119.25 81.78c0.08-0.13 0.24-0.41 0.32-0.55-0.08 0.14-0.24 0.42-0.32 0.55z" fill=#089156 /> <path d="m118.19 83.63c0.09-0.16 0.27-0.47 0.36-0.62-0.09 0.15-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m116.9 85.88c0.11-0.19 0.33-0.58 0.45-0.78-0.12 0.2-0.34 0.59-0.45 0.78z" fill=#089156 /> <path d="m116.5 86.55c0.1-0.16 0.3-0.5 0.4-0.67-0.1 0.17-0.3 0.51-0.4 0.67z" fill=#089156 /> <path d="m115.34 88.51l0.16-0.28-0.16 0.28z" fill=#089156 /> <path d="m114.32 90.88c0.04-0.18 0.11-0.53 0.15-0.7-0.04 0.17-0.11 0.52-0.15 0.7z" fill=#089156 /> <path d="m112.86 93.05c0.36-0.54 1.09-1.63 1.46-2.17-0.37 0.54-1.1 1.63-1.46 2.17z" fill=#089156 /> <path d="m112.34 93.83c0.13-0.19 0.39-0.58 0.52-0.78-0.13 0.2-0.39 0.59-0.52 0.78z" fill=#089156 /> <path d="m111.32 95.49l0.28-0.48-0.28 0.48z" fill=#089156 /> <path d="m109.93 97.96c0.1-0.18 0.3-0.53 0.4-0.71-0.1 0.18-0.3 0.53-0.4 0.71z" fill=#089156 /> <path d="m109.56 98.58c0.09-0.15 0.27-0.47 0.37-0.62-0.1 0.15-0.28 0.47-0.37 0.62z" fill=#089156 /> <path d="m108.4 100.55c0.04-0.07 0.12-0.21 0.17-0.28-0.05 0.07-0.13 0.21-0.17 0.28z" fill=#089156 /> <path d="m107.29 102.46c0.03-0.06 0.1-0.17 0.13-0.23-0.03 0.06-0.1 0.17-0.13 0.23z" fill=#089156 /> <path d="m214.02 225.86c0.17-0.28 0.53-0.84 0.7-1.11-0.17 0.27-0.53 0.83-0.7 1.11z" fill=#089156 /> <path d="m213.58 226.64c0.05-0.08 0.14-0.25 0.18-0.33-0.04 0.08-0.13 0.25-0.18 0.33z" fill=#089156 /> <path d="m211.72 230.02c0.08-0.13 0.23-0.39 0.3-0.52-0.07 0.13-0.22 0.39-0.3 0.52z" fill=#089156 /> <path d="m210.67 231.87c0.08-0.15 0.25-0.44 0.34-0.59-0.09 0.15-0.26 0.44-0.34 0.59z" fill=#089156 /> <path d="m209.66 233.64c0.05-0.08 0.14-0.24 0.18-0.32-0.04 0.08-0.13 0.24-0.18 0.32z" fill=#089156 /> <path d="m208.27 236.07c0.09-0.16 0.27-0.48 0.36-0.63-0.09 0.15-0.27 0.47-0.36 0.63z" fill=#089156 /> <path d="m207.87 236.74c0.1-0.17 0.3-0.5 0.4-0.67-0.1 0.17-0.3 0.5-0.4 0.67z" fill=#089156 /> <path d="m206.54 239.02c0.08-0.13 0.24-0.41 0.32-0.54-0.08 0.13-0.24 0.41-0.32 0.54z" fill=#089156 /> <path d="m205.5 240.8c0.1-0.18 0.32-0.55 0.42-0.73-0.1 0.18-0.32 0.55-0.42 0.73z" fill=#089156 /> <path d="m203.62 244.07c0.07-0.13 0.22-0.38 0.29-0.5-0.07 0.12-0.22 0.37-0.29 0.5z" fill=#089156 /> <path d="m202.56 245.86c0.11-0.19 0.33-0.55 0.43-0.74-0.1 0.19-0.32 0.55-0.43 0.74z" fill=#089156 /> <path d="m200.71 249.06c0.09-0.15 0.26-0.46 0.35-0.61-0.09 0.15-0.26 0.46-0.35 0.61z" fill=#089156 /> <path d="m199.68 250.9c0.07-0.12 0.21-0.37 0.28-0.49-0.07 0.12-0.21 0.37-0.28 0.49z" fill=#089156 /> <path d="m198.59 252.81l0.32-0.56-0.32 0.56z" fill=#089156 /> <path d="m196.66 256.09c0.09-0.16 0.27-0.47 0.36-0.62-0.09 0.15-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m195.69 257.84c0.06-0.12 0.19-0.35 0.26-0.47-0.07 0.12-0.2 0.35-0.26 0.47z" fill=#089156 /> <path d="m194.58 259.76c0.07-0.12 0.22-0.37 0.29-0.5-0.07 0.13-0.22 0.38-0.29 0.5z" fill=#089156 /> <path d="m192.6 263.15c0.08-0.13 0.24-0.39 0.31-0.52-0.07 0.13-0.23 0.39-0.31 0.52z" fill=#089156 /> <path d="m191.59 264.85c0.1-0.18 0.31-0.53 0.41-0.71-0.1 0.18-0.31 0.53-0.41 0.71z" fill=#089156 /> <path d="m189.82 267.94c0.06-0.11 0.2-0.35 0.26-0.46-0.06 0.11-0.2 0.35-0.26 0.46z" fill=#089156 /> <path d="m188.76 269.83c0.06-0.11 0.18-0.32 0.24-0.43-0.06 0.11-0.18 0.32-0.24 0.43z" fill=#089156 /> <path d="m187.64 271.76c0.07-0.11 0.21-0.35 0.28-0.46-0.07 0.11-0.21 0.35-0.28 0.46z" fill=#089156 /> <path d="m185.65 275.09c0.11-0.18 0.31-0.54 0.42-0.71-0.11 0.17-0.31 0.53-0.42 0.71z" fill=#089156 /> <path d="m184.76 276.74c0.07-0.13 0.22-0.41 0.3-0.55-0.08 0.14-0.23 0.42-0.3 0.55z" fill=#089156 /> <path d="m183.39 279.12c0.08-0.15 0.26-0.45 0.34-0.6-0.08 0.15-0.26 0.45-0.34 0.6z" fill=#089156 /> <path d="m183.06 279.69c0.08-0.14 0.24-0.43 0.33-0.57-0.09 0.14-0.25 0.43-0.33 0.57z" fill=#089156 /> <path d="m346.42 3.2196c0.08 0.13 0.23 0.41 0.31 0.55-0.08-0.14-0.23-0.42-0.31-0.55z" fill=#10985b /> <path d="m354.54 17.35c0.05 0.08 0.13 0.23 0.18 0.3-0.05-0.07-0.13-0.22-0.18-0.3z" fill=#10985b /> <path d="m369.55 43.36c0.04 0.07 0.13 0.21 0.17 0.29-0.04-0.08-0.13-0.22-0.17-0.29z" fill=#10985b /> <path d="m372.44 48.25c0.08 0.13 0.23 0.4 0.31 0.54-0.08-0.14-0.23-0.41-0.31-0.54z" fill=#10985b /> <path d="m376.53 55.37c0.05 0.07 0.13 0.21 0.17 0.29-0.04-0.08-0.12-0.22-0.17-0.29z" fill=#10985b /> <path d="m380.48 62.24c0.08 0.13 0.23 0.39 0.31 0.52-0.08-0.13-0.23-0.39-0.31-0.52z" fill=#10985b /> <path d="m384.51 69.22c0.08 0.13 0.23 0.4 0.31 0.53-0.08-0.13-0.23-0.4-0.31-0.53z" fill=#10985b /> <path d="m420.57 131.65c17.39 30.13 34.89 60.21 52.14 90.43 0.08 0.13 0.24 0.41 0.32 0.54 0.4 0.66 1.2 1.97 1.59 2.62 0.08 0.13 0.24 0.4 0.32 0.53l0.8 1.37c0.05 0.09 0.15 0.28 0.21 0.37l1 1.74c0.1 0.17 0.29 0.52 0.39 0.69 0.09 0.15 0.27 0.46 0.36 0.62l0.98 1.7 0.16 0.28 0.98 1.68c0.04 0.07 0.12 0.2 0.16 0.27l0.98 1.7c0.1 0.17 0.29 0.5 0.39 0.67 0.09 0.17 0.28 0.5 0.37 0.66l1.01 1.78c0.14 0.35 0.42 1.03 0.56 1.37l0.28 0.55 0.13 0.29 0.22 0.29 0.59 0.89c0.21 0.33 0.62 0.99 0.83 1.32 0.12 0.2 0.38 0.6 0.5 0.8l0.66 1.05c0.2 0.45 0.6 1.36 0.8 1.81l0.3 0.54 0.11 0.21 0.09 0.13c0.44 0.65 1.31 1.96 1.75 2.61 0.11 0.18 0.33 0.54 0.45 0.72l0.6 1c0.09 0.16 0.27 0.47 0.36 0.62l1.01 1.77c0.09 0.16 0.27 0.48 0.36 0.64s0.27 0.47 0.36 0.63l1 1.71c0.04 0.08 0.13 0.23 0.18 0.3l0.91 1.6c0.06 0.1 0.18 0.31 0.24 0.41l0.92 1.61c0.11 0.18 0.32 0.55 0.43 0.73 0.09 0.16 0.28 0.48 0.37 0.64 0.74 1.23 1.45 2.48 2.11 3.76 0.1 0.21 0.3 0.63 0.39 0.84l0.46 1.04c0.12 0.2 0.36 0.61 0.47 0.81 0.15 0.2 0.44 0.58 0.59 0.77l0.69 0.98c0.12 0.19 0.36 0.57 0.49 0.77l1.01 1.75c0.09 0.16 0.27 0.48 0.36 0.64s0.27 0.47 0.37 0.63l1 1.72c0.04 0.08 0.12 0.22 0.16 0.29l0.95 1.66c0.04 0.07 0.12 0.2 0.16 0.27l0.97 1.69c0.1 0.17 0.3 0.51 0.4 0.69 0.1 0.17 0.3 0.51 0.39 0.68l1 1.72c0.04 0.07 0.11 0.21 0.15 0.28l1.06 1.98-0.01 0.9c-25.02-7.19-49.64-15.72-74.73-22.65-22.77-7.35-45.75-14.04-68.52-21.35 3.17-1.52 6.56-2.49 9.73-3.99 0.41-1.35 0.84-2.69 1.26-4.02 3.95-2.48 8.41-3.97 12.3-6.54 0.15-3.29 0.14-6.57 0.13-9.85 4.36-3.51 8.98-6.76 12.57-11.11 0.36-4.28-2.87-9.29 0.46-12.9 10.24-12.92 16.45-28.93 17.56-45.38 1.83-6.02-1.46-11.98-0.1-17.97z" fill=#f9c941 /> <path d="m509.91 287.41l0.52 0.02 0.29 0.76-0.59 0.04-0.22-0.82z" fill=#f9c941 /> <path d="m257.34 157.32c0.08 0.13 0.24 0.4 0.32 0.54-0.08-0.14-0.24-0.41-0.32-0.54z" fill=#e3b73a /> <path d="m259.19 160.53c0.07 0.12 0.2 0.35 0.27 0.47-0.07-0.12-0.2-0.35-0.27-0.47z" fill=#e3b73a /> <path d="m260.28 162.47c0.05 0.08 0.14 0.25 0.19 0.33-0.05-0.08-0.14-0.25-0.19-0.33z" fill=#e3b73a /> <path d="m261.48 164.56c0.09 0.15 0.26 0.45 0.35 0.6-0.09-0.15-0.26-0.45-0.35-0.6z" fill=#e3b73a /> <path d="m261.83 165.16c0.09 0.17 0.28 0.49 0.38 0.65-0.1-0.16-0.29-0.48-0.38-0.65z" fill=#e3b73a /> <path d="m263.16 167.44c0.05 0.09 0.16 0.27 0.21 0.36-0.05-0.09-0.16-0.27-0.21-0.36z" fill=#e3b73a /> <path d="m265.34 171.21c0.09 0.16 0.26 0.47 0.35 0.62-0.09-0.15-0.26-0.46-0.35-0.62z" fill=#e3b73a /> <path d="m267.23 174.48c0.09 0.15 0.26 0.43 0.34 0.57-0.08-0.14-0.25-0.42-0.34-0.57z" fill=#e3b73a /> <path d="m268.43 176.5c0.2 0.33 0.59 0.98 0.79 1.31-0.2-0.33-0.59-0.98-0.79-1.31z" fill=#e3b73a /> <path d="m269.49 178.29c0.04 0.09 0.14 0.26 0.19 0.34-0.05-0.08-0.15-0.25-0.19-0.34z" fill=#e3b73a /> <path d="m271.44 181.79c0.19 0.26 0.57 0.8 0.76 1.07-0.19-0.27-0.57-0.81-0.76-1.07z" fill=#e3b73a /> <path d="m272.46 183.32c0.04 0.08 0.13 0.25 0.18 0.33-0.05-0.08-0.14-0.25-0.18-0.33z" fill=#e3b73a /> <path d="m275.45 188.72c0.19 0.28 0.56 0.84 0.75 1.12-0.19-0.28-0.56-0.84-0.75-1.12z" fill=#e3b73a /> <path d="m276.47 190.31c0.04 0.08 0.14 0.25 0.18 0.33-0.04-0.08-0.14-0.25-0.18-0.33z" fill=#e3b73a /> <path d="m278.23 193.51c0.09 0.15 0.26 0.45 0.35 0.6-0.09-0.15-0.26-0.45-0.35-0.6z" fill=#e3b73a /> <path d="m279.22 195.24c0.1 0.17 0.3 0.53 0.4 0.7-0.1-0.17-0.3-0.53-0.4-0.7z" fill=#e3b73a /> <path d="m280.45 197.4c0.1 0.18 0.31 0.55 0.41 0.73-0.1-0.18-0.31-0.55-0.41-0.73z" fill=#e3b73a /> <path d="m280.86 198.13c0.09 0.15 0.27 0.47 0.36 0.63-0.09-0.16-0.27-0.48-0.36-0.63z" fill=#e3b73a /> <path d="m282.24 200.51c0.04 0.08 0.13 0.22 0.17 0.29-0.04-0.07-0.13-0.21-0.17-0.29z" fill=#e3b73a /> <path d="m283.38 202.47c0.08 0.14 0.24 0.41 0.32 0.55-0.08-0.14-0.24-0.41-0.32-0.55z" fill=#e3b73a /> <path d="m284.31 204.06c0.11 0.18 0.32 0.55 0.43 0.73-0.11-0.18-0.32-0.55-0.43-0.73z" fill=#e3b73a /> <path d="m286.47 207.71c0.17 0.29 0.52 0.86 0.69 1.15-0.17-0.29-0.52-0.86-0.69-1.15z" fill=#e3b73a /> <path d="m287.45 209.32c0.05 0.09 0.15 0.25 0.2 0.33-0.05-0.08-0.15-0.24-0.2-0.33z" fill=#e3b73a /> <path d="m289.43 212.46l0.07 0.1 0.06 0.13c-0.03-0.06-0.1-0.17-0.13-0.23z" fill=#e3b73a /> <path d="m291.5 216.56c0.09 0.15 0.25 0.44 0.34 0.59-0.09-0.15-0.25-0.44-0.34-0.59z" fill=#e3b73a /> <path d="m291.84 217.15l0.4 0.68-0.4-0.68z" fill=#e3b73a /> <path d="m293.19 219.44c0.05 0.09 0.15 0.27 0.21 0.36-0.06-0.09-0.16-0.27-0.21-0.36z" fill=#e3b73a /> <path d="m294.06 220.98c11.53 4.24 23.46 7.26 35.11 11.11 12.52 3.71 24.94 7.72 37.49 11.32 22.77 7.31 45.75 14 68.52 21.35-0.34 4.87 0.62 9.86-0.59 14.64-0.93 4.65-6.49 5.38-8.78 9.09-30.77 0.01-61.53 0.1-92.29-0.03l-0.66-0.05c-12.71-22.6-25.93-44.92-38.8-67.43z" fill=#e3b73a /> <path d="m472.71 222.08c0.08 0.13 0.24 0.41 0.32 0.54-0.08-0.13-0.24-0.41-0.32-0.54z" fill=#e8b835 /> <path d="m474.62 225.24c0.08 0.13 0.24 0.4 0.32 0.53-0.08-0.13-0.24-0.4-0.32-0.53z" fill=#e8b835 /> <path d="m475.74 227.14c0.05 0.09 0.15 0.28 0.21 0.37-0.06-0.09-0.16-0.28-0.21-0.37z" fill=#e8b835 /> <path d="m476.95 229.25c0.1 0.17 0.29 0.52 0.39 0.69-0.1-0.17-0.29-0.52-0.39-0.69z" fill=#e8b835 /> <path d="m477.34 229.94c0.09 0.15 0.27 0.46 0.36 0.62-0.09-0.16-0.27-0.47-0.36-0.62z" fill=#e8b835 /> <path d="m478.68 232.26l0.16 0.28-0.16-0.28z" fill=#e8b835 /> <path d="m479.82 234.22c0.04 0.07 0.12 0.2 0.16 0.27-0.04-0.07-0.12-0.2-0.16-0.27z" fill=#e8b835 /> <path d="m480.96 236.19c0.1 0.17 0.29 0.5 0.39 0.67-0.1-0.17-0.29-0.5-0.39-0.67z" fill=#e8b835 /> <path d="m481.35 236.86c0.09 0.17 0.28 0.5 0.37 0.66-0.09-0.16-0.28-0.49-0.37-0.66z" fill=#e8b835 /> <path d="m482.73 239.3c0.14 0.35 0.42 1.03 0.56 1.37-0.14-0.34-0.42-1.02-0.56-1.37z" fill=#e8b835 /> <path d="m483.57 241.22c0.09 0.15 0.26 0.44 0.35 0.58l-0.22-0.29-0.13-0.29z" fill=#e8b835 /> <path d="m484.51 242.69c0.21 0.33 0.62 0.99 0.83 1.32-0.21-0.33-0.62-0.99-0.83-1.32z" fill=#e8b835 /> <path d="m485.34 244.01c0.12 0.2 0.38 0.6 0.5 0.8-0.12-0.2-0.38-0.6-0.5-0.8z" fill=#e8b835 /> <path d="m486.5 245.86c0.2 0.45 0.6 1.36 0.8 1.81-0.2-0.45-0.6-1.36-0.8-1.81z" fill=#e8b835 /> <path d="m487.6 248.21c0.05 0.09 0.15 0.26 0.2 0.34l-0.09-0.13-0.11-0.21z" fill=#e8b835 /> <path d="m489.55 251.16c0.11 0.18 0.33 0.54 0.45 0.72-0.12-0.18-0.34-0.54-0.45-0.72z" fill=#e8b835 /> <path d="m490.6 252.88c0.09 0.16 0.27 0.47 0.36 0.62-0.09-0.15-0.27-0.46-0.36-0.62z" fill=#e8b835 /> <path d="m491.97 255.27c0.09 0.16 0.27 0.48 0.36 0.64-0.09-0.16-0.27-0.48-0.36-0.64z" fill=#e8b835 /> <path d="m492.33 255.91c0.09 0.16 0.27 0.47 0.36 0.63-0.09-0.16-0.27-0.47-0.36-0.63z" fill=#e8b835 /> <path d="m493.69 258.25c0.04 0.08 0.13 0.23 0.18 0.3-0.05-0.07-0.14-0.22-0.18-0.3z" fill=#e8b835 /> <path d="m494.78 260.15c0.06 0.1 0.18 0.31 0.24 0.41-0.06-0.1-0.18-0.31-0.24-0.41z" fill=#e8b835 /> <path d="m495.94 262.17c0.11 0.18 0.32 0.55 0.43 0.73-0.11-0.18-0.32-0.55-0.43-0.73z" fill=#e8b835 /> <path d="m496.37 262.9c0.09 0.16 0.28 0.48 0.37 0.64-0.09-0.16-0.28-0.48-0.37-0.64z" fill=#e8b835 /> <path d="m435.18 264.76c25.09 6.93 49.71 15.46 74.73 22.65l0.22 0.82c-28.09 0.64-56.22 0.11-84.32 0.26 2.29-3.71 7.85-4.44 8.78-9.09 1.21-4.78 0.25-9.77 0.59-14.64z" fill=#e8b835 /> <path d="m498.85 267.3c0.1 0.21 0.3 0.63 0.39 0.84-0.09-0.21-0.29-0.63-0.39-0.84z" fill=#e8b835 /> <path d="m499.7 269.18c0.12 0.2 0.36 0.61 0.47 0.81-0.11-0.2-0.35-0.61-0.47-0.81z" fill=#e8b835 /> <path d="m500.17 269.99c0.15 0.2 0.44 0.58 0.59 0.77-0.15-0.19-0.44-0.57-0.59-0.77z" fill=#e8b835 /> <path d="m501.45 271.74c0.12 0.19 0.36 0.57 0.49 0.77-0.13-0.2-0.37-0.58-0.49-0.77z" fill=#e8b835 /> <path d="m502.95 274.26c0.09 0.16 0.27 0.48 0.36 0.64-0.09-0.16-0.27-0.48-0.36-0.64z" fill=#e8b835 /> <path d="m503.31 274.9c0.09 0.16 0.27 0.47 0.37 0.63-0.1-0.16-0.28-0.47-0.37-0.63z" fill=#e8b835 /> <path d="m504.68 277.25c0.04 0.08 0.12 0.22 0.16 0.29-0.04-0.07-0.12-0.21-0.16-0.29z" fill=#e8b835 /> <path d="m505.79 279.2c0.04 0.07 0.12 0.2 0.16 0.27-0.04-0.07-0.12-0.2-0.16-0.27z" fill=#e8b835 /> <path d="m506.92 281.16c0.1 0.17 0.3 0.51 0.4 0.69-0.1-0.18-0.3-0.52-0.4-0.69z" fill=#e8b835 /> <path d="m507.32 281.85c0.1 0.17 0.3 0.51 0.39 0.68-0.09-0.17-0.29-0.51-0.39-0.68z" fill=#e8b835 /> <path d="m508.71 284.25c0.04 0.07 0.11 0.21 0.15 0.28-0.04-0.07-0.11-0.21-0.15-0.28z" fill=#e8b835 /> <path d="m509.92 286.51c0.13 0.23 0.38 0.69 0.51 0.92l-0.52-0.02 0.01-0.9z" fill=#e8b835 /> <path d="m147.21 341.08c10.31-17.58 20.11-35.49 30.76-52.86 51.63 0.19 103.27-0.29 154.89 0.19l0.66 0.05c-26.11 0.84-52.29-0.22-78.4 0.44-4.98 3.21-8.3 8.41-13.07 11.91-4.43 3.23-7.69 7.73-11.92 11.18-5.93 4.37-10.34 10.43-16.36 14.71-6.96 7.37-14.99 13.58-22.01 20.91-5.26 4.04-9.66 9.03-14.56 13.48-5.39 3.91-9.52 9.21-14.56 13.53-0.13 0.11-0.38 0.33-0.51 0.45-0.27 0.21-0.8 0.65-1.07 0.86-0.13 0.11-0.37 0.31-0.5 0.42-3.97 3.07-7.01 7.12-10.91 10.27-0.13 0.11-0.38 0.32-0.5 0.42-0.13 0.11-0.38 0.32-0.51 0.42-5.69 4.67-10.25 10.58-16.22 14.93-6.01 5.96-12.79 11.08-18.5 17.36-8.44 6.94-15.74 15.13-24.44 21.78 2.16-4.71 5.02-9.03 7.53-13.54 16.74-28.97 33.46-57.94 50.2-86.91z" fill=#296ad9 /> <path d="m89.04 442.17c0.11-0.16 0.33-0.48 0.44-0.64l-0.03 0.65-0.41-0.01z" fill=#296ad9 /> <path id=#2a71e9ff fill=#2a71e9 d="m333.52 288.46c30.76 0.13 61.52 0.04 92.29 0.03 28.1-0.15 56.23 0.38 84.32-0.26l0.59-0.04 0.4 0.11v0.08c-29.66 51.27-59.23 102.6-88.89 153.88-110.93-0.03-221.86 0.1-332.78-0.08l0.03-0.65c8.7-6.65 16-14.84 24.44-21.78 5.71-6.28 12.49-11.4 18.5-17.36 5.97-4.35 10.53-10.26 16.22-14.93 0.13-0.1 0.38-0.31 0.51-0.42 0.12-0.1 0.37-0.31 0.5-0.42 3.9-3.15 6.94-7.2 10.91-10.27 0.13-0.11 0.37-0.31 0.5-0.42 0.27-0.21 0.8-0.65 1.07-0.86 0.13-0.12 0.38-0.34 0.51-0.45 5.04-4.32 9.17-9.62 14.56-13.53 4.9-4.45 9.3-9.44 14.56-13.48 7.02-7.33 15.05-13.54 22.01-20.91 6.02-4.28 10.43-10.34 16.36-14.71 4.23-3.45 7.49-7.95 11.92-11.18 4.77-3.5 8.09-8.7 13.07-11.91 26.11-0.66 52.29 0.4 78.4-0.44z"/> <path d="m162.13 375.07c0.13-0.12 0.38-0.34 0.51-0.45-0.13 0.11-0.38 0.33-0.51 0.45z" fill=#286ee6 /> <path d="m161.06 375.93c0.27-0.21 0.8-0.65 1.07-0.86-0.27 0.21-0.8 0.65-1.07 0.86z" fill=#286ee6 /> <path d="m160.56 376.35c0.13-0.11 0.37-0.31 0.5-0.42-0.13 0.11-0.37 0.31-0.5 0.42z" fill=#286ee6 /> <path d="m149.15 387.04c0.12-0.1 0.37-0.31 0.5-0.42-0.13 0.11-0.38 0.32-0.5 0.42z" fill=#286ee6 /> <path d="m148.64 387.46c0.13-0.1 0.38-0.31 0.51-0.42-0.13 0.11-0.38 0.32-0.51 0.42z" fill=#286ee6 /> </svg> </div> <div class="rs-box rs-box-initial"> <h3 class=rs-small-headline>Connect your storage</h3> <span class=rs-sub-headline>To sync data with your account</span> </div> <div class="rs-box rs-box-connected"> <div class=rs-connected-text> <h1 class="rs-user rs-small-headline">user@provider.com</h1> <span class=rs-sub-headline>Connected</span> </div> <div class=rs-connected-buttons> <button class="rs-button rs-button-small rs-sync" title="Sync now"> <svg class="rs-icon rs-loop-icon" xml:space=preserve version=1.1 x=0px y=0px height=16 width=16 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512" xmlns=http://www.w3.org/2000/svg> <path d="m273.4 300.5l-0.3 58c48.9-8.2 86.3-51 86.3-102.5 0-15.9-3.6-31-10-44.5-2.8-5.8-6-11.3-9.8-16.5l47.1-43.5c1.1 1.3 2.1 2.7 3.1 4 20.9 28 33.2 62.8 33.2 100.5v3.7c-1.5 71.5-47.6 132-111.4 154.6-12.3 4.3-25.2 7.3-38.5 8.7l-0.1 57-76.2-67-26.2-23 44.4-38.7 58.4-50.8z"/> <path d="m89 252.3c1.6-72.1 48.3-133 112.9-155.2 11.7-4 24-6.8 36.8-8.1l0.1-57 76.1 66.9 26.2 23.1-44.3 38.6-58.4 50.9 0.2-57.9c-48.8 8.3-86 51.1-86 102.4 0 16 3.6 31.1 10.1 44.7 2.7 5.8 6 11.2 9.7 16.3l-47 43.6c-1.3-1.6-2.6-3.3-3.8-5-20.5-27.9-32.6-62.3-32.6-99.6v-3.7z"/> </svg> </button> <button class="rs-button rs-button-small rs-disconnect" title=Disconnect> <svg class="rs-icon rs-power-icon" xmlns=http://www.w3.org/2000/svg x=0px y=0px width=16 height=16 style="enable-background:new 0 0 512 512" xml:space=preserve viewBox="0 0 512 512" version=1.1> <path d="m256 256c-17.7 0-32-14.3-32-32v-160c0-17.7 14.3-32 32-32s32 14.3 32 32v160c0 17.7-14.3 32-32 32z"/> <path d="m379 68.8c-5-3-10.8-4.8-17-4.8-17.7 0-32 14.3-32 32 0 6.2 1.8 12 4.8 16.9 2 3.2 4.6 6.1 7.6 8.4 1.2 0.9 2.4 1.7 3.7 2.5 8.1 5.6 15.8 11.9 23 19.1 30.3 30.2 46.9 70.4 46.9 113.1s-16.6 82.9-46.9 113.1c-30.2 30.3-70.4 46.9-113.1 46.9s-82.9-16.6-113.1-46.9c-30.3-30.2-46.9-70.4-46.9-113.1s16.6-82.9 46.9-113.1c7.1-7.1 14.8-13.5 22.9-19 1.4-0.8 2.6-1.6 3.9-2.6 3-2.3 5.5-5.1 7.5-8.3 3.1-4.9 4.8-10.7 4.8-16.9 0-17.7-14.3-32-32-32-6.2 0-12 1.8-16.9 4.8l-0.1-0.1c-60.8 40-101 108.9-101 187.2 0 123.7 100.3 224 224 224s224-100.3 224-224c0-78.3-40.2-147.2-101-187.2z"/> </svg> </button> </div> </div> <div class="rs-box rs-box-error"> <div class=rs-error-message></div> <div class=rs-error-buttons> <a href=# class="rs-reconnect rs-hidden">Renew</a> <button class="rs-button rs-button-small rs-disconnect" title=Disconnect> <svg class="rs-icon rs-power-icon" xmlns=http://www.w3.org/2000/svg x=0px y=0px width=16 height=16 style="enable-background:new 0 0 512 512" xml:space=preserve viewBox="0 0 512 512" version=1.1> <path d="m256 256c-17.7 0-32-14.3-32-32v-160c0-17.7 14.3-32 32-32s32 14.3 32 32v160c0 17.7-14.3 32-32 32z"/> <path d="m379 68.8c-5-3-10.8-4.8-17-4.8-17.7 0-32 14.3-32 32 0 6.2 1.8 12 4.8 16.9 2 3.2 4.6 6.1 7.6 8.4 1.2 0.9 2.4 1.7 3.7 2.5 8.1 5.6 15.8 11.9 23 19.1 30.3 30.2 46.9 70.4 46.9 113.1s-16.6 82.9-46.9 113.1c-30.2 30.3-70.4 46.9-113.1 46.9s-82.9-16.6-113.1-46.9c-30.3-30.2-46.9-70.4-46.9-113.1s16.6-82.9 46.9-113.1c7.1-7.1 14.8-13.5 22.9-19 1.4-0.8 2.6-1.6 3.9-2.6 3-2.3 5.5-5.1 7.5-8.3 3.1-4.9 4.8-10.7 4.8-16.9 0-17.7-14.3-32-32-32-6.2 0-12 1.8-16.9 4.8l-0.1-0.1c-60.8 40-101 108.9-101 187.2 0 123.7 100.3 224 224 224s224-100.3 224-224c0-78.3-40.2-147.2-101-187.2z"/> </svg> </button> </div> </div> <div class="rs-box rs-box-choose"> <div class=rs-content> <h1 class=rs-big-headline>Connect your storage</h1> <p class=rs-short-desc> This app allows you to sync data with a storage of your choice. <a class=rs-help href=https://remotestorage.io/ target=_blank>Read more</a> </p> <div class=rs-button-wrap> <button class="rs-button rs-button-big rs-choose-rs"> <svg class=rs-logo fill-rule=evenodd height=40 width=40 xmlns=http://www.w3.org/2000/svg version=1.1 style=shape-rendering:geometricPrecision;image-rendering:optimizeQuality;text-rendering:geometricPrecision clip-rule=evenodd xml:space=preserve viewBox="0 0 739 853"> <g> <polygon class=rs-logo-shape points="370 754 0 542 0 640 185 747 370 853 554 747 739 640 739 525 739 525 739 476 739 427 739 378 653 427 370 589 86 427 86 427 86 361 185 418 370 524 554 418 653 361 739 311 739 213 739 213 554 107 370 0 185 107 58 180 144 230 228 181 370 100 511 181 652 263 370 425 87 263 87 263 0 213 0 213 0 311 0 378 0 427 0 476 86 525 185 582 370 689 554 582 653 525 653 590 653 592"/> </g> </svg> <div>RemoteStorage</div> </button> <button class="rs-button rs-button-big rs-choose-dropbox"> <svg class=dropbox-logo width=40 height=40 xml:space=preserve stroke-miterlimit=1.4142 xmlns=http://www.w3.org/2000/svg viewBox="0 0 104 97" stroke-linejoin=round version=1.1 clip-rule=evenodd> <path d="m30.691 0l-30.691 20.039 21.221 16.994 30.946-19.108-21.476-17.925z" fill=#007ee5 /> <path d="m0 54.028l30.691 20.039 21.476-17.926-30.945-19.108-21.222 16.995z" fill=#007ee5 /> <path d="m52.167 56.142l21.477 17.926 30.696-20.039-21.227-16.995-30.946 19.108z" fill=#007ee5 /> <path d="m104.34 20.039l-30.696-20.039-21.477 17.925 30.946 19.108 21.227-16.994z" fill=#007ee5 /> <path d="m52.23 59.998l-21.538 17.873-9.218-6.018v6.747l30.756 18.443 30.756-18.443v-6.747l-9.216 6.018-21.54-17.873z" fill=#007ee5 /> </svg> <div>Dropbox</div> </button> <button class="rs-button rs-button-big rs-choose-googledrive"> <svg class=googledrive-logo width=40 height=40 version=1.1 stroke-miterlimit=1.4142 xml:space=preserve xmlns=http://www.w3.org/2000/svg width=100% stroke-linejoin=round clip-rule=evenodd viewBox="0 0 511 442" height=100%> <path d="m166.23 0.10955l0.44-0.009998 0.04 0.49-0.56 0.02 0.08-0.5z" fill=#0ba25e /> <path d="m164.52 3.3896c0.39-0.56 1.15-1.68 1.54-2.24l0.7-0.11c0.52 6.34 2.38 12.45 3.78 18.62 6.02 26.81 12.1 53.6 18.43 80.33 4.15 18.33 8.78 36.57 12.58 54.97 3.3 11.39 5.07 23.14 8.26 34.55 2.06 10.64 5.29 21.02 7.02 31.72-0.7 1.17-1.4 2.35-2.11 3.52-0.17 0.27-0.53 0.83-0.7 1.11l-0.26 0.45c-0.04 0.08-0.13 0.25-0.18 0.33-0.39 0.72-1.17 2.15-1.56 2.86-0.07 0.13-0.22 0.39-0.3 0.52l-0.71 1.26c-0.09 0.15-0.26 0.44-0.34 0.59l-0.83 1.45c-0.04 0.08-0.13 0.24-0.18 0.32l-1.03 1.8c-0.09 0.15-0.27 0.47-0.36 0.63-0.1 0.17-0.3 0.5-0.4 0.67l-1.01 1.74c-0.08 0.13-0.24 0.41-0.32 0.54l-0.62 1.05c-0.1 0.18-0.32 0.55-0.42 0.73-0.4 0.69-1.19 2.07-1.59 2.77-0.07 0.12-0.22 0.37-0.29 0.5l-0.63 1.05c-0.1 0.19-0.32 0.55-0.43 0.74-0.37 0.65-1.13 1.94-1.5 2.59-0.09 0.15-0.26 0.46-0.35 0.61l-0.75 1.35c-0.07 0.12-0.21 0.37-0.28 0.49l-0.77 1.35-0.32 0.56c-0.4 0.66-1.18 1.99-1.57 2.66-0.09 0.15-0.27 0.46-0.36 0.62l-0.71 1.28c-0.07 0.12-0.2 0.35-0.26 0.47l-0.82 1.42c-0.07 0.13-0.22 0.38-0.29 0.5-0.42 0.72-1.25 2.15-1.67 2.87-0.07 0.13-0.23 0.39-0.31 0.52l-0.6 0.99c-0.1 0.18-0.31 0.53-0.41 0.71-0.38 0.66-1.13 1.97-1.51 2.63-0.06 0.11-0.2 0.35-0.26 0.46l-0.82 1.46c-0.06 0.11-0.18 0.32-0.24 0.43l-0.84 1.47c-0.07 0.11-0.21 0.35-0.28 0.46-0.39 0.66-1.18 1.96-1.57 2.62-0.11 0.17-0.31 0.53-0.42 0.71l-0.59 1.1c-0.08 0.14-0.23 0.42-0.3 0.55l-1.03 1.78c-0.08 0.15-0.26 0.45-0.34 0.6-0.09 0.14-0.25 0.43-0.33 0.57-1.69 2.85-3.22 5.79-5.09 8.53-10.65 17.37-20.45 35.28-30.76 52.86-16.74 28.97-33.46 57.94-50.2 86.91-2.51 4.51-5.37 8.83-7.53 13.54-0.11 0.16-0.33 0.48-0.44 0.64-4.01-5.78-7.11-12.16-10.78-18.16-16.74-28.99-33.49-57.97-50.22-86.97-9.3-16.31-18.99-32.42-28.04-48.88 35.84-61.85 71.52-123.81 107.29-185.7 0.03-0.06 0.1-0.17 0.13-0.23l0.98-1.68c0.04-0.07 0.12-0.21 0.17-0.28l0.99-1.69c0.09-0.15 0.27-0.47 0.37-0.62 0.1-0.18 0.3-0.53 0.4-0.71l0.99-1.76 0.28-0.48 0.74-1.18c0.13-0.19 0.39-0.58 0.52-0.78 0.36-0.54 1.09-1.63 1.46-2.17 0.04-0.18 0.11-0.53 0.15-0.7l0.87-1.67 0.16-0.28 1-1.68c0.1-0.16 0.3-0.5 0.4-0.67 0.11-0.19 0.33-0.58 0.45-0.78l0.84-1.47c0.09-0.16 0.27-0.47 0.36-0.62l0.7-1.23c0.08-0.13 0.24-0.41 0.32-0.55 0.39-0.67 1.17-2.01 1.57-2.68l0.32-0.56 0.73-1.33c0.06-0.1 0.18-0.32 0.24-0.42l0.96-1.68c0.12-0.2 0.37-0.61 0.5-0.81l0.65-0.98c0.14-0.2 0.41-0.59 0.55-0.78 0.12-0.2 0.37-0.6 0.5-0.8l0.54-1.04c0.18-0.39 0.55-1.17 0.73-1.56l0.55-0.77c0.1-0.14 0.29-0.41 0.39-0.55 0.37-0.31 1.12-0.95 1.49-1.27l-0.07-1.17c0.06-0.14 0.2-0.42 0.27-0.56l0.85-1.69c0.07-0.12 0.21-0.37 0.28-0.49l0.75-1.22c0.14-0.2 0.41-0.6 0.55-0.8 0.34-0.56 1.03-1.66 1.37-2.21 0.1-0.2 0.28-0.59 0.38-0.79l0.53-1.15c0.16-0.3 0.5-0.91 0.67-1.22l0.66-0.94c0.14-0.19 0.42-0.57 0.56-0.76 0.12-0.2 0.37-0.6 0.49-0.8l0.49-1.03c0.11-0.23 0.34-0.7 0.45-0.93l0.86-1.66c0.13-0.2 0.38-0.62 0.5-0.83l0.66-0.98c0.14-0.2 0.42-0.58 0.56-0.78 0.13-0.2 0.38-0.61 0.5-0.81l0.51-1.04c0.15-0.29 0.44-0.86 0.58-1.15l0.68-1.12c0.12-0.19 0.36-0.57 0.49-0.76 0.36-0.56 1.09-1.68 1.46-2.23 0.04-0.17 0.13-0.51 0.17-0.68l0.87-1.66c0.03-0.07 0.11-0.2 0.15-0.27l1-1.71c0.1-0.17 0.29-0.5 0.39-0.67 0.1-0.16 0.29-0.5 0.39-0.66l1-1.75c0.04-0.07 0.12-0.21 0.16-0.29l0.94-1.63c0.05-0.07 0.14-0.22 0.18-0.3l1.01-1.7c0.09-0.16 0.27-0.46 0.36-0.62 0.1-0.17 0.3-0.52 0.4-0.7l0.96-1.69c0.06-0.11 0.18-0.32 0.24-0.42l0.81-1.31c0.13-0.19 0.39-0.58 0.51-0.77 0.37-0.55 1.09-1.65 1.46-2.2 0.03-0.17 0.11-0.51 0.15-0.68l0.85-1.63c0.07-0.12 0.22-0.37 0.29-0.5l0.76-1.19c0.14-0.19 0.4-0.58 0.54-0.78 0.35-0.56 1.05-1.67 1.4-2.23 0.05-0.16 0.14-0.48 0.19-0.64l0.88-1.65c0.04-0.08 0.12-0.22 0.16-0.3l1.02-1.7204c0.08-0.15 0.26-0.45 0.35-0.6 0.09-0.17 0.27-0.49 0.36-0.65l1-1.78c0.05-0.07 0.13-0.22 0.17-0.29l0.95-1.61c0.03-0.05 0.1-0.16 0.13-0.21z" fill=#0ba25e /> <path id=#fccd48ff fill=#fccd48 d="m166.67 0.099552c32.48-0.15 64.97-0.02 97.46-0.07 26.88 0.099998 53.78-0.21 80.65 0.15 0.53 1.02 1.07 2.03 1.64 3.04 0.08 0.13 0.23 0.41 0.31 0.55 2.6 4.53 5.24 9.0404 7.81 13.58 0.05 0.08 0.13 0.23 0.18 0.3 4.98 8.55 9.94 17.11 14.83 25.71 0.04 0.07 0.13 0.21 0.17 0.29 0.89 1.53 1.81 3.06 2.72 4.6 0.08 0.13 0.23 0.4 0.31 0.54 1.25 2.2 2.51 4.39 3.78 6.58 0.05 0.07 0.13 0.21 0.17 0.29 1.27 2.18 2.52 4.38 3.78 6.58 0.08 0.13 0.23 0.39 0.31 0.52 1.27 2.14 2.5 4.3 3.72 6.46 0.08 0.13 0.23 0.4 0.31 0.53 11.94 20.62 23.85 41.25 35.75 61.9-1.36 5.99 1.93 11.95 0.1 17.97-1.11 16.45-7.32 32.46-17.56 45.38-3.33 3.61-0.1 8.62-0.46 12.9-3.59 4.35-8.21 7.6-12.57 11.11 0.01 3.28 0.02 6.56-0.13 9.85-3.89 2.57-8.35 4.06-12.3 6.54-0.42 1.33-0.85 2.67-1.26 4.02-3.17 1.5-6.56 2.47-9.73 3.99-12.55-3.6-24.97-7.61-37.49-11.32-11.65-3.85-23.58-6.87-35.11-11.11l-0.66-1.18c-0.06-0.09-0.16-0.27-0.21-0.36l-0.95-1.61-0.4-0.68c-0.09-0.15-0.25-0.44-0.34-0.59-0.71-1.26-1.36-2.55-1.94-3.87l-0.06-0.13-0.07-0.1c-0.44-0.7-1.33-2.11-1.78-2.81-0.05-0.08-0.15-0.24-0.2-0.33l-0.29-0.46c-0.17-0.29-0.52-0.86-0.69-1.15-0.43-0.73-1.3-2.19-1.73-2.92-0.11-0.18-0.32-0.55-0.43-0.73l-0.61-1.04c-0.08-0.14-0.24-0.41-0.32-0.55l-0.97-1.67c-0.04-0.07-0.13-0.21-0.17-0.29l-1.02-1.75c-0.09-0.16-0.27-0.48-0.36-0.63-0.1-0.18-0.31-0.55-0.41-0.73l-0.83-1.46c-0.1-0.17-0.3-0.53-0.4-0.7l-0.64-1.13c-0.09-0.15-0.26-0.45-0.35-0.6-0.39-0.72-1.18-2.15-1.58-2.87-0.04-0.08-0.14-0.25-0.18-0.33l-0.27-0.47c-0.19-0.28-0.56-0.84-0.75-1.12-0.99-1.66-1.92-3.36-2.81-5.07-0.05-0.08-0.14-0.25-0.18-0.33l-0.26-0.46c-0.19-0.27-0.57-0.81-0.76-1.07-0.44-0.79-1.32-2.37-1.76-3.16-0.05-0.08-0.15-0.25-0.19-0.34l-0.27-0.48c-0.2-0.33-0.59-0.98-0.79-1.31l-0.86-1.45c-0.08-0.14-0.25-0.42-0.34-0.57-0.38-0.66-1.15-1.99-1.54-2.65-0.09-0.15-0.26-0.46-0.35-0.62-0.68-1.13-1.33-2.27-1.97-3.41-0.05-0.09-0.16-0.27-0.21-0.36l-0.95-1.63c-0.1-0.16-0.29-0.48-0.38-0.65-0.09-0.15-0.26-0.45-0.35-0.6l-1.01-1.76c-0.05-0.08-0.14-0.25-0.19-0.33l-0.82-1.47c-0.07-0.12-0.2-0.35-0.27-0.47-0.38-0.67-1.15-2-1.53-2.67-0.08-0.14-0.24-0.41-0.32-0.54-0.62-1.03-1.24-2.07-1.84-3.1-27.73-48.12-55.5-96.21-83.29-144.3-1.74-3.0004-3.32-6.1204-5.45-8.8804l-0.05-0.45005-0.04-0.49z"/> <path d="m166.15 0.60955l0.56-0.02 0.05 0.45005-0.7 0.11 0.09-0.54005z" fill=#089156 /> <path d="m166.76 1.0396c2.13 2.76 3.71 5.88 5.45 8.88 27.79 48.09 55.56 96.18 83.29 144.3-12.84 22.36-25.78 44.67-38.67 67.01-1.73-10.7-4.96-21.08-7.02-31.72-3.19-11.41-4.96-23.16-8.26-34.55-3.8-18.4-8.43-36.64-12.58-54.97-6.33-26.73-12.41-53.52-18.43-80.33-1.4-6.17-3.26-12.28-3.78-18.62z" fill=#089156 /> <path d="m164.39 3.5996c0.03-0.05 0.1-0.16 0.13-0.21-0.03 0.05-0.1 0.16-0.13 0.21z" fill=#089156 /> <path d="m163.27 5.4996c0.05-0.07 0.13-0.22 0.17-0.29-0.04 0.07-0.12 0.22-0.17 0.29z" fill=#089156 /> <path d="m161.91 7.9296c0.09-0.17 0.27-0.49 0.36-0.65-0.09 0.16-0.27 0.48-0.36 0.65z" fill=#089156 /> <path d="m161.56 8.5296c0.08-0.15 0.26-0.45 0.35-0.6-0.09 0.15-0.27 0.45-0.35 0.6z" fill=#089156 /> <path d="m160.38 10.55c0.04-0.08 0.12-0.22 0.16-0.3-0.04 0.08-0.12 0.22-0.16 0.3z" fill=#089156 /> <path d="m159.31 12.84c0.05-0.16 0.14-0.48 0.19-0.64-0.05 0.16-0.14 0.48-0.19 0.64z" fill=#089156 /> <path d="m157.91 15.07c0.35-0.56 1.05-1.67 1.4-2.23-0.35 0.56-1.05 1.67-1.4 2.23z" fill=#089156 /> <path d="m157.37 15.85c0.14-0.19 0.4-0.58 0.54-0.78-0.14 0.2-0.4 0.59-0.54 0.78z" fill=#089156 /> <path d="m156.32 17.54c0.07-0.12 0.22-0.37 0.29-0.5-0.07 0.13-0.22 0.38-0.29 0.5z" fill=#089156 /> <path d="m155.32 19.85c0.03-0.17 0.11-0.51 0.15-0.68-0.04 0.17-0.12 0.51-0.15 0.68z" fill=#089156 /> <path d="m153.86 22.05c0.37-0.55 1.09-1.65 1.46-2.2-0.37 0.55-1.09 1.65-1.46 2.2z" fill=#089156 /> <path d="m153.35 22.82c0.13-0.19 0.39-0.58 0.51-0.77-0.12 0.19-0.38 0.58-0.51 0.77z" fill=#089156 /> <path d="m152.3 24.55c0.06-0.11 0.18-0.32 0.24-0.42-0.06 0.1-0.18 0.31-0.24 0.42z" fill=#089156 /> <path d="m150.94 26.94c0.1-0.17 0.3-0.52 0.4-0.7-0.1 0.18-0.3 0.53-0.4 0.7z" fill=#089156 /> <path d="m150.58 27.56c0.09-0.16 0.27-0.46 0.36-0.62-0.09 0.16-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m149.39 29.56c0.05-0.07 0.14-0.22 0.18-0.3-0.04 0.08-0.13 0.23-0.18 0.3z" fill=#089156 /> <path d="m148.29 31.48c0.04-0.07 0.12-0.21 0.16-0.29-0.04 0.08-0.12 0.22-0.16 0.29z" fill=#089156 /> <path d="m146.9 33.89c0.1-0.16 0.29-0.5 0.39-0.66-0.1 0.16-0.29 0.5-0.39 0.66z" fill=#089156 /> <path d="m146.51 34.56c0.1-0.17 0.29-0.5 0.39-0.67-0.1 0.17-0.29 0.5-0.39 0.67z" fill=#089156 /> <path d="m145.36 36.54c0.03-0.07 0.11-0.2 0.15-0.27-0.04 0.07-0.12 0.2-0.15 0.27z" fill=#089156 /> <path d="m144.32 38.88c0.04-0.17 0.13-0.51 0.17-0.68-0.04 0.17-0.13 0.51-0.17 0.68z" fill=#089156 /> <path d="m142.86 41.11c0.36-0.56 1.09-1.68 1.46-2.23-0.37 0.55-1.1 1.67-1.46 2.23z" fill=#089156 /> <path d="m142.37 41.87c0.12-0.19 0.36-0.57 0.49-0.76-0.13 0.19-0.37 0.57-0.49 0.76z" fill=#089156 /> <path d="m141.11 44.14c0.15-0.29 0.44-0.86 0.58-1.15-0.14 0.29-0.43 0.86-0.58 1.15z" fill=#089156 /> <path d="m140.1 45.99c0.13-0.2 0.38-0.61 0.5-0.81-0.12 0.2-0.37 0.61-0.5 0.81z" fill=#089156 /> <path d="m139.54 46.77c0.14-0.2 0.42-0.58 0.56-0.78-0.14 0.2-0.42 0.58-0.56 0.78z" fill=#089156 /> <path d="m138.38 48.58c0.13-0.2 0.38-0.62 0.5-0.83-0.12 0.21-0.37 0.63-0.5 0.83z" fill=#089156 /> <path d="m137.07 51.17c0.11-0.23 0.34-0.7 0.45-0.93-0.11 0.23-0.34 0.7-0.45 0.93z" fill=#089156 /> <path d="m136.09 53c0.12-0.2 0.37-0.6 0.49-0.8-0.12 0.2-0.37 0.6-0.49 0.8z" fill=#089156 /> <path d="m135.53 53.76c0.14-0.19 0.42-0.57 0.56-0.76-0.14 0.19-0.42 0.57-0.56 0.76z" fill=#089156 /> <path d="m134.2 55.92c0.16-0.3 0.5-0.91 0.67-1.22-0.17 0.31-0.51 0.92-0.67 1.22z" fill=#089156 /> <path d="m133.29 57.86c0.1-0.2 0.28-0.59 0.38-0.79-0.1 0.2-0.28 0.59-0.38 0.79z" fill=#089156 /> <path d="m131.92 60.07c0.34-0.56 1.03-1.66 1.37-2.21-0.34 0.55-1.03 1.65-1.37 2.21z" fill=#089156 /> <path d="m131.37 60.87c0.14-0.2 0.41-0.6 0.55-0.8-0.14 0.2-0.41 0.6-0.55 0.8z" fill=#089156 /> <path d="m130.34 62.58c0.07-0.12 0.21-0.37 0.28-0.49-0.07 0.12-0.21 0.37-0.28 0.49z" fill=#089156 /> <path d="m129.22 64.83c0.06-0.14 0.2-0.42 0.27-0.56-0.07 0.14-0.21 0.42-0.27 0.56z" fill=#089156 /> <path d="m127.8 67.27c0.35-0.61 1.06-1.83 1.42-2.44l0.07 1.17c-0.37 0.32-1.12 0.96-1.49 1.27z" fill=#089156 /> <path d="m127.41 67.82c0.1-0.14 0.29-0.41 0.39-0.55-0.1 0.14-0.29 0.41-0.39 0.55z" fill=#089156 /> <path d="m126.13 70.15c0.18-0.39 0.55-1.17 0.73-1.56-0.18 0.39-0.55 1.17-0.73 1.56z" fill=#089156 /> <path d="m125.09 71.99c0.12-0.2 0.37-0.6 0.5-0.8-0.13 0.2-0.38 0.6-0.5 0.8z" fill=#089156 /> <path d="m124.54 72.77c0.14-0.2 0.41-0.59 0.55-0.78-0.14 0.19-0.41 0.58-0.55 0.78z" fill=#089156 /> <path d="m123.39 74.56c0.12-0.2 0.37-0.61 0.5-0.81-0.13 0.2-0.38 0.61-0.5 0.81z" fill=#089156 /> <path d="m122.19 76.66c0.06-0.1 0.18-0.32 0.24-0.42-0.06 0.1-0.18 0.32-0.24 0.42z" fill=#089156 /> <path d="m121.14 78.55l0.32-0.56-0.32 0.56z" fill=#089156 /> <path d="m119.25 81.78c0.08-0.13 0.24-0.41 0.32-0.55-0.08 0.14-0.24 0.42-0.32 0.55z" fill=#089156 /> <path d="m118.19 83.63c0.09-0.16 0.27-0.47 0.36-0.62-0.09 0.15-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m116.9 85.88c0.11-0.19 0.33-0.58 0.45-0.78-0.12 0.2-0.34 0.59-0.45 0.78z" fill=#089156 /> <path d="m116.5 86.55c0.1-0.16 0.3-0.5 0.4-0.67-0.1 0.17-0.3 0.51-0.4 0.67z" fill=#089156 /> <path d="m115.34 88.51l0.16-0.28-0.16 0.28z" fill=#089156 /> <path d="m114.32 90.88c0.04-0.18 0.11-0.53 0.15-0.7-0.04 0.17-0.11 0.52-0.15 0.7z" fill=#089156 /> <path d="m112.86 93.05c0.36-0.54 1.09-1.63 1.46-2.17-0.37 0.54-1.1 1.63-1.46 2.17z" fill=#089156 /> <path d="m112.34 93.83c0.13-0.19 0.39-0.58 0.52-0.78-0.13 0.2-0.39 0.59-0.52 0.78z" fill=#089156 /> <path d="m111.32 95.49l0.28-0.48-0.28 0.48z" fill=#089156 /> <path d="m109.93 97.96c0.1-0.18 0.3-0.53 0.4-0.71-0.1 0.18-0.3 0.53-0.4 0.71z" fill=#089156 /> <path d="m109.56 98.58c0.09-0.15 0.27-0.47 0.37-0.62-0.1 0.15-0.28 0.47-0.37 0.62z" fill=#089156 /> <path d="m108.4 100.55c0.04-0.07 0.12-0.21 0.17-0.28-0.05 0.07-0.13 0.21-0.17 0.28z" fill=#089156 /> <path d="m107.29 102.46c0.03-0.06 0.1-0.17 0.13-0.23-0.03 0.06-0.1 0.17-0.13 0.23z" fill=#089156 /> <path d="m214.02 225.86c0.17-0.28 0.53-0.84 0.7-1.11-0.17 0.27-0.53 0.83-0.7 1.11z" fill=#089156 /> <path d="m213.58 226.64c0.05-0.08 0.14-0.25 0.18-0.33-0.04 0.08-0.13 0.25-0.18 0.33z" fill=#089156 /> <path d="m211.72 230.02c0.08-0.13 0.23-0.39 0.3-0.52-0.07 0.13-0.22 0.39-0.3 0.52z" fill=#089156 /> <path d="m210.67 231.87c0.08-0.15 0.25-0.44 0.34-0.59-0.09 0.15-0.26 0.44-0.34 0.59z" fill=#089156 /> <path d="m209.66 233.64c0.05-0.08 0.14-0.24 0.18-0.32-0.04 0.08-0.13 0.24-0.18 0.32z" fill=#089156 /> <path d="m208.27 236.07c0.09-0.16 0.27-0.48 0.36-0.63-0.09 0.15-0.27 0.47-0.36 0.63z" fill=#089156 /> <path d="m207.87 236.74c0.1-0.17 0.3-0.5 0.4-0.67-0.1 0.17-0.3 0.5-0.4 0.67z" fill=#089156 /> <path d="m206.54 239.02c0.08-0.13 0.24-0.41 0.32-0.54-0.08 0.13-0.24 0.41-0.32 0.54z" fill=#089156 /> <path d="m205.5 240.8c0.1-0.18 0.32-0.55 0.42-0.73-0.1 0.18-0.32 0.55-0.42 0.73z" fill=#089156 /> <path d="m203.62 244.07c0.07-0.13 0.22-0.38 0.29-0.5-0.07 0.12-0.22 0.37-0.29 0.5z" fill=#089156 /> <path d="m202.56 245.86c0.11-0.19 0.33-0.55 0.43-0.74-0.1 0.19-0.32 0.55-0.43 0.74z" fill=#089156 /> <path d="m200.71 249.06c0.09-0.15 0.26-0.46 0.35-0.61-0.09 0.15-0.26 0.46-0.35 0.61z" fill=#089156 /> <path d="m199.68 250.9c0.07-0.12 0.21-0.37 0.28-0.49-0.07 0.12-0.21 0.37-0.28 0.49z" fill=#089156 /> <path d="m198.59 252.81l0.32-0.56-0.32 0.56z" fill=#089156 /> <path d="m196.66 256.09c0.09-0.16 0.27-0.47 0.36-0.62-0.09 0.15-0.27 0.46-0.36 0.62z" fill=#089156 /> <path d="m195.69 257.84c0.06-0.12 0.19-0.35 0.26-0.47-0.07 0.12-0.2 0.35-0.26 0.47z" fill=#089156 /> <path d="m194.58 259.76c0.07-0.12 0.22-0.37 0.29-0.5-0.07 0.13-0.22 0.38-0.29 0.5z" fill=#089156 /> <path d="m192.6 263.15c0.08-0.13 0.24-0.39 0.31-0.52-0.07 0.13-0.23 0.39-0.31 0.52z" fill=#089156 /> <path d="m191.59 264.85c0.1-0.18 0.31-0.53 0.41-0.71-0.1 0.18-0.31 0.53-0.41 0.71z" fill=#089156 /> <path d="m189.82 267.94c0.06-0.11 0.2-0.35 0.26-0.46-0.06 0.11-0.2 0.35-0.26 0.46z" fill=#089156 /> <path d="m188.76 269.83c0.06-0.11 0.18-0.32 0.24-0.43-0.06 0.11-0.18 0.32-0.24 0.43z" fill=#089156 /> <path d="m187.64 271.76c0.07-0.11 0.21-0.35 0.28-0.46-0.07 0.11-0.21 0.35-0.28 0.46z" fill=#089156 /> <path d="m185.65 275.09c0.11-0.18 0.31-0.54 0.42-0.71-0.11 0.17-0.31 0.53-0.42 0.71z" fill=#089156 /> <path d="m184.76 276.74c0.07-0.13 0.22-0.41 0.3-0.55-0.08 0.14-0.23 0.42-0.3 0.55z" fill=#089156 /> <path d="m183.39 279.12c0.08-0.15 0.26-0.45 0.34-0.6-0.08 0.15-0.26 0.45-0.34 0.6z" fill=#089156 /> <path d="m183.06 279.69c0.08-0.14 0.24-0.43 0.33-0.57-0.09 0.14-0.25 0.43-0.33 0.57z" fill=#089156 /> <path d="m346.42 3.2196c0.08 0.13 0.23 0.41 0.31 0.55-0.08-0.14-0.23-0.42-0.31-0.55z" fill=#10985b /> <path d="m354.54 17.35c0.05 0.08 0.13 0.23 0.18 0.3-0.05-0.07-0.13-0.22-0.18-0.3z" fill=#10985b /> <path d="m369.55 43.36c0.04 0.07 0.13 0.21 0.17 0.29-0.04-0.08-0.13-0.22-0.17-0.29z" fill=#10985b /> <path d="m372.44 48.25c0.08 0.13 0.23 0.4 0.31 0.54-0.08-0.14-0.23-0.41-0.31-0.54z" fill=#10985b /> <path d="m376.53 55.37c0.05 0.07 0.13 0.21 0.17 0.29-0.04-0.08-0.12-0.22-0.17-0.29z" fill=#10985b /> <path d="m380.48 62.24c0.08 0.13 0.23 0.39 0.31 0.52-0.08-0.13-0.23-0.39-0.31-0.52z" fill=#10985b /> <path d="m384.51 69.22c0.08 0.13 0.23 0.4 0.31 0.53-0.08-0.13-0.23-0.4-0.31-0.53z" fill=#10985b /> <path d="m420.57 131.65c17.39 30.13 34.89 60.21 52.14 90.43 0.08 0.13 0.24 0.41 0.32 0.54 0.4 0.66 1.2 1.97 1.59 2.62 0.08 0.13 0.24 0.4 0.32 0.53l0.8 1.37c0.05 0.09 0.15 0.28 0.21 0.37l1 1.74c0.1 0.17 0.29 0.52 0.39 0.69 0.09 0.15 0.27 0.46 0.36 0.62l0.98 1.7 0.16 0.28 0.98 1.68c0.04 0.07 0.12 0.2 0.16 0.27l0.98 1.7c0.1 0.17 0.29 0.5 0.39 0.67 0.09 0.17 0.28 0.5 0.37 0.66l1.01 1.78c0.14 0.35 0.42 1.03 0.56 1.37l0.28 0.55 0.13 0.29 0.22 0.29 0.59 0.89c0.21 0.33 0.62 0.99 0.83 1.32 0.12 0.2 0.38 0.6 0.5 0.8l0.66 1.05c0.2 0.45 0.6 1.36 0.8 1.81l0.3 0.54 0.11 0.21 0.09 0.13c0.44 0.65 1.31 1.96 1.75 2.61 0.11 0.18 0.33 0.54 0.45 0.72l0.6 1c0.09 0.16 0.27 0.47 0.36 0.62l1.01 1.77c0.09 0.16 0.27 0.48 0.36 0.64s0.27 0.47 0.36 0.63l1 1.71c0.04 0.08 0.13 0.23 0.18 0.3l0.91 1.6c0.06 0.1 0.18 0.31 0.24 0.41l0.92 1.61c0.11 0.18 0.32 0.55 0.43 0.73 0.09 0.16 0.28 0.48 0.37 0.64 0.74 1.23 1.45 2.48 2.11 3.76 0.1 0.21 0.3 0.63 0.39 0.84l0.46 1.04c0.12 0.2 0.36 0.61 0.47 0.81 0.15 0.2 0.44 0.58 0.59 0.77l0.69 0.98c0.12 0.19 0.36 0.57 0.49 0.77l1.01 1.75c0.09 0.16 0.27 0.48 0.36 0.64s0.27 0.47 0.37 0.63l1 1.72c0.04 0.08 0.12 0.22 0.16 0.29l0.95 1.66c0.04 0.07 0.12 0.2 0.16 0.27l0.97 1.69c0.1 0.17 0.3 0.51 0.4 0.69 0.1 0.17 0.3 0.51 0.39 0.68l1 1.72c0.04 0.07 0.11 0.21 0.15 0.28l1.06 1.98-0.01 0.9c-25.02-7.19-49.64-15.72-74.73-22.65-22.77-7.35-45.75-14.04-68.52-21.35 3.17-1.52 6.56-2.49 9.73-3.99 0.41-1.35 0.84-2.69 1.26-4.02 3.95-2.48 8.41-3.97 12.3-6.54 0.15-3.29 0.14-6.57 0.13-9.85 4.36-3.51 8.98-6.76 12.57-11.11 0.36-4.28-2.87-9.29 0.46-12.9 10.24-12.92 16.45-28.93 17.56-45.38 1.83-6.02-1.46-11.98-0.1-17.97z" fill=#f9c941 /> <path d="m509.91 287.41l0.52 0.02 0.29 0.76-0.59 0.04-0.22-0.82z" fill=#f9c941 /> <path d="m257.34 157.32c0.08 0.13 0.24 0.4 0.32 0.54-0.08-0.14-0.24-0.41-0.32-0.54z" fill=#e3b73a /> <path d="m259.19 160.53c0.07 0.12 0.2 0.35 0.27 0.47-0.07-0.12-0.2-0.35-0.27-0.47z" fill=#e3b73a /> <path d="m260.28 162.47c0.05 0.08 0.14 0.25 0.19 0.33-0.05-0.08-0.14-0.25-0.19-0.33z" fill=#e3b73a /> <path d="m261.48 164.56c0.09 0.15 0.26 0.45 0.35 0.6-0.09-0.15-0.26-0.45-0.35-0.6z" fill=#e3b73a /> <path d="m261.83 165.16c0.09 0.17 0.28 0.49 0.38 0.65-0.1-0.16-0.29-0.48-0.38-0.65z" fill=#e3b73a /> <path d="m263.16 167.44c0.05 0.09 0.16 0.27 0.21 0.36-0.05-0.09-0.16-0.27-0.21-0.36z" fill=#e3b73a /> <path d="m265.34 171.21c0.09 0.16 0.26 0.47 0.35 0.62-0.09-0.15-0.26-0.46-0.35-0.62z" fill=#e3b73a /> <path d="m267.23 174.48c0.09 0.15 0.26 0.43 0.34 0.57-0.08-0.14-0.25-0.42-0.34-0.57z" fill=#e3b73a /> <path d="m268.43 176.5c0.2 0.33 0.59 0.98 0.79 1.31-0.2-0.33-0.59-0.98-0.79-1.31z" fill=#e3b73a /> <path d="m269.49 178.29c0.04 0.09 0.14 0.26 0.19 0.34-0.05-0.08-0.15-0.25-0.19-0.34z" fill=#e3b73a /> <path d="m271.44 181.79c0.19 0.26 0.57 0.8 0.76 1.07-0.19-0.27-0.57-0.81-0.76-1.07z" fill=#e3b73a /> <path d="m272.46 183.32c0.04 0.08 0.13 0.25 0.18 0.33-0.05-0.08-0.14-0.25-0.18-0.33z" fill=#e3b73a /> <path d="m275.45 188.72c0.19 0.28 0.56 0.84 0.75 1.12-0.19-0.28-0.56-0.84-0.75-1.12z" fill=#e3b73a /> <path d="m276.47 190.31c0.04 0.08 0.14 0.25 0.18 0.33-0.04-0.08-0.14-0.25-0.18-0.33z" fill=#e3b73a /> <path d="m278.23 193.51c0.09 0.15 0.26 0.45 0.35 0.6-0.09-0.15-0.26-0.45-0.35-0.6z" fill=#e3b73a /> <path d="m279.22 195.24c0.1 0.17 0.3 0.53 0.4 0.7-0.1-0.17-0.3-0.53-0.4-0.7z" fill=#e3b73a /> <path d="m280.45 197.4c0.1 0.18 0.31 0.55 0.41 0.73-0.1-0.18-0.31-0.55-0.41-0.73z" fill=#e3b73a /> <path d="m280.86 198.13c0.09 0.15 0.27 0.47 0.36 0.63-0.09-0.16-0.27-0.48-0.36-0.63z" fill=#e3b73a /> <path d="m282.24 200.51c0.04 0.08 0.13 0.22 0.17 0.29-0.04-0.07-0.13-0.21-0.17-0.29z" fill=#e3b73a /> <path d="m283.38 202.47c0.08 0.14 0.24 0.41 0.32 0.55-0.08-0.14-0.24-0.41-0.32-0.55z" fill=#e3b73a /> <path d="m284.31 204.06c0.11 0.18 0.32 0.55 0.43 0.73-0.11-0.18-0.32-0.55-0.43-0.73z" fill=#e3b73a /> <path d="m286.47 207.71c0.17 0.29 0.52 0.86 0.69 1.15-0.17-0.29-0.52-0.86-0.69-1.15z" fill=#e3b73a /> <path d="m287.45 209.32c0.05 0.09 0.15 0.25 0.2 0.33-0.05-0.08-0.15-0.24-0.2-0.33z" fill=#e3b73a /> <path d="m289.43 212.46l0.07 0.1 0.06 0.13c-0.03-0.06-0.1-0.17-0.13-0.23z" fill=#e3b73a /> <path d="m291.5 216.56c0.09 0.15 0.25 0.44 0.34 0.59-0.09-0.15-0.25-0.44-0.34-0.59z" fill=#e3b73a /> <path d="m291.84 217.15l0.4 0.68-0.4-0.68z" fill=#e3b73a /> <path d="m293.19 219.44c0.05 0.09 0.15 0.27 0.21 0.36-0.06-0.09-0.16-0.27-0.21-0.36z" fill=#e3b73a /> <path d="m294.06 220.98c11.53 4.24 23.46 7.26 35.11 11.11 12.52 3.71 24.94 7.72 37.49 11.32 22.77 7.31 45.75 14 68.52 21.35-0.34 4.87 0.62 9.86-0.59 14.64-0.93 4.65-6.49 5.38-8.78 9.09-30.77 0.01-61.53 0.1-92.29-0.03l-0.66-0.05c-12.71-22.6-25.93-44.92-38.8-67.43z" fill=#e3b73a /> <path d="m472.71 222.08c0.08 0.13 0.24 0.41 0.32 0.54-0.08-0.13-0.24-0.41-0.32-0.54z" fill=#e8b835 /> <path d="m474.62 225.24c0.08 0.13 0.24 0.4 0.32 0.53-0.08-0.13-0.24-0.4-0.32-0.53z" fill=#e8b835 /> <path d="m475.74 227.14c0.05 0.09 0.15 0.28 0.21 0.37-0.06-0.09-0.16-0.28-0.21-0.37z" fill=#e8b835 /> <path d="m476.95 229.25c0.1 0.17 0.29 0.52 0.39 0.69-0.1-0.17-0.29-0.52-0.39-0.69z" fill=#e8b835 /> <path d="m477.34 229.94c0.09 0.15 0.27 0.46 0.36 0.62-0.09-0.16-0.27-0.47-0.36-0.62z" fill=#e8b835 /> <path d="m478.68 232.26l0.16 0.28-0.16-0.28z" fill=#e8b835 /> <path d="m479.82 234.22c0.04 0.07 0.12 0.2 0.16 0.27-0.04-0.07-0.12-0.2-0.16-0.27z" fill=#e8b835 /> <path d="m480.96 236.19c0.1 0.17 0.29 0.5 0.39 0.67-0.1-0.17-0.29-0.5-0.39-0.67z" fill=#e8b835 /> <path d="m481.35 236.86c0.09 0.17 0.28 0.5 0.37 0.66-0.09-0.16-0.28-0.49-0.37-0.66z" fill=#e8b835 /> <path d="m482.73 239.3c0.14 0.35 0.42 1.03 0.56 1.37-0.14-0.34-0.42-1.02-0.56-1.37z" fill=#e8b835 /> <path d="m483.57 241.22c0.09 0.15 0.26 0.44 0.35 0.58l-0.22-0.29-0.13-0.29z" fill=#e8b835 /> <path d="m484.51 242.69c0.21 0.33 0.62 0.99 0.83 1.32-0.21-0.33-0.62-0.99-0.83-1.32z" fill=#e8b835 /> <path d="m485.34 244.01c0.12 0.2 0.38 0.6 0.5 0.8-0.12-0.2-0.38-0.6-0.5-0.8z" fill=#e8b835 /> <path d="m486.5 245.86c0.2 0.45 0.6 1.36 0.8 1.81-0.2-0.45-0.6-1.36-0.8-1.81z" fill=#e8b835 /> <path d="m487.6 248.21c0.05 0.09 0.15 0.26 0.2 0.34l-0.09-0.13-0.11-0.21z" fill=#e8b835 /> <path d="m489.55 251.16c0.11 0.18 0.33 0.54 0.45 0.72-0.12-0.18-0.34-0.54-0.45-0.72z" fill=#e8b835 /> <path d="m490.6 252.88c0.09 0.16 0.27 0.47 0.36 0.62-0.09-0.15-0.27-0.46-0.36-0.62z" fill=#e8b835 /> <path d="m491.97 255.27c0.09 0.16 0.27 0.48 0.36 0.64-0.09-0.16-0.27-0.48-0.36-0.64z" fill=#e8b835 /> <path d="m492.33 255.91c0.09 0.16 0.27 0.47 0.36 0.63-0.09-0.16-0.27-0.47-0.36-0.63z" fill=#e8b835 /> <path d="m493.69 258.25c0.04 0.08 0.13 0.23 0.18 0.3-0.05-0.07-0.14-0.22-0.18-0.3z" fill=#e8b835 /> <path d="m494.78 260.15c0.06 0.1 0.18 0.31 0.24 0.41-0.06-0.1-0.18-0.31-0.24-0.41z" fill=#e8b835 /> <path d="m495.94 262.17c0.11 0.18 0.32 0.55 0.43 0.73-0.11-0.18-0.32-0.55-0.43-0.73z" fill=#e8b835 /> <path d="m496.37 262.9c0.09 0.16 0.28 0.48 0.37 0.64-0.09-0.16-0.28-0.48-0.37-0.64z" fill=#e8b835 /> <path d="m435.18 264.76c25.09 6.93 49.71 15.46 74.73 22.65l0.22 0.82c-28.09 0.64-56.22 0.11-84.32 0.26 2.29-3.71 7.85-4.44 8.78-9.09 1.21-4.78 0.25-9.77 0.59-14.64z" fill=#e8b835 /> <path d="m498.85 267.3c0.1 0.21 0.3 0.63 0.39 0.84-0.09-0.21-0.29-0.63-0.39-0.84z" fill=#e8b835 /> <path d="m499.7 269.18c0.12 0.2 0.36 0.61 0.47 0.81-0.11-0.2-0.35-0.61-0.47-0.81z" fill=#e8b835 /> <path d="m500.17 269.99c0.15 0.2 0.44 0.58 0.59 0.77-0.15-0.19-0.44-0.57-0.59-0.77z" fill=#e8b835 /> <path d="m501.45 271.74c0.12 0.19 0.36 0.57 0.49 0.77-0.13-0.2-0.37-0.58-0.49-0.77z" fill=#e8b835 /> <path d="m502.95 274.26c0.09 0.16 0.27 0.48 0.36 0.64-0.09-0.16-0.27-0.48-0.36-0.64z" fill=#e8b835 /> <path d="m503.31 274.9c0.09 0.16 0.27 0.47 0.37 0.63-0.1-0.16-0.28-0.47-0.37-0.63z" fill=#e8b835 /> <path d="m504.68 277.25c0.04 0.08 0.12 0.22 0.16 0.29-0.04-0.07-0.12-0.21-0.16-0.29z" fill=#e8b835 /> <path d="m505.79 279.2c0.04 0.07 0.12 0.2 0.16 0.27-0.04-0.07-0.12-0.2-0.16-0.27z" fill=#e8b835 /> <path d="m506.92 281.16c0.1 0.17 0.3 0.51 0.4 0.69-0.1-0.18-0.3-0.52-0.4-0.69z" fill=#e8b835 /> <path d="m507.32 281.85c0.1 0.17 0.3 0.51 0.39 0.68-0.09-0.17-0.29-0.51-0.39-0.68z" fill=#e8b835 /> <path d="m508.71 284.25c0.04 0.07 0.11 0.21 0.15 0.28-0.04-0.07-0.11-0.21-0.15-0.28z" fill=#e8b835 /> <path d="m509.92 286.51c0.13 0.23 0.38 0.69 0.51 0.92l-0.52-0.02 0.01-0.9z" fill=#e8b835 /> <path d="m147.21 341.08c10.31-17.58 20.11-35.49 30.76-52.86 51.63 0.19 103.27-0.29 154.89 0.19l0.66 0.05c-26.11 0.84-52.29-0.22-78.4 0.44-4.98 3.21-8.3 8.41-13.07 11.91-4.43 3.23-7.69 7.73-11.92 11.18-5.93 4.37-10.34 10.43-16.36 14.71-6.96 7.37-14.99 13.58-22.01 20.91-5.26 4.04-9.66 9.03-14.56 13.48-5.39 3.91-9.52 9.21-14.56 13.53-0.13 0.11-0.38 0.33-0.51 0.45-0.27 0.21-0.8 0.65-1.07 0.86-0.13 0.11-0.37 0.31-0.5 0.42-3.97 3.07-7.01 7.12-10.91 10.27-0.13 0.11-0.38 0.32-0.5 0.42-0.13 0.11-0.38 0.32-0.51 0.42-5.69 4.67-10.25 10.58-16.22 14.93-6.01 5.96-12.79 11.08-18.5 17.36-8.44 6.94-15.74 15.13-24.44 21.78 2.16-4.71 5.02-9.03 7.53-13.54 16.74-28.97 33.46-57.94 50.2-86.91z" fill=#296ad9 /> <path d="m89.04 442.17c0.11-0.16 0.33-0.48 0.44-0.64l-0.03 0.65-0.41-0.01z" fill=#296ad9 /> <path id=#2a71e9ff fill=#2a71e9 d="m333.52 288.46c30.76 0.13 61.52 0.04 92.29 0.03 28.1-0.15 56.23 0.38 84.32-0.26l0.59-0.04 0.4 0.11v0.08c-29.66 51.27-59.23 102.6-88.89 153.88-110.93-0.03-221.86 0.1-332.78-0.08l0.03-0.65c8.7-6.65 16-14.84 24.44-21.78 5.71-6.28 12.49-11.4 18.5-17.36 5.97-4.35 10.53-10.26 16.22-14.93 0.13-0.1 0.38-0.31 0.51-0.42 0.12-0.1 0.37-0.31 0.5-0.42 3.9-3.15 6.94-7.2 10.91-10.27 0.13-0.11 0.37-0.31 0.5-0.42 0.27-0.21 0.8-0.65 1.07-0.86 0.13-0.12 0.38-0.34 0.51-0.45 5.04-4.32 9.17-9.62 14.56-13.53 4.9-4.45 9.3-9.44 14.56-13.48 7.02-7.33 15.05-13.54 22.01-20.91 6.02-4.28 10.43-10.34 16.36-14.71 4.23-3.45 7.49-7.95 11.92-11.18 4.77-3.5 8.09-8.7 13.07-11.91 26.11-0.66 52.29 0.4 78.4-0.44z"/> <path d="m162.13 375.07c0.13-0.12 0.38-0.34 0.51-0.45-0.13 0.11-0.38 0.33-0.51 0.45z" fill=#286ee6 /> <path d="m161.06 375.93c0.27-0.21 0.8-0.65 1.07-0.86-0.27 0.21-0.8 0.65-1.07 0.86z" fill=#286ee6 /> <path d="m160.56 376.35c0.13-0.11 0.37-0.31 0.5-0.42-0.13 0.11-0.37 0.31-0.5 0.42z" fill=#286ee6 /> <path d="m149.15 387.04c0.12-0.1 0.37-0.31 0.5-0.42-0.13 0.11-0.38 0.32-0.5 0.42z" fill=#286ee6 /> <path d="m148.64 387.46c0.13-0.1 0.38-0.31 0.51-0.42-0.13 0.11-0.38 0.32-0.51 0.42z" fill=#286ee6 /> </svg> <div>Google Drive</div> </button> </div> </div> </div> <div class="rs-box rs-box-sign-in"> <div class=rs-content> <form name=rs-sign-in-form class=rs-sign-in-form> <h1 class=rs-big-headline>Connect your storage</h1> <input type=text name=rs-user-address placeholder=user@provider.com autocapitalize=off> <div class="rs-sign-in-error rs-hidden"></div> <input type=submit value=Connect> <a href=https://remotestorage.io/get/ class=rs-help target=_blank>Need help?</a> </form> </div> </div> </div> '
},function(a,b){a.exports='/* RemoteStorage widget styles */\n\n.rs-widget {\n  box-sizing: border-box;\n  z-index: 21000000; /* Make sure we\'re on a reasonably high visibility layer */\n  overflow: hidden;\n  max-width: 350px;\n  padding: 10px;\n  margin: 10px;\n  border-radius: 3px;\n  background-color: #fff;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n  font-family: arial, sans-serif;\n  font-size: 16px;\n  color: #333;\n  will-change: max-height, height, width, opacity, max-width, background, box-shadow;\n  transition-property: width, height, opacity, max-width, max-height, background, box-shadow;\n  transition-duration: 300ms;\n}\n\n.rs-widget * {\n  box-sizing: border-box;\n}\n\n.rs-widget .rs-hidden {\n  display: none;\n}\n\n.rs-box {\n  overflow: hidden;\n  will-change: height;\n  transition-property: height, width, max-height;\n  transition-duration: 300ms;\n  transition-timing-function: ease-in;\n  opacity: 0;\n  max-height: 0px;\n}\n\n.rs-box.rs-selected {\n  opacity: 1;\n  max-height: 420px;\n}\n\n/* Main logo */\n.rs-main-logo {\n  float: left;\n  height: 36px;\n  width: 36px;\n  margin-top: 1px;\n  margin-right: 0.625em;\n  transition: margin-left 300ms ease-out, transform 300ms ease-out;\n  cursor: pointer;\n}\n.rs-widget .rs-backend-remotestorage svg#rs-main-logo-remotestorage,\n{\n  display: normal;\n}\n.rs-widget[class*="rs-backend-"]:not(.rs-backend-remotestorage) svg#rs-main-logo-remotestorage {\n  display: none;\n}\n.rs-widget.rs-backend-dropbox svg#rs-main-logo-dropbox {\n  display: normal;\n}\n.rs-widget:not(.rs-backend-dropbox) svg#rs-main-logo-dropbox {\n  display: none;\n}\n.rs-widget.rs-backend-googledrive svg#rs-main-logo-googledrive {\n  display: normal;\n}\n.rs-widget:not(.rs-backend-googledrive) svg#rs-main-logo-googledrive {\n  display: none;\n}\n\npolygon.rs-logo-shape {\n  fill: #FF4B03;\n  transition-property: fill;\n  transition-duration: 0.5s;\n}\n\n.rs-state-offline polygon.rs-logo-shape {\n  fill: #888;\n  transition-property: fill;\n  transition-duration: 0.5s;\n}\n\n/* Hide everything except logo when connected and clicked outside of box */\n.rs-state-close {\n  max-width: 56px;\n  background-color: transparent;\n  box-shadow: none;\n  opacity: 0.5;\n\n  transition: max-height 100ms ease-out 0ms, max-width 300ms ease-out 300ms, background 300ms ease-in 200ms, opacity 300ms ease 200ms; \n}\n\n.rs-state-close:hover {\n  cursor: pointer;\n  opacity: 1;\n}\n\n.rs-box-initial {\n  transition-duration: 0ms;\n}\n\n.rs-box-initial:hover {\n  cursor: pointer;\n}\n\n.rs-widget a {\n  color: #0093cc;\n}\n\n/* HEADLINE */\n.rs-small-headline {\n  font-size: 1em;\n  font-weight: bold;\n  margin: 0;\n  margin-bottom: 2px;\n  height: 1.2em;\n  word-break: break-all;\n  overflow: hidden;\n  line-height: 1em;\n}\n\n.rs-sub-headline {\n  word-break: break-all;\n  overflow: hidden;\n  color: #666;\n  font-size: 0.92em;\n  height: 1.2em;\n}\n.rs-big-headline {\n  font-size: 1.625em;\n  font-weight: normal;\n  text-align: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n/* BUTTONS  */\n.rs-button {\n  font: inherit;\n  color: inherit;\n  background-color: transparent;\n  border: 1px solid #dcdcdc;\n  border-radius: 3px;\n  cursor: pointer;\n}\n.rs-button-small {\n  padding: 0.5em 0.6em;\n  margin-left: 0.3em;\n  transition: border-color 300ms ease-out;\n}\n.rs-button-wrap {\n  margin-top: 10px;\n}\n\n.rs-button-wrap img,\n.rs-button-wrap svg {\n  float: left;\n  margin-right: 0.6em;\n  width: 40px;\n  height: 40px;\n}\n\n.rs-button-big {\n  padding: 15px 10px;\n  margin-bottom: 10px;\n  display: block;\n  width: 100%;\n  text-align: left;\n  transition: box-shadow 200ms;\n}\n.rs-button-big > div {\n  font-size: 1.125em;\n  padding: 10px 0;\n}\n.rs-button-big:hover {\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n}\n.rs-button-big:active {\n  background-color: #eee;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n}\n.rs-button-big:last-child {\n  margin-bottom: 0;\n}\n\n.rs-content {\n  padding: 0 10px 10px 10px;\n}\n\n\n.rs-state-choose .rs-main-logo,\n.rs-state-sign-in .rs-main-logo {\n  margin-left: 45%;\n  float: none;\n}\n\n.rs-sign-in-form input[type=text] {\n  padding: 15px 10px;\n  display: block;\n  width: 100%;\n  font: inherit;\n  height: 52px;\n  border: 1px solid #aaa;\n  border-radius: 0;\n  box-shadow: none;\n}\n.rs-sign-in-form input[type=submit] {\n  padding: 15px 10px;\n  margin-top: 20px;\n  margin-bottom: 15px;\n  display: block;\n  width: 100%;\n  border: none;\n  border-radius: 3px;\n  background-color: #3fb34f;\n  font: inherit;\n  color: #fff;\n  transition: box-shadow 200ms, background-color 200ms;\n}\n.rs-sign-in-form input[type=submit]:hover {\n  cursor: pointer;\n  background-color: #4BCB5D;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.1), 0 3px 8px 0 rgba(0,0,0,0.2);\n}\n.rs-sign-in-form input[type=submit]:active {\n  background-color: #3fb34f;\n}\n\n.rs-sign-in-error.rs-hidden,\n.rs-box-error.rs-hidden {\n  height: 0;\n}\n\n.rs-sign-in-error.rs-visible,\n.rs-box-error.rs-visible {\n  height: auto;\n  border-radius: 3px;\n  padding: 0.5em 0.5em;\n  margin-top: 0.5em;\n  text-align: center;\n  background-color: rgba(255,0,0,0.1);\n  color: darkred;\n}\n\n.rs-box-error .rs-error-message {\n  float: left;\n  max-width: 242px;\n}\n\n /*Choose provider box */\n.rs-box-choose {\n  text-align: center;\n  overflow: hidden;\n}\n\n.rs-box-choose p {\n  margin-top: 0;\n  margin-bottom: 20px;\n  line-height: 1.4em;\n}\n\n/*Connected box */\n.rs-box-connected {\n  height: 40px;\n  transition: height 0s;\n}\n.rs-connected-text {\n  float: left;\n}\n.rs-box-connected .rs-user {\n  font-weight: bold;\n  max-width: 210px;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  word-break: keep-all;\n}\n.rs-connected-buttons, .rs-error-buttons {\n  float: right;\n}\n.rs-disconnect:hover {\n  border-color: #FF2D2D;\n}\n.rs-disconnect:hover .rs-icon{\n  fill: #FF2D2D;\n}\n.rs-sync:hover {\n  border-color: #FFBB0C;\n}\n.rs-sync:hover .rs-icon {\n  fill: #FFBB0C;\n}\n.rs-sync.rs-rotate {\n  border-color: #FFBB0C;\n}\n.rs-sync.rs-rotate .rs-icon {\n  fill: #FFBB0C;\n  animation: rs-spin 1s linear infinite;\n}\n@keyframes rs-spin { 100% { transform: rotate(360deg); transform:rotate(360deg); } }\n\n/* Floating widget styles (top right corner) */\n.rs-floating {\n  position: fixed;\n  top: 0;\n  right: 0;\n}\n\n\n/* Small/mobile screens */\n@media screen and (max-width: 420px) {\n  .rs-widget {\n    font-size: 100%;\n    transition: all 300ms ease-out;\n    max-width: 400px;\n  }\n  .rs-floating {\n    position: relative;\n    top: auto;\n    right: auto\n  }\n  .rs-state-close {\n    max-width: 56px;\n  }\n  .rs-state-choose,\n  .rs-state-sign-in {\n    position: fixed;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    max-width: 100%;\n  }\n}\n\n/* remove dotted outline border on Firefox */\n.rs-widget a:focus,\n.rs-widget a:active,\n.rs-widget button:focus,\n.rs-widget input:focus {\n  outline:none;\n}\n.rs-widget button::-moz-focus-inner, \n.rs-widget input[type="button"]::-moz-focus-inner,\n.rs-widget input[type="submit"]::-moz-focus-inner {\n  border:0;\n}\n\n/* prevent rounded buttons on mobile Safari */\n.rs-widget input[type="button"],\n.rs-widget input[type="submit"] {\n  -webkit-appearance: none;\n}\n'}])}),function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define("RemoteStorage",[],b):"object"==typeof exports?exports.RemoteStorage=b():a.RemoteStorage=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=17)}([function(a,b,c){"use strict";(function(b){function c(a,b){var e,f,g;if("object"===(void 0===a?"undefined":d(a))&&!Array.isArray(a)&&null!==a)for(e in a)"object"===d(a[e])&&null!==a[e]&&("[object ArrayBuffer]"===a[e].toString()?(b[e]=new ArrayBuffer(a[e].byteLength),f=new Int8Array(a[e]),g=new Int8Array(b[e]),g.set(f)):c(a[e],b[e]))}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e={logError:function(a){"string"==typeof a?console.error(a):console.error(a.message,a.stack)},globalContext:"undefined"!=typeof window?window:b,getGlobalContext:function(){return"undefined"!=typeof window?window:b},extend:function(a){return Array.prototype.slice.call(arguments,1).forEach(function(b){for(var c in b)a[c]=b[c]}),a},asyncEach:function(a,b){return this.asyncMap(a,b).then(function(){return a})},asyncMap:function(a,b){function c(){++g===f&&e.resolve(h,i)}var e=Promise.defer(),f=a.length,g=0,h=[],i=[];return a.forEach(function(a,e){var f;try{f=b(a)}catch(a){c(),i[e]=a}"object"===(void 0===f?"undefined":d(f))&&"function"==typeof f.then?f.then(function(a){h[e]=a,c()},function(a){i[e]=a,c()}):(c(),h[e]=f)}),e.promise},containingFolder:function(a){if(""===a)return"/";if(!a)throw"Path not given!";return a.replace(/\/+/g,"/").replace(/[^\/]+\/?$/,"")},isFolder:function(a){return"/"===a.substr(-1)},isDocument:function(a){return!e.isFolder(a)},baseName:function(a){var b=a.split("/");return e.isFolder(a)?b[b.length-2]+"/":b[b.length-1]},cleanPath:function(a){return a.replace(/\/+/g,"/").split("/").map(encodeURIComponent).join("/").replace(/'/g,"%27")},bindAll:function(a){for(var b in this)"function"==typeof a[b]&&(a[b]=a[b].bind(a))},equal:function(a,b,c){var f;if(c=c||[],(void 0===a?"undefined":d(a))!==(void 0===b?"undefined":d(b)))return!1;if("number"==typeof a||"boolean"==typeof a||"string"==typeof a)return a===b;if("function"==typeof a)return a.toString()===b.toString();if(a instanceof ArrayBuffer&&b instanceof ArrayBuffer&&(a=new Uint8Array(a),b=new Uint8Array(b)),a instanceof Array){if(a.length!==b.length)return!1;for(var g=0,h=a.length;g<h;g++)if(!e.equal(a[g],b[g],c))return!1}else{for(f in a)if(a.hasOwnProperty(f)&&!(f in b))return!1;for(f in b)if(b.hasOwnProperty(f)){if(!(f in a))return!1;var i;if("object"===d(b[f])){if(c.indexOf(b[f])>=0)continue;i=c.slice(),i.push(b[f])}if(!e.equal(a[f],b[f],i))return!1}}return!0},deepClone:function(a){var b;return void 0===a?void 0:(b=JSON.parse(JSON.stringify(a)),c(a,b),b)},pathsFromRoot:function(a){for(var b=[a],c=a.replace(/\/$/,"").split("/");c.length>1;)c.pop(),b.push(c.join("/")+"/");return b},localStorageAvailable:function(){var a=e.getGlobalContext();if(!("localStorage"in a))return!1;try{return a.localStorage.setItem("rs-check",1),a.localStorage.removeItem("rs-check"),!0}catch(a){return!1}},shouldBeTreatedAsBinary:function(a,b){return b&&b.match(/charset=binary/)||/[\x00-\x1F]/.test(a)},readBinaryData:function(a,c){return new Promise(function(d){var f=void 0;if(e.globalContext.BlobBuilder=e.globalContext.BlobBuilder||e.globalContext.WebKitBlobBuilder,void 0!==e.globalContext.BlobBuilder){var g=new b.BlobBuilder;g.append(a),f=g.getBlob(c)}else f=new Blob([a],{type:c});var h=new FileReader;"function"==typeof h.addEventListener?h.addEventListener("loadend",function(){d(h.result)}):h.onloadend=function(){d(h.result)},h.readAsArrayBuffer(f)})}};a.exports=e}).call(b,c(6))},function(a,b,c){"use strict";function d(){e.logging&&console.log.apply(console,arguments)}var e=c(3);a.exports=d},function(a,b,c){"use strict";var d=c(1),e={addEventListener:function(a,b){if("string"!=typeof a)throw new Error("Argument eventName should be a string");if("function"!=typeof b)throw new Error("Argument handler should be a function");d("[Eventhandling] Adding event listener",a),this._validateEvent(a),this._handlers[a].push(b)},removeEventListener:function(a,b){this._validateEvent(a);for(var c=this._handlers[a].length,d=0;d<c;d++)if(this._handlers[a][d]===b)return void this._handlers[a].splice(d,1)},_emit:function(a){this._validateEvent(a);var b=Array.prototype.slice.call(arguments,1);this._handlers[a].slice().forEach(function(a){a.apply(this,b)})},_validateEvent:function(a){if(!(a in this._handlers))throw new Error("Unknown event: "+a)},_delegateEvent:function(a,b){b.on(a,function(b){this._emit(a,b)}.bind(this))},_addEvent:function(a){this._handlers[a]=[]}};e.on=e.addEventListener,e.off=e.removeEventListener,a.exports=function(a){var b=Array.prototype.slice.call(arguments,1);for(var c in e)a[c]=e[c];a._handlers={},b.forEach(function(b){a._addEvent(b)})}},function(a,b,c){"use strict";var d={cache:!0,changeEvents:{local:!0,window:!1,remote:!0,conflict:!0},cordovaRedirectUri:void 0,logging:!1,modules:[],backgroundSyncInterval:6e4,disableFeatures:[],discoveryTimeout:1e4,isBackground:!1,requestTimeout:3e4,syncInterval:1e4};a.exports=d},function(a,b,c){"use strict";function d(a){var b,c=a||h.getLocation().href,d=c.indexOf("#");if(-1!==d&&(b=c.substring(d+1),-1!==b.indexOf("=")))return b.split("&").reduce(function(a,b){var c=b.split("=");if("state"===c[0]&&c[1].match(/rsDiscovery/)){var d=decodeURIComponent(c[1]),e=d.substr(d.indexOf("rsDiscovery=")).split("&")[0].split("=")[1];a.rsDiscovery=JSON.parse(atob(e)),d=d.replace(new RegExp("&?rsDiscovery="+e),""),d.length>0&&(a.state=d)}else a[decodeURIComponent(c[0])]=decodeURIComponent(c[1]);return a},{})}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=c(0),h=function a(b,c,d,e,h){if(f("[Authorize] authURL = ",c,"scope = ",d,"redirectUri = ",e,"clientId = ",h),!g.localStorageAvailable()&&"remotestorage"===b.backend){e+=e.indexOf("#")>0?"&":"#";var i={userAddress:b.remote.userAddress,href:b.remote.href,storageApi:b.remote.storageApi,properties:b.remote.properties};e+="rsDiscovery="+btoa(JSON.stringify(i))}var j=c,k=e.indexOf("#");if(j+=c.indexOf("?")>0?"&":"?",j+="redirect_uri="+encodeURIComponent(e.replace(/#.*$/,"")),j+="&scope="+encodeURIComponent(d),j+="&client_id="+encodeURIComponent(h),-1!==k&&k+1!==e.length&&(j+="&state="+encodeURIComponent(e.substring(k+1))),j+="&response_type=token",g.globalContext.cordova)return a.openWindow(j,e,"location=yes,clearsessioncache=yes,clearcache=yes").then(function(a){b.remote.configure({token:a.access_token})});a.setLocation(j)};h.IMPLIED_FAKE_TOKEN=!1,h.Unauthorized=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="Unauthorized",this.message=void 0===a?"App authorization expired or revoked.":a,void 0!==b.code&&(this.code=b.code),this.stack=(new Error).stack},h.Unauthorized.prototype=Object.create(Error.prototype),h.Unauthorized.prototype.constructor=h.Unauthorized,h.getLocation=function(){return document.location},h.setLocation=function(a){if("string"==typeof a)document.location.href=a;else{if("object"!==(void 0===a?"undefined":e(a)))throw"Invalid location "+a;document.location=a}},h.openWindow=function(a,b,c){return new Promise(function(e,f){var g=open(a,"_blank",c);if(!g||g.closed)return f("Authorization popup was blocked");var h=function(){return f("Authorization was canceled")},i=function(a){if(0===a.url.indexOf(b)){g.removeEventListener("exit",h),g.close();var c=d(a.url);return c?e(c):f("Authorization error")}};g.addEventListener("loadstart",i),g.addEventListener("exit",h)})},h._rs_supported=function(){return"undefined"!=typeof document};var i;h._rs_init=function(a){i=function(){var d=!1;if(c){if(c.error)throw"access_denied"===c.error?new h.Unauthorized("Authorization failed: access denied",{code:"access_denied"}):new h.Unauthorized("Authorization failed: "+c.error);c.rsDiscovery&&a.remote.configure(c.rsDiscovery),c.access_token&&(a.remote.configure({token:c.access_token}),d=!0),c.remotestorage&&(a.connect(c.remotestorage),d=!0),c.state&&(b=h.getLocation(),h.setLocation(b.href.split("#")[0]+"#"+c.state))}d||a.remote.stopWaitingForToken()};var b,c=d();c&&(b=h.getLocation(),b.hash=""),a.on("features-loaded",i)},h._rs_cleanup=function(a){a.removeEventListener("features-loaded",i)},a.exports=h},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(2),f=c(0),g=c(3),h=c(18),i=c(19),j=i.SchemaNotFound,k=function(a,b){if("/"!==b[b.length-1])throw"Not a folder: "+b;"/"===b&&(this.makePath=function(a){return("/"===a[0]?"":"/")+a}),this.storage=a,this.base=b;var c=this.base.split("/");c.length>2?this.moduleName=c[1]:this.moduleName="root",e(this,"change"),this.on=this.on.bind(this),a.onChange(this.base,this._fireChange.bind(this))};k.Types=i,k.prototype={scope:function(a){return new k(this.storage,this.makePath(a))},getListing:function(a,b){if("string"!=typeof a)a="";else if(a.length>0&&"/"!==a[a.length-1])return Promise.reject("Not a folder: "+a);return this.storage.get(this.makePath(a),b).then(function(a){return 404===a.statusCode?{}:a.body})},getAll:function(a,b){if("string"!=typeof a)a="";else if(a.length>0&&"/"!==a[a.length-1])return Promise.reject("Not a folder: "+a);return this.storage.get(this.makePath(a),b).then(function(c){if(404===c.statusCode)return{};if("object"===d(c.body)){var e=Object.keys(c.body);if(0===e.length)return{};var f=e.map(function(e){return this.storage.get(this.makePath(a+e),b).then(function(a){if("string"==typeof a.body)try{a.body=JSON.parse(a.body)}catch(a){}"object"===d(a.body)&&(c.body[e]=a.body)})}.bind(this));return Promise.all(f).then(function(){return c.body})}}.bind(this))},getFile:function(a,b){return"string"!=typeof a?Promise.reject("Argument 'path' of baseClient.getFile must be a string"):this.storage.get(this.makePath(a),b).then(function(a){return{data:a.body,contentType:a.contentType,revision:a.revision}})},storeFile:function(a,b,c){return"string"!=typeof a?Promise.reject("Argument 'mimeType' of baseClient.storeFile must be a string"):"string"!=typeof b?Promise.reject("Argument 'path' of baseClient.storeFile must be a string"):"string"!=typeof c&&"object"!==(void 0===c?"undefined":d(c))?Promise.reject("Argument 'body' of baseClient.storeFile must be a string, ArrayBuffer, or ArrayBufferView"):(this.storage.access.checkPathPermission(this.makePath(b),"rw")||console.warn("WARNING: Editing a document to which only read access ('r') was claimed"),this.storage.put(this.makePath(b),c,a).then(function(a){return 200===a.statusCode||201===a.statusCode?a.revision:Promise.reject("Request (PUT "+this.makePath(b)+") failed with status: "+a.statusCode)}.bind(this)))},getObject:function(a,b){return"string"!=typeof a?Promise.reject("Argument 'path' of baseClient.getObject must be a string"):this.storage.get(this.makePath(a),b).then(function(b){if("object"===d(b.body))return b.body;if("string"==typeof b.body)try{return JSON.parse(b.body)}catch(b){throw"Not valid JSON: "+this.makePath(a)}else if(void 0!==b.body&&200===b.statusCode)return Promise.reject("Not an object: "+this.makePath(a))}.bind(this))},storeObject:function(a,b,c){if("string"!=typeof a)return Promise.reject("Argument 'typeAlias' of baseClient.storeObject must be a string");if("string"!=typeof b)return Promise.reject("Argument 'path' of baseClient.storeObject must be a string");if("object"!==(void 0===c?"undefined":d(c)))return Promise.reject("Argument 'object' of baseClient.storeObject must be an object");this._attachType(c,a);try{var e=this.validate(c);if(!e.valid)return Promise.reject(e)}catch(a){return Promise.reject(a)}return this.storage.put(this.makePath(b),JSON.stringify(c),"application/json; charset=UTF-8").then(function(a){return 200===a.statusCode||201===a.statusCode?a.revision:Promise.reject("Request (PUT "+this.makePath(b)+") failed with status: "+a.statusCode)}.bind(this))},remove:function(a){return"string"!=typeof a?Promise.reject("Argument 'path' of baseClient.remove must be a string"):(this.storage.access.checkPathPermission(this.makePath(a),"rw")||console.warn("WARNING: Removing a document to which only read access ('r') was claimed"),this.storage.delete(this.makePath(a)))},getItemURL:function(a){if("string"!=typeof a)throw"Argument 'path' of baseClient.getItemURL must be a string";return this.storage.connected?(a=this._cleanPath(this.makePath(a)),this.storage.remote.href+a):void 0},cache:function(a,b){if("string"!=typeof a)throw"Argument 'path' of baseClient.cache must be a string";if(void 0===b)b="ALL";else if("string"!=typeof b)throw"Argument 'strategy' of baseClient.cache must be a string or undefined";if("FLUSH"!==b&&"SEEN"!==b&&"ALL"!==b)throw'Argument \'strategy\' of baseclient.cache must be one of ["FLUSH", "SEEN", "ALL"]';return this.storage.caching.set(this.makePath(a),b),this},flush:function(a){return this.storage.local.flush(a)},declareType:function(a,b,c){c||(c=b,b=this._defaultTypeURI(a)),k.Types.declare(this.moduleName,a,b,c)},validate:function(a){var b=k.Types.getSchema(a["@context"]);if(b)return h.validateResult(a,b);throw new j(a["@context"])},schemas:{configurable:!0,get:function(){return k.Types.inScope(this.moduleName)}},_defaultTypeURI:function(a){return"http://remotestorage.io/spec/modules/"+encodeURIComponent(this.moduleName)+"/"+encodeURIComponent(a)},_attachType:function(a,b){a["@context"]=k.Types.resolveAlias(this.moduleName+"/"+b)||this._defaultTypeURI(b)},makePath:function(a){return this.base+(a||"")},_fireChange:function(a){g.changeEvents[a.origin]&&(["new","old","lastCommon"].forEach(function(b){if((!a[b+"ContentType"]||/^application\/(.*)json(.*)/.exec(a[b+"ContentType"]))&&"string"==typeof a[b+"Value"])try{a[b+"Value"]=JSON.parse(a[b+"Value"])}catch(a){}}),this._emit("change",a))},_cleanPath:f.cleanPath},k._rs_init=function(){},a.exports=k},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){"use strict";(function(b,d){function e(a){return"string"!=typeof a?a:"*"===a?"*":'"'+a+'"'}function f(a){return"string"!=typeof a?a:a.replace(/^["']|["']$/g,"")}function g(a,c){return new Promise(function(e){if("undefined"==typeof Blob){var f=new b(new Uint8Array(a));e(f.toString(c))}else{var g;if(p.globalContext.BlobBuilder=p.globalContext.BlobBuilder||p.globalContext.WebKitBlobBuilder,void 0!==p.globalContext.BlobBuilder){var h=new d.BlobBuilder;h.append(a),g=h.getBlob()}else g=new Blob([a]);var i=new FileReader;"function"==typeof i.addEventListener?i.addEventListener("loadend",function(a){e(a.target.result)}):i.onloadend=function(a){e(a.target.result)},i.readAsText(g,c)}})}function h(a){var b,c="UTF-8";return a&&(b=a.match(/charset=(.+)$/))&&(c=b[1]),c}function i(a){return"http://remotestorage.io/spec/folder-description"===a["@context"]&&"object"===n(a.items)}function j(a){return[201,204,304].indexOf(a)>=0}function k(a){return[401,403,404,412].indexOf(a)>=0}var l,m,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},o=c(1),p=c(0),q=c(2),r=c(4),s=c(3),t="remotestorage:wireclient",u={"draft-dejong-remotestorage-00":2,"draft-dejong-remotestorage-01":3,"draft-dejong-remotestorage-02":4,"https://www.w3.org/community/rww/wiki/read-write-web-00#simple":1};if("function"==typeof ArrayBufferView)m=function(a){return a&&a instanceof ArrayBufferView};else{var v=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];m=function(a){for(var b=0;b<8;b++)if(a instanceof v[b])return!0;return!1}}var w=p.isFolder,x=p.cleanPath,y=p.shouldBeTreatedAsBinary,z=function(a){if(this.rs=a,this.connected=!1,q(this,"connected","not-connected"),l){var b;try{b=JSON.parse(localStorage[t])}catch(a){}b&&setTimeout(function(){this.configure(b)}.bind(this),0)}this._revisionCache={},this.connected&&setTimeout(this._emit.bind(this),0,"connected")};z.prototype={_request:function(a,b,c,d,e,i,l){if(("PUT"===a||"DELETE"===a)&&"/"===b[b.length-1])return Promise.reject("Don't "+a+" on directories!");var m,n=this;return c!==r.IMPLIED_FAKE_TOKEN&&(d.Authorization="Bearer "+c),this.rs._emit("wire-busy",{method:a,isFolder:w(b)}),z.request(a,b,{body:e,headers:d,responseType:"arraybuffer"}).then(function(c){if(n.online||(n.online=!0,n.rs._emit("network-online")),n.rs._emit("wire-done",{method:a,isFolder:w(b),success:!0}),k(c.status))return o("[WireClient] Error response status",c.status),m=i?f(c.getResponseHeader("ETag")):void 0,401===c.status&&n.rs._emit("error",new r.Unauthorized),Promise.resolve({statusCode:c.status,revision:m});if(j(c.status)||200===c.status&&"GET"!==a)return m=f(c.getResponseHeader("ETag")),o("[WireClient] Successful request",m),Promise.resolve({statusCode:c.status,revision:m});var d=c.getResponseHeader("Content-Type");m=i?f(c.getResponseHeader("ETag")):200===c.status?l:void 0;var e=h(d);return y(c.response,d)?(o("[WireClient] Successful request with unknown or binary mime-type",m),Promise.resolve({statusCode:c.status,body:c.response,contentType:d,revision:m})):g(c.response,e).then(function(a){return o("[WireClient] Successful request",m),Promise.resolve({statusCode:c.status,body:a,contentType:d,revision:m})})},function(c){return n.online&&(n.online=!1,n.rs._emit("network-offline")),n.rs._emit("wire-done",{method:a,isFolder:w(b),success:!1}),Promise.reject(c)})},configure:function(a){if("object"!==(void 0===a?"undefined":n(a)))throw new Error("WireClient configure settings parameter should be an object");void 0!==a.userAddress&&(this.userAddress=a.userAddress),void 0!==a.href&&(this.href=a.href),void 0!==a.storageApi&&(this.storageApi=a.storageApi),void 0!==a.token&&(this.token=a.token),void 0!==a.properties&&(this.properties=a.properties),void 0!==this.storageApi&&(this._storageApi=u[this.storageApi]||5,this.supportsRevs=this._storageApi>=2),this.href&&this.token?(this.connected=!0,this.online=!0,this._emit("connected")):this.connected=!1,l&&(localStorage[t]=JSON.stringify({userAddress:this.userAddress,href:this.href,storageApi:this.storageApi,token:this.token,properties:this.properties}))},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(a,b){var c=this;if(!this.connected)return Promise.reject("not connected (path: "+a+")");b||(b={});var d={};return this.supportsRevs&&b.ifNoneMatch&&(d["If-None-Match"]=e(b.ifNoneMatch)),this._request("GET",this.href+x(a),this.token,d,void 0,this.supportsRevs,this._revisionCache[a]).then(function(b){if(!w(a))return Promise.resolve(b);var d={};if(void 0!==b.body)try{b.body=JSON.parse(b.body)}catch(b){return Promise.reject("Folder description at "+c.href+x(a)+" is not JSON")}if(200===b.statusCode&&"object"===n(b.body)){if(0===Object.keys(b.body).length)b.statusCode=404;else if(i(b.body)){for(var e in b.body.items)c._revisionCache[a+e]=b.body.items[e].ETag;d=b.body.items}else Object.keys(b.body).forEach(function(e){c._revisionCache[a+e]=b.body[e],d[e]={ETag:b.body[e]}});return b.body=d,Promise.resolve(b)}return Promise.resolve(b)})},put:function(a,b,c,d){if(!this.connected)return Promise.reject("not connected (path: "+a+")");d||(d={}),!c.match(/charset=/)&&(b instanceof ArrayBuffer||m(b))&&(c+="; charset=binary");var f={"Content-Type":c};return this.supportsRevs&&(d.ifMatch&&(f["If-Match"]=e(d.ifMatch)),d.ifNoneMatch&&(f["If-None-Match"]=e(d.ifNoneMatch))),this._request("PUT",this.href+x(a),this.token,f,b,this.supportsRevs)},delete:function(a,b){if(!this.connected)throw new Error("not connected (path: "+a+")");b||(b={});var c={};return this.supportsRevs&&b.ifMatch&&(c["If-Match"]=e(b.ifMatch)),this._request("DELETE",this.href+x(a),this.token,c,void 0,this.supportsRevs)}},z.isArrayBufferView=m,z.request=function(a,b,c){return new Promise(function(d,e){o("[WireClient]",a,b);var f=!1,g=setTimeout(function(){f=!0,e("timeout")},s.requestTimeout),h=new XMLHttpRequest;if(h.open(a,b,!0),c.responseType&&(h.responseType=c.responseType),c.headers)for(var i in c.headers)h.setRequestHeader(i,c.headers[i]);h.onload=function(){f||(clearTimeout(g),d(h))},h.onerror=function(a){f||(clearTimeout(g),e(a))};var j=c.body;"object"===(void 0===j?"undefined":n(j))&&!m(j)&&j instanceof ArrayBuffer&&(j=new Uint8Array(j)),h.send(j)})},Object.defineProperty(z.prototype,"storageType",{get:function(){if(this.storageApi){var a=this.storageApi.match(/draft-dejong-(remotestorage-\d\d)/);return a?a[1]:"2012.04"}}}),z._rs_init=function(a){l=p.localStorageAvailable(),a.remote=new z(a),this.online=!0},z._rs_supported=function(){return!!XMLHttpRequest},z._rs_cleanup=function(){l&&delete localStorage[t]},a.exports=z}).call(b,c(20).Buffer,c(6))},function(a,b,c){"use strict";function d(a,b,c){return{action:a,path:b,promise:c}}function e(a,b){return a.common.revision!==b&&(!a.remote||a.remote.revision!==b)}function f(a){return a.remote&&a.remote.revision&&!a.remote.itemsMap&&!a.remote.body}function g(a){return a.common&&a.common.revision}function h(a){return(!a.remote||!a.remote.revision||a.remote.revision===a.common.revision)&&(void 0===a.common.body&&!1===a.remote.body||a.remote.body===a.common.body&&a.remote.contentType===a.common.contentType)}function i(a){return a.remote&&!1===a.remote.body&&a.local&&!1===a.local.body&&delete a.local,a}function j(){function a(a){var c,d;c=b.getCurrentSyncInterval(),q.isBackground=!a,d=b.getCurrentSyncInterval(),b._emit("sync-interval-change",{oldValue:c,newValue:d})}var b=this;m.on("background",function(){a(!1)}),m.on("foreground",function(){a(!0)})}var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},l=c(0),m=c(12),n=c(2),o=c(1),p=c(4),q=c(3),r=l.isFolder,s=l.isDocument,t=l.equal,u=l.deepClone,v=l.pathsFromRoot,w=function(a,b,c,d,e){this.remoteStorage=a,this.local=b,this.local.onDiff(function(a){this.addTask(a),this.doTasks()}.bind(this)),this.remote=c,this.access=d,this.caching=e,this._tasks={},this._running={},this._timeStarted={},n(this,"done","req-done"),this.caching.onActivate(function(a){this.addTask(a),this.doTasks()}.bind(this))};w.prototype={now:function(){return(new Date).getTime()},queueGetRequest:function(a){var b=this;return new Promise(function(c,d){b.remote.connected?b.remote.online?(b.addTask(a,function(){this.local.get(a).then(function(a){return c(a)})}.bind(b)),b.doTasks()):d("cannot fulfill maxAge requirement - remote is not online"):d("cannot fulfill maxAge requirement - remote is not connected")})},corruptServerItemsMap:function(a,b){if("object"!==(void 0===a?"undefined":k(a))||Array.isArray(a))return!0;for(var c in a){var d=a[c];if("object"!==(void 0===d?"undefined":k(d)))return!0;if("string"!=typeof d.ETag)return!0;if(r(c)){if(-1!==c.substring(0,c.length-1).indexOf("/"))return!0}else{if(-1!==c.indexOf("/"))return!0;if(b){if("string"!=typeof d["Content-Type"])return!0;if("number"!=typeof d["Content-Length"])return!0}}}return!1},corruptItemsMap:function(a){if("object"!==(void 0===a?"undefined":k(a))||Array.isArray(a))return!0;for(var b in a)if("boolean"!=typeof a[b])return!0;return!1},corruptRevision:function(a){return"object"!==(void 0===a?"undefined":k(a))||Array.isArray(a)||a.revision&&"string"!=typeof a.revision||a.body&&"string"!=typeof a.body&&"object"!==k(a.body)||a.contentType&&"string"!=typeof a.contentType||a.contentLength&&"number"!=typeof a.contentLength||a.timestamp&&"number"!=typeof a.timestamp||a.itemsMap&&this.corruptItemsMap(a.itemsMap)},isCorrupt:function(a){
return"object"!==(void 0===a?"undefined":k(a))||Array.isArray(a)||"string"!=typeof a.path||this.corruptRevision(a.common)||a.local&&this.corruptRevision(a.local)||a.remote&&this.corruptRevision(a.remote)||a.push&&this.corruptRevision(a.push)},hasTasks:function(){return Object.getOwnPropertyNames(this._tasks).length>0},collectDiffTasks:function(){var a=0;return this.local.forAllNodes(function(b){a>100||(this.isCorrupt(b)?(o("[Sync] WARNING: corrupt node in local cache",b),"object"===(void 0===b?"undefined":k(b))&&b.path&&(this.addTask(b.path),a++)):this.needsFetch(b)&&this.access.checkPathPermission(b.path,"r")?(this.addTask(b.path),a++):s(b.path)&&this.needsPush(b)&&this.access.checkPathPermission(b.path,"rw")&&(this.addTask(b.path),a++))}.bind(this)).then(function(){return a},function(a){throw a})},inConflict:function(a){return a.local&&a.remote&&(void 0!==a.remote.body||a.remote.itemsMap)},needsRefresh:function(a){return!!a.common&&(!a.common.timestamp||this.now()-a.common.timestamp>q.syncInterval)},needsFetch:function(a){return!!this.inConflict(a)||!(!a.common||void 0!==a.common.itemsMap||void 0!==a.common.body)||!(!a.remote||void 0!==a.remote.itemsMap||void 0!==a.remote.body)},needsPush:function(a){return!this.inConflict(a)&&(!(!a.local||a.push)||void 0)},needsRemotePut:function(a){return a.local&&a.local.body},needsRemoteDelete:function(a){return a.local&&!1===a.local.body},getParentPath:function(a){var b=a.match(/^(.*\/)([^\/]+\/?)$/);if(b)return b[1];throw new Error('Not a valid path: "'+a+'"')},deleteChildPathsFromTasks:function(){for(var a in this._tasks)for(var b=v(a),c=1;c<b.length;c++)this._tasks[b[c]]&&(Array.isArray(this._tasks[a])&&this._tasks[a].length&&Array.prototype.push.apply(this._tasks[b[c]],this._tasks[a]),delete this._tasks[a])},collectRefreshTasks:function(){return this.local.forAllNodes(function(a){var b;if(this.needsRefresh(a)){try{b=this.getParentPath(a.path)}catch(a){}b&&this.access.checkPathPermission(b,"r")?this.addTask(b):this.access.checkPathPermission(a.path,"r")&&this.addTask(a.path)}}.bind(this)).then(function(){this.deleteChildPathsFromTasks()}.bind(this),function(a){throw a})},flush:function(a){for(var b in a)"FLUSH"===this.caching.checkPath(b)&&a[b]&&!a[b].local&&(o("[Sync] Flushing",b),a[b]=void 0);return a},doTask:function(a){return this.local.getNodes([a]).then(function(b){var c=b[a];return void 0===c?d("get",a,this.remote.get(a)):f(c)?d("get",a,this.remote.get(a)):this.needsRemotePut(c)?(c.push=u(c.local),c.push.timestamp=this.now(),this.local.setNodes(this.flush(b)).then(function(){var b;return b=g(c)?{ifMatch:c.common.revision}:{ifNoneMatch:"*"},d("put",a,this.remote.put(a,c.push.body,c.push.contentType,b))}.bind(this))):this.needsRemoteDelete(c)?(c.push={body:!1,timestamp:this.now()},this.local.setNodes(this.flush(b)).then(function(){return g(c)?d("delete",a,this.remote.delete(a,{ifMatch:c.common.revision})):d("get",a,this.remote.get(a))}.bind(this))):g(c)?d("get",a,this.remote.get(a,{ifNoneMatch:c.common.revision})):d("get",a,this.remote.get(a))}.bind(this))},autoMergeFolder:function(a){if(a.remote.itemsMap&&(a.common=a.remote,delete a.remote,a.common.itemsMap)){for(var b in a.common.itemsMap)a.local.itemsMap[b]||(a.local.itemsMap[b]=!1);t(a.local.itemsMap,a.common.itemsMap)&&delete a.local}return a},autoMergeDocument:function(a){return h(a)?(a=i(a),delete a.remote):void 0!==a.remote.body&&(o("[Sync] Emitting keep/revert"),this.local._emitChange({origin:"conflict",path:a.path,oldValue:a.local.body,newValue:a.remote.body,lastCommonValue:a.common.body,oldContentType:a.local.contentType,newContentType:a.remote.contentType,lastCommonContentType:a.common.contentType}),a.remote.body?a.common=a.remote:a.common={},delete a.remote,delete a.local),a},autoMerge:function(a){if(!a.remote)return void(a.common.body&&this.local._emitChange({origin:"remote",path:a.path,oldValue:a.common.body,newValue:void 0,oldContentType:a.common.contentType,newContentType:void 0}));if(a.local)return r(a.path)?this.autoMergeFolder(a):this.autoMergeDocument(a);if(r(a.path))void 0!==a.remote.itemsMap&&(a.common=a.remote,delete a.remote);else if(void 0!==a.remote.body){var b={origin:"remote",path:a.path,oldValue:!1===a.common.body?void 0:a.common.body,newValue:!1===a.remote.body?void 0:a.remote.body,oldContentType:a.common.contentType,newContentType:a.remote.contentType};if((b.oldValue||b.newValue)&&this.local._emitChange(b),!a.remote.body)return;a.common=a.remote,delete a.remote}return a},updateCommonTimestamp:function(a,b){return this.local.getNodes([a]).then(function(c){return c[a]&&c[a].common&&c[a].common.revision===b&&(c[a].common.timestamp=this.now()),this.local.setNodes(this.flush(c))}.bind(this))},markChildren:function(a,b,c,d){var f=[],g={},h={};for(var i in b)f.push(a+i),g[a+i]=b[i];for(var j in d)f.push(a+j);return this.local.getNodes(f).then(function(b){var f;for(var i in b)if(f=b[i],g[i])f&&f.common?e(f,g[i].ETag)&&(c[i]=u(f),c[i].remote={revision:g[i].ETag,timestamp:this.now()},c[i]=this.autoMerge(c[i])):"ALL"===this.caching.checkPath(i)&&(c[i]={path:i,common:{timestamp:this.now()},remote:{revision:g[i].ETag,timestamp:this.now()}}),c[i]&&g[i]["Content-Type"]&&(c[i].remote.contentType=g[i]["Content-Type"]),c[i]&&g[i]["Content-Length"]&&(c[i].remote.contentLength=g[i]["Content-Length"]);else if(d[i.substring(a.length)]&&f&&f.common){if(f.common.itemsMap)for(var j in f.common.itemsMap)h[i+j]=!0;if(f.local&&f.local.itemsMap)for(var k in f.local.itemsMap)h[i+k]=!0;if(f.remote||r(i))c[i]=void 0;else if(c[i]=this.autoMerge(f),void 0===c[i]){var l=this.getParentPath(i),m=c[l],n=i.substring(a.length);m&&m.local&&(delete m.local.itemsMap[n],t(m.local.itemsMap,m.common.itemsMap)&&delete m.local)}}return this.deleteRemoteTrees(Object.keys(h),c).then(function(a){return this.local.setNodes(this.flush(a))}.bind(this))}.bind(this))},deleteRemoteTrees:function(a,b){return 0===a.length?Promise.resolve(b):this.local.getNodes(a).then(function(a){var c={},d=function(a,b){if(a&&a.itemsMap)for(var d in a.itemsMap)c[b+d]=!0};for(var e in a){var f=a[e];f&&(r(e)?(d(f.common,e),d(f.local,e)):f.common&&void 0!==k(f.common.body)&&(b[e]=u(f),b[e].remote={body:!1,timestamp:this.now()},b[e]=this.autoMerge(b[e])))}return this.deleteRemoteTrees(Object.keys(c),b).then(function(a){return this.local.setNodes(this.flush(a))}.bind(this))}.bind(this))},completeFetch:function(a,b,c,d){var e,f,g=v(a);return r(a)?e=[a]:(f=g[1],e=[a,f]),this.local.getNodes(e).then(function(e){var g,h,i={},j=e[a],l=function(a){if(a&&a.itemsMap)for(g in a.itemsMap)b[g]||(i[g]=!0)};if("object"===(void 0===j?"undefined":k(j))&&j.path===a&&"object"===k(j.common)||(j={path:a,common:{}},e[a]=j),j.remote={revision:d,timestamp:this.now()},r(a)){l(j.common),l(j.remote),j.remote.itemsMap={};for(g in b)j.remote.itemsMap[g]=!0}else j.remote.body=b,j.remote.contentType=c,(h=e[f])&&h.local&&h.local.itemsMap&&(g=a.substring(f.length),h.local.itemsMap[g]=!0,t(h.local.itemsMap,h.common.itemsMap)&&delete h.local);return e[a]=this.autoMerge(j),{toBeSaved:e,missingChildren:i}}.bind(this))},completePush:function(a,b,c,d){return this.local.getNodes([a]).then(function(e){var f=e[a];if(!f.push)throw this.stopped=!0,new Error("completePush called but no push version!");return c?(o("[Sync] We have a conflict"),f.remote&&f.remote.revision===d||(f.remote={revision:d||"conflict",timestamp:this.now()},delete f.push),e[a]=this.autoMerge(f)):(f.common={revision:d,timestamp:this.now()},"put"===b?(f.common.body=f.push.body,f.common.contentType=f.push.contentType,t(f.local.body,f.push.body)&&f.local.contentType===f.push.contentType&&delete f.local,delete f.push):"delete"===b&&(!1===f.local.body?e[a]=void 0:delete f.push)),this.local.setNodes(this.flush(e))}.bind(this))},dealWithFailure:function(a){return this.local.getNodes([a]).then(function(b){if(b[a])return delete b[a].push,this.local.setNodes(this.flush(b))}.bind(this))},interpretStatus:function(a){return"offline"===a||"timeout"===a?{successful:!1,networkProblems:!0,statusCode:a}:{successful:2===Math.floor(a/100)||304===a||412===a||404===a,conflict:412===a,unAuth:401===a&&this.remote.token!==p.IMPLIED_FAKE_TOKEN||402===a||403===a,notFound:404===a,changed:304!==a,statusCode:a}},handleGetResponse:function(a,b,c,d,e){return b.notFound&&(c=!!r(a)&&{}),b.changed?this.completeFetch(a,c,d,e).then(function(b){return r(a)?this.corruptServerItemsMap(c)?(o("[Sync] WARNING: Discarding corrupt folder description from server for "+a),!1):this.markChildren(a,c,b.toBeSaved,b.missingChildren).then(function(){return!0}):this.local.setNodes(this.flush(b.toBeSaved)).then(function(){return!0})}.bind(this)):this.updateCommonTimestamp(a,e).then(function(){return!0})},handleResponse:function(a,b,c){var d=this.interpretStatus(c.statusCode);if(d.successful){if("get"===b)return this.handleGetResponse(a,d,c.body,c.contentType,c.revision);if("put"===b||"delete"===b)return this.completePush(a,b,d.conflict,c.revision).then(function(){return!0});throw new Error("cannot handle response for unknown action",b)}var e;return e=d.unAuth?new p.Unauthorized:d.networkProblems?new w.SyncError("Network request failed."):new Error("HTTP response code "+d.statusCode+" received."),this.dealWithFailure(a,b,d).then(function(){throw this.remoteStorage._emit("error",e),e})},numThreads:10,finishTask:function(a){var b=this;return void 0===a.action?void delete this._running[a.path]:a.promise.then(function(c){return b.handleResponse(a.path,a.action,c)},function(c){return o("[Sync] wireclient rejects its promise!",a.path,a.action,c),b.handleResponse(a.path,a.action,{statusCode:"offline"})}).then(function(c){if(delete b._timeStarted[a.path],delete b._running[a.path],c&&b._tasks[a.path]){for(var d=0;d<b._tasks[a.path].length;d++)b._tasks[a.path][d]();delete b._tasks[a.path]}b.remoteStorage._emit("sync-req-done"),b.collectTasks(!1).then(function(){!b.hasTasks()||b.stopped?(o("[Sync] Sync is done! Reschedule?",Object.getOwnPropertyNames(b._tasks).length,b.stopped),b.done||(b.done=!0,b.remoteStorage._emit("sync-done"))):setTimeout(function(){b.doTasks()},10)})},function(c){o("[Sync] Error",c),delete b._timeStarted[a.path],delete b._running[a.path],b.remoteStorage._emit("sync-req-done"),b.done||(b.done=!0,b.remoteStorage._emit("sync-done"))})},doTasks:function(){var a=void 0,b=0,c=void 0,d=void 0;if(a=this.remote.connected?this.remote.online?this.numThreads:1:0,(c=a-Object.getOwnPropertyNames(this._running).length)<=0)return!0;for(d in this._tasks)if(!this._running[d]&&(this._timeStarted[d]=this.now(),this._running[d]=this.doTask(d),this._running[d].then(this.finishTask.bind(this)),++b>=c))return!0;return b>=c},collectTasks:function(a){return this.hasTasks()||this.stopped?Promise.resolve():this.collectDiffTasks().then(function(b){return b||!1===a?Promise.resolve():this.collectRefreshTasks()}.bind(this),function(a){throw a})},addTask:function(a,b){this._tasks[a]||(this._tasks[a]=[]),"function"==typeof b&&this._tasks[a].push(b)},sync:function(){return this.done=!1,this.doTasks()?Promise.resolve():this.collectTasks().then(function(){try{this.doTasks()}catch(a){o("[Sync] doTasks error",a)}}.bind(this),function(a){throw o("[Sync] Sync error",a),new Error("Local cache unavailable")})}};var x,y;w._rs_init=function(a){x=function(){o("[Sync] syncCycleCb calling syncCycle"),m.isBrowser()&&j.bind(a)(),a.sync||(a.sync=new w(a,a.local,a.remote,a.access,a.caching),a.syncStopped&&(o("[Sync] Instantiating sync stopped"),a.sync.stopped=!0,delete a.syncStopped)),o("[Sync] syncCycleCb calling syncCycle"),a.syncCycle()},y=function(){a.removeEventListener("connected",y),a.startSync()},a.on("ready",x),a.on("connected",y)},w._rs_cleanup=function(a){a.stopSync(),a.removeEventListener("ready",x),a.removeEventListener("connected",y),a.sync=void 0,delete a.sync},w.SyncError=function(a){this.name="SyncError";var b="Sync failed: ";"object"===(void 0===a?"undefined":k(a))&&"message"in a?(b+=a.message,this.stack=a.stack,this.originalError=a):b+=a,this.message=b},w.SyncError.prototype=Object.create(Error.prototype),w.SyncError.prototype.constructor=w.SyncError,a.exports=w},function(a,b,c){"use strict";function d(a){if("object"===(void 0===a?"undefined":h(a))&&"string"==typeof a.path)if(l(a.path)){if(a.local&&a.local.itemsMap)return a.local;if(a.common&&a.common.itemsMap)return a.common}else{if(a.local&&a.local.body&&a.local.contentType)return a.local;if(a.common&&a.common.body&&a.common.contentType)return a.common;if(a.body&&a.contentType)return{body:a.body,contentType:a.contentType}}}function e(a,b){var c;for(c in a){if(a[c]&&a[c].remote)return!0;var e=d(a[c]);if(e&&e.timestamp&&(new Date).getTime()-e.timestamp<=b)return!1;if(!e)return!0}return!0}function f(a){var b={path:a,common:{}};return l(a)&&(b.common.itemsMap={}),b}function g(a,b){return a.common||(a.common={itemsMap:{}}),a.common.itemsMap||(a.common.itemsMap={}),a.local||(a.local=n(a.common)),a.local.itemsMap||(a.local.itemsMap=a.common.itemsMap),a.local.itemsMap[b]=!0,a}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i=c(0),j=c(3),k=c(1),l=i.isFolder,m=i.isDocument,n=i.deepClone,o=i.pathsFromRoot,p={get:function(a,b,c){var f=this;return"number"==typeof b?f.getNodes(o(a)).then(function(f){var g=d(f[a]);return e(f,b)?c(a):g?{statusCode:200,body:g.body||g.itemsMap,contentType:g.contentType}:{statusCode:404}}):f.getNodes([a]).then(function(b){var c=d(b[a]);if(c){if(l(a))for(var e in c.itemsMap)c.itemsMap.hasOwnProperty(e)&&!1===c.itemsMap[e]&&delete c.itemsMap[e];return{statusCode:200,body:c.body||c.itemsMap,contentType:c.contentType}}return{statusCode:404}})},put:function(a,b,c){function e(a,e){try{for(var h=0,i=a.length;h<i;h++){var j=a[h],l=e[j],m=void 0;l||(e[j]=l=f(j)),0===h?(m=d(l),l.local={body:b,contentType:c,previousBody:m?m.body:void 0,previousContentType:m?m.contentType:void 0}):l=g(l,a[h-1].substring(j.length))}return e}catch(a){throw k("[Cachinglayer] Error during PUT",e,a),a}}var h=o(a);return this._updateNodes(h,e)},delete:function(a){var b=o(a);return this._updateNodes(b,function(a,b){for(var c=0,e=a.length;c<e;c++){var f=a[c],g=b[f],h=void 0;if(g)if(0===c)h=d(g),g.local={body:!1,previousBody:h?h.body:void 0,previousContentType:h?h.contentType:void 0};else{g.local||(g.local=n(g.common));var i=a[c-1].substring(f.length);if(delete g.local.itemsMap[i],Object.getOwnPropertyNames(g.local.itemsMap).length>0)break}else console.error("Cannot delete non-existing node "+f)}return b})},flush:function(a){var b=this;return b._getAllDescendentPaths(a).then(function(a){return b.getNodes(a)}).then(function(a){for(var c in a){var d=a[c];d&&d.common&&d.local&&b._emitChange({path:d.path,origin:"local",oldValue:!1===d.local.body?void 0:d.local.body,newValue:!1===d.common.body?void 0:d.common.body}),a[c]=void 0}return b.setNodes(a)})},_emitChange:function(a){j.changeEvents[a.origin]&&this._emit("change",a)},fireInitial:function(){if(j.changeEvents.local){var a=this;a.forAllNodes(function(b){var c;m(b.path)&&(c=d(b))&&a._emitChange({path:b.path,origin:"local",oldValue:void 0,oldContentType:void 0,newValue:c.body,newContentType:c.contentType})}).then(function(){a._emit("local-events-done")})}},onDiff:function(a){this.diffHandler=a},migrate:function(a){return"object"!==(void 0===a?"undefined":h(a))||a.common||(a.common={},"string"==typeof a.path?"/"===a.path.substr(-1)&&"object"===h(a.body)&&(a.common.itemsMap=a.body):(a.local||(a.local={}),a.local.body=a.body,a.local.contentType=a.contentType)),a},_updateNodesRunning:!1,_updateNodesQueued:[],_updateNodes:function(a,b){return new Promise(function(c,d){this._doUpdateNodes(a,b,{resolve:c,reject:d})}.bind(this))},_doUpdateNodes:function(a,b,c){var d=this;if(d._updateNodesRunning)return void d._updateNodesQueued.push({paths:a,cb:b,promise:c});d._updateNodesRunning=!0,d.getNodes(a).then(function(e){var f,g=n(e),h=[],j=i.equal;e=b(a,e);for(var k in e)f=e[k],j(f,g[k])?delete e[k]:m(k)&&(j(f.local.body,f.local.previousBody)&&f.local.contentType===f.local.previousContentType||h.push({path:k,origin:"window",oldValue:f.local.previousBody,newValue:!1===f.local.body?void 0:f.local.body,oldContentType:f.local.previousContentType,newContentType:f.local.contentType}),delete f.local.previousBody,delete f.local.previousContentType);d.setNodes(e).then(function(){d._emitChangeEvents(h),c.resolve({statusCode:200})})}).then(function(){return Promise.resolve()},function(a){c.reject(a)}).then(function(){d._updateNodesRunning=!1;var a=d._updateNodesQueued.shift();a&&d._doUpdateNodes(a.paths,a.cb,a.promise)})},_emitChangeEvents:function(a){for(var b=0,c=a.length;b<c;b++)this._emitChange(a[b]),this.diffHandler&&this.diffHandler(a[b].path)},_getAllDescendentPaths:function(a){var b=this;return l(a)?b.getNodes([a]).then(function(c){var e=[a],f=d(c[a]),g=Object.keys(f.itemsMap),h=g.map(function(c){return b._getAllDescendentPaths(a+c).then(function(a){for(var b=0,c=a.length;b<c;b++)e.push(a[b])})});return Promise.all(h).then(function(){return e})}):Promise.resolve([a])},_getInternals:function(){return{getLatest:d,makeNode:f,isOutdated:e}}},q=function(a){for(var b in p)a[b]=p[b]};a.exports=q},function(a,b,c){"use strict";function d(a){return 403!==a.statusCode&&401!==a.statusCode||this._emit("error",new n.Unauthorized),Promise.resolve(a)}function e(a){return"number"==typeof a&&a>1e3&&a<36e5}var f,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h=c(0),i=c(11),j=c(13),k=c(14),l=c(5),m=c(3),n=c(4),o=c(8),p=c(1),q=c(26),r=h.getGlobalContext(),s=c(2),t=function(a){if("object"===(void 0===a?"undefined":g(a))&&h.extend(m,a),s(this,"ready","authing","connecting","connected","disconnected","not-connected","conflict","error","features-loaded","sync-interval-change","sync-req-done","sync-done","wire-busy","wire-done","network-offline","network-online"),this._pending=[],this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")}),this._cleanups=[],this._pathHandlers={change:{}},this.apiKeys={},f=h.localStorageAvailable()){try{this.apiKeys=JSON.parse(localStorage.getItem("remotestorage:api-keys"))||{}}catch(a){}this.setBackend(localStorage.getItem("remotestorage:backend")||"remotestorage")}var b=this.on;this.on=function(a,c){if(this._allLoaded)switch(a){case"features-loaded":setTimeout(c,0);break;case"ready":this.remote&&setTimeout(c,0);break;case"connected":this.remote&&this.remote.connected&&setTimeout(c,0);break;case"not-connected":this.remote&&!this.remote.connected&&setTimeout(c,0)}return b.call(this,a,c)},this._init(),this.fireInitial=function(){this.local&&setTimeout(this.local.fireInitial.bind(this.local),0)}.bind(this),this.on("ready",this.fireInitial.bind(this)),this.loadModules()};t.Authorize=n,t.SyncError=o.SyncError,t.Unauthorized=n.Unauthorized,t.DiscoveryError=k.DiscoveryError,t.prototype={loadModules:function(){m.modules.forEach(this.addModule.bind(this))},authorize:function(a,b){this.access.setStorageType(this.remote.storageType);var c=this.access.scopeParameter,d=r.cordova?b:String(n.getLocation()),e=d.match(/^(https?:\/\/[^\/]+)/)[0];n(this,a,c,d,e)},impliedauth:function(a,b){a=this.remote.storageApi,b=String(document.location),p("ImpliedAuth proceeding due to absent authURL; storageApi = "+a+" redirectUri = "+b),this.remote.configure({token:n.IMPLIED_FAKE_TOKEN}),document.location=b},connect:function(a,b){var c=this;if(this.setBackend("remotestorage"),a.indexOf("@")<0)return void this._emit("error",new t.DiscoveryError("User address doesn't contain an @."));if(r.cordova){if("string"!=typeof m.cordovaRedirectUri)return void this._emit("error",new t.DiscoveryError("Please supply a custom HTTPS redirect URI for your Cordova app"));if(!r.cordova.InAppBrowser)return void this._emit("error",new t.DiscoveryError("Please include the InAppBrowser Cordova plugin to enable OAuth"))}this.remote.configure({userAddress:a}),this._emit("connecting");var d=setTimeout(function(){this._emit("error",new t.DiscoveryError("No storage information found for this user address."))}.bind(this),m.discoveryTimeout);k(a).then(function(e){if(clearTimeout(d),c._emit("authing"),e.userAddress=a,c.remote.configure(e),!c.remote.connected)if(e.authURL)if(void 0===b)c.authorize(e.authURL,m.cordovaRedirectUri);else{if("string"!=typeof b)throw new Error("Supplied bearer token must be a string");p("Skipping authorization sequence and connecting with known token"),c.remote.configure({token:b})}else c.impliedauth()},function(){clearTimeout(d),c._emit("error",new t.DiscoveryError("No storage information found for this user address."))})},reconnect:function(){this.remote.configure({token:null}),"remotestorage"===this.backend?this.connect(this.remote.userAddress):this.remote.connect()},disconnect:function(){this.remote&&this.remote.configure({userAddress:null,href:null,storageApi:null,token:null,properties:null}),this._setGPD({get:this._pendingGPD("get"),put:this._pendingGPD("put"),delete:this._pendingGPD("delete")});var a=this._cleanups.length,b=0,c=function(){++b>=a&&(this._init(),p("Done cleaning up, emitting disconnected and disconnect events"),this._emit("disconnected"))}.bind(this);a>0?this._cleanups.forEach(function(a){var b=a(this);"object"===(void 0===b?"undefined":g(b))&&"function"==typeof b.then?b.then(c):c()}.bind(this)):c()},setBackend:function(a){this.backend=a,f&&(a?localStorage.setItem("remotestorage:backend",a):localStorage.removeItem("remotestorage:backend"))},onChange:function(a,b){this._pathHandlers.change[a]||(this._pathHandlers.change[a]=[]),this._pathHandlers.change[a].push(b)},enableLog:function(){m.logging=!0},disableLog:function(){m.logging=!1},log:function(){p.apply(t,arguments)},setApiKeys:function(a){var b=this,c=["googledrive","dropbox"];if("object"!==(void 0===a?"undefined":g(a))||!Object.keys(a).every(function(a){return-1!==c.indexOf(a)}))return console.error("setApiKeys() was called with invalid arguments"),!1;Object.keys(a).forEach(function(c){var d=a[c];if(!d)return void delete b.apiKeys[c];switch(c){case"dropbox":b.apiKeys.dropbox={appKey:d},void 0!==b.dropbox&&b.dropbox.clientId===d||i._rs_init(b);break;case"googledrive":b.apiKeys.googledrive={clientId:d},void 0!==b.googledrive&&b.googledrive.clientId===d||j._rs_init(b)}return!0}),f&&localStorage.setItem("remotestorage:api-keys",JSON.stringify(this.apiKeys))},setCordovaRedirectUri:function(a){if("string"!=typeof a||!a.match(/http(s)?:\/\//))throw new Error("Cordova redirect URI must be a URI string");m.cordovaRedirectUri=a},_init:q.loadFeatures,features:q.features,loadFeature:q.loadFeature,featureSupported:q.featureSupported,featureDone:q.featureDone,featuresDone:q.featuresDone,featuresLoaded:q.featuresLoaded,featureInitialized:q.featureInitialized,featureFailed:q.featureFailed,hasFeature:q.hasFeature,_setCachingModule:q._setCachingModule,_collectCleanupFunctions:q._collectCleanupFunctions,_fireReady:q._fireReady,initFeature:q.initFeature,_setGPD:function(a,b){function c(a){return function(){return a.apply(b,arguments).then(d.bind(this))}}this.get=c(a.get),this.put=c(a.put),this.delete=c(a.delete)},_pendingGPD:function(a){return function(){var b=Array.prototype.slice.call(arguments);return new Promise(function(c,d){this._pending.push({method:a,args:b,promise:{resolve:c,reject:d}})}.bind(this))}.bind(this)},_processPending:function(){this._pending.forEach(function(a){try{this[a.method].apply(this,a.args).then(a.promise.resolve,a.promise.reject)}catch(b){a.promise.reject(b)}}.bind(this)),this._pending=[]},_bindChange:function(a){a.on("change",this._dispatchEvent.bind(this,"change"))},_dispatchEvent:function(a,b){var c=this;Object.keys(this._pathHandlers[a]).forEach(function(d){var e=d.length;b.path.substr(0,e)===d&&c._pathHandlers[a][d].forEach(function(a){var e={};for(var f in b)e[f]=b[f];e.relativePath=b.path.replace(new RegExp("^"+d),"");try{a(e)}catch(a){console.error("'change' handler failed: ",a,a.stack),c._emit("error",a)}})})},scope:function(a){if("string"!=typeof a)throw"Argument 'path' of baseClient.scope must be a string";if(!this.access.checkPathPermission(a,"r")){var b=a.replace(/(['\\])/g,"\\$1");console.warn("WARNING: please call remoteStorage.access.claim('"+b+"', 'r') (read only) or remoteStorage.access.claim('"+b+"', 'rw') (read/write) first")}return new l(this,a)},getSyncInterval:function(){return m.syncInterval},setSyncInterval:function(a){if(!e(a))throw a+" is not a valid sync interval";var b=m.syncInterval;m.syncInterval=parseInt(a,10),this._emit("sync-interval-change",{oldValue:b,newValue:a})},getBackgroundSyncInterval:function(){return m.backgroundSyncInterval},setBackgroundSyncInterval:function(a){if(!e(a))throw a+" is not a valid sync interval";var b=m.backgroundSyncInterval;m.backgroundSyncInterval=parseInt(a,10),this._emit("sync-interval-change",{oldValue:b,newValue:a})},getCurrentSyncInterval:function(){return m.isBackground?m.backgroundSyncInterval:m.syncInterval},getRequestTimeout:function(){return m.requestTimeout},setRequestTimeout:function(a){m.requestTimeout=parseInt(a,10)},syncCycle:function(){this.sync.stopped||(this.on("sync-done",function(){p("[Sync] Sync done. Setting timer to",this.getCurrentSyncInterval()),this.sync.stopped||(this._syncTimer&&(clearTimeout(this._syncTimer),this._syncTimer=void 0),this._syncTimer=setTimeout(this.sync.sync.bind(this.sync),this.getCurrentSyncInterval()))}.bind(this)),this.sync.sync())},startSync:function(){return m.cache?(this.sync.stopped=!1,this.syncStopped=!1,this.sync.sync()):(console.warn("Nothing to sync, because caching is disabled."),Promise.resolve())},stopSync:function(){clearTimeout(this._syncTimer),this._syncTimer=void 0,this.sync?(p("[Sync] Stopping sync"),this.sync.stopped=!0):(p("[Sync] Will instantiate sync stopped"),this.syncStopped=!0)}},t.util=h,Object.defineProperty(t.prototype,"connected",{get:function(){return this.remote.connected}});var u=c(15);Object.defineProperty(t.prototype,"access",{get:function(){var a=new u;return Object.defineProperty(this,"access",{value:a}),a},configurable:!0});var v=c(16);Object.defineProperty(t.prototype,"caching",{configurable:!0,get:function(){var a=new v;return Object.defineProperty(this,"caching",{value:a}),a}}),a.exports=t,c(31)},function(a,b,c){"use strict";function d(a){this.defaultValue=a,this._storage={},this.set=this.justSet,this.delete=this.justDelete}function e(a){a._dropboxOrigSync||(a._dropboxOrigSync=a.sync.sync.bind(a.sync),a.sync.sync=function(){return this.dropbox.fetchDelta.apply(this.dropbox,arguments).then(a._dropboxOrigSync,function(b){return a._emit("error",new s.SyncError(b)),Promise.reject(b)})}.bind(a))}function f(a){a._dropboxOrigSync&&(a.sync.sync=a._dropboxOrigSync,delete a._dropboxOrigSync)}function g(a){a._origBaseClientGetItemURL||(a._origBaseClientGetItemURL=o.prototype.getItemURL,o.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Dropbox yet")})}function h(a){a._origBaseClientGetItemURL&&(o.prototype.getItemURL=a._origBaseClientGetItemURL,delete a._origBaseClientGetItemURL)}function i(a){a._origRemote||(a._origRemote=a.remote,a.remote=a.dropbox)}function j(a){a._origRemote&&(a.remote=a._origRemote,delete a._origRemote)}function k(a){i(a),a.sync?e(a):a.on("connected",function(){a.sync&&e(a)}),g(a)}function l(a){j(a),f(a),h(a)}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n=c(4),o=c(5),p=c(7),q=c(0),r=c(2),s=c(8),t=void 0,u="remotestorage:dropbox",v=q.isFolder,w=q.cleanPath,x=q.shouldBeTreatedAsBinary,y=q.readBinaryData,z=function(a){return w("/remotestorage/"+a).replace(/\/$/,"")},A=function(a,b){return new RegExp("^"+b.join("\\/")+"(\\/|$)").test(a.error_summary)},B=function(a){return a instanceof ArrayBuffer||p.isArrayBufferView(a)};d.prototype={get:function(a){a=a.toLowerCase();var b=this._storage[a];return void 0===b&&(b=this.defaultValue,this._storage[a]=b),b},propagateSet:function(a,b){return a=a.toLowerCase(),this._storage[a]===b?b:(this._propagate(a,b),this._storage[a]=b,b)},propagateDelete:function(a){return a=a.toLowerCase(),this._propagate(a,this._storage[a]),delete this._storage[a]},_activatePropagation:function(){return this.set=this.propagateSet,this.delete=this.propagateDelete,!0},justSet:function(a,b){return a=a.toLowerCase(),this._storage[a]=b,b},justDelete:function(a){return a=a.toLowerCase(),delete this._storage[a]},_propagate:function(a,b){for(var c=a.split("/").slice(0,-1),d="",e=0,f=c.length;e<f;e++)d+=c[e]+"/",b||(b=this._storage[d]+1),this._storage[d]=b}};var C=function(a){if(this.rs=a,this.connected=!1,this.rs=a,r(this,"connected","not-connected"),this.clientId=a.apiKeys.dropbox.appKey,this._revCache=new d("rev"),this._itemRefs={},t=q.localStorageAvailable()){var b;try{b=JSON.parse(localStorage.getItem(u))}catch(a){}b&&this.configure(b);try{this._itemRefs=JSON.parse(localStorage.getItem(u+":shares"))||{}}catch(a){}}this.connected&&setTimeout(this._emit.bind(this),0,"connected")};C.prototype={online:!0,connect:function(){this.rs.setBackend("dropbox"),this.token?k(this.rs):n(this.rs,"https://www.dropbox.com/oauth2/authorize","",String(n.getLocation()),this.clientId)},configure:function(a){void 0!==a.userAddress&&(this.userAddress=a.userAddress),void 0!==a.token&&(this.token=a.token);var b=function(){t&&localStorage.setItem(u,JSON.stringify({userAddress:this.userAddress,token:this.token}))},c=function(){this.connected=!1,t&&localStorage.removeItem(u)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),b.apply(this)):this.info().then(function(a){this.userAddress=a.email,this._emit("connected"),b.apply(this)}.bind(this)).catch(function(){c.apply(this),this.rs._emit("error",new Error("Could not fetch user info."))}.bind(this))):c.apply(this)},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},_getFolder:function(a){var b=this._revCache,c=this,d=function(c){var d,f;if(200!==c.status&&409!==c.status)return Promise.reject("Unexpected response status: "+c.status);try{d=JSON.parse(c.responseText)}catch(a){return Promise.reject(a)}return 409===c.status?A(d,["path","not_found"])?Promise.resolve({}):Promise.reject(new Error("API returned an error: "+d.error_summary)):(f=d.entries.reduce(function(c,d){var e="folder"===d[".tag"],f=d.path_lower.split("/").slice(-1)[0]+(e?"/":"");return c[f]=e?{ETag:b.get(a+f)}:{ETag:d.rev},c},{}),d.has_more?e(d.cursor).then(function(a){return Object.assign(f,a)}):Promise.resolve(f))},e=function(a){var b={body:{cursor:a}};return c._request("POST","https://api.dropboxapi.com/2/files/list_folder/continue",b).then(d)};return this._request("POST","https://api.dropboxapi.com/2/files/list_folder",{body:{path:z(a)}}).then(d).then(function(c){return Promise.resolve({statusCode:200,body:c,contentType:"application/json; charset=UTF-8",revision:b.get(a)})})},get:function(a,b){if(!this.connected)return Promise.reject("not connected (path: "+a+")");var c=this,d=this._revCache.get(a);if(null===d)return Promise.resolve({statusCode:404});if(b&&b.ifNoneMatch&&d&&d===b.ifNoneMatch)return Promise.resolve({statusCode:304});if("/"===a.substr(-1))return this._getFolder(a,b);var e={headers:{"Dropbox-API-Arg":JSON.stringify({path:z(a)})}};return b&&b.ifNoneMatch&&(e.headers["If-None-Match"]=b.ifNoneMatch),this._request("GET","https://content.dropboxapi.com/2/files/download",e).then(function(b){var d,e,f,g,h=b.status;if(200!==h&&409!==h)return Promise.resolve({statusCode:h});d=b.getResponseHeader("Dropbox-API-Result"),e=b.responseText,409===h&&(d=e);try{d=JSON.parse(d)}catch(a){return Promise.reject(a)}if(409===h)return A(d,["path","not_found"])?Promise.resolve({statusCode:404
}):Promise.reject(new Error('API error while downloading file ("'+a+'"): '+d.error_summary));if(f=b.getResponseHeader("Content-Type"),g=d.rev,c._revCache.set(a,g),c._shareIfNeeded(a),x(b.response,f))return y(b.response,f).then(function(a){return{statusCode:h,body:a,contentType:f,revision:g}});try{e=JSON.parse(e),f="application/json; charset=UTF-8"}catch(a){}return Promise.resolve({statusCode:h,body:e,contentType:f,revision:g})})},put:function(a,b,c,d){var e=this;if(!this.connected)throw new Error("not connected (path: "+a+")");var f=this._revCache.get(a);if(d&&d.ifMatch&&f&&f!==d.ifMatch)return Promise.resolve({statusCode:412,revision:f});if(d&&"*"===d.ifNoneMatch&&f&&"rev"!==f)return Promise.resolve({statusCode:412,revision:f});if(!c.match(/charset=/)&&B(b)&&(c+="; charset=binary"),b.length>157286400)return Promise.reject(new Error("Cannot upload file larger than 150MB"));var g,h=d&&(d.ifMatch||"*"===d.ifNoneMatch),i={body:b,contentType:c,path:a};return g=h?this._getMetadata(a).then(function(a){return d&&"*"===d.ifNoneMatch&&a?Promise.resolve({statusCode:412,revision:a.rev}):d&&d.ifMatch&&a&&a.rev!==d.ifMatch?Promise.resolve({statusCode:412,revision:a.rev}):e._uploadSimple(i)}):e._uploadSimple(i),g.then(function(b){return e._shareIfNeeded(a),b})},delete:function(a,b){var c=this;if(!this.connected)throw new Error("not connected (path: "+a+")");var d=this._revCache.get(a);return b&&b.ifMatch&&d&&b.ifMatch!==d?Promise.resolve({statusCode:412,revision:d}):b&&b.ifMatch?this._getMetadata(a).then(function(d){return b&&b.ifMatch&&d&&d.rev!==b.ifMatch?Promise.resolve({statusCode:412,revision:d.rev}):c._deleteSimple(a)}):this._deleteSimple(a)},_shareIfNeeded:function(a){a.match(/^\/public\/.*[^\/]$/)&&void 0===this._itemRefs[a]&&this.share(a)},share:function(a){var b=this,c={body:{path:z(a)}};return this._request("POST","https://api.dropboxapi.com/2/sharing/create_shared_link_with_settings",c).then(function(c){if(200!==c.status&&409!==c.status)return Promise.reject(new Error("Invalid response status:"+c.status));var d;try{d=JSON.parse(c.responseText)}catch(a){return Promise.reject(new Error("Invalid response body: "+c.responseText))}return 409===c.status?A(d,["shared_link_already_exists"])?b._getSharedLink(a):Promise.reject(new Error("API error: "+d.error_summary)):Promise.resolve(d.url)}).then(function(c){return b._itemRefs[a]=c,t&&localStorage.setItem(u+":shares",JSON.stringify(b._itemRefs)),Promise.resolve(c)},function(b){return b.message='Sharing Dropbox file or folder ("'+a+'") failed: '+b.message,Promise.reject(b)})},info:function(){return this._request("POST","https://api.dropboxapi.com/2/users/get_current_account",{}).then(function(a){var b=a.responseText;try{b=JSON.parse(b)}catch(a){return Promise.reject(new Error("Could not query current account info: Invalid API response: "+b))}return Promise.resolve({email:b.email})})},_request:function(a,b,c){var d=this;return c.headers||(c.headers={}),c.headers.Authorization="Bearer "+this.token,"object"!==m(c.body)||B(c.body)||(c.body=JSON.stringify(c.body),c.headers["Content-Type"]="application/json; charset=UTF-8"),this.rs._emit("wire-busy",{method:a,isFolder:v(b)}),p.request.call(this,a,b,c).then(function(e){return e&&503===e.status?(d.online&&(d.online=!1,d.rs._emit("network-offline")),setTimeout(d._request(a,b,c),3210)):(d.online||(d.online=!0,d.rs._emit("network-online")),d.rs._emit("wire-done",{method:a,isFolder:v(b),success:!0}),Promise.resolve(e))},function(c){return d.online&&(d.online=!1,d.rs._emit("network-offline")),d.rs._emit("wire-done",{method:a,isFolder:v(b),success:!1}),Promise.reject(c)})},fetchDelta:function(){var a=Array.prototype.slice.call(arguments),b=this;return b._revCache=new d("rev"),function c(d){var e="https://api.dropboxapi.com/2/files/list_folder",f=void 0;return"string"==typeof d?(e+="/continue",f={cursor:d}):f={path:"/remotestorage",recursive:!0,include_deleted:!0},b._request("POST",e,{body:f}).then(function(d){if(401===d.status)return b.rs._emit("error",new n.Unauthorized),Promise.resolve(a);if(200!==d.status&&409!==d.status)return Promise.reject(new Error("Invalid response status: "+d.status));var e=void 0;try{e=JSON.parse(d.responseText)}catch(a){return Promise.reject(new Error("Invalid response body: "+d.responseText))}if(409===d.status){if(!A(e,["path","not_found"]))return Promise.reject(new Error("API returned an error: "+e.error_summary));e={cursor:null,entries:[],has_more:!1}}return e.entries.forEach(function(a){var c=a.path_lower.substr("/remotestorage".length);"deleted"===a[".tag"]?(b._revCache.set(c,null),b._revCache.set(c+"/",null)):"file"===a[".tag"]&&b._revCache.set(c,a.rev)}),e.has_more?c(e.cursor):void 0})}().then(void 0,function(a){return a.message="Dropbox: fetchDelta: "+a.message,Promise.reject(a)}).then(function(){return b._revCache&&b._revCache._activatePropagation(),Promise.resolve(a)})},_getMetadata:function(a){var b={path:z(a)};return this._request("POST","https://api.dropboxapi.com/2/files/get_metadata",{body:b}).then(function(a){if(200!==a.status&&409!==a.status)return Promise.reject(new Error("Invalid response status:"+a.status));var b=void 0;try{b=JSON.parse(a.responseText)}catch(b){return Promise.reject(new Error("Invalid response body: "+a.responseText))}return 409===a.status?A(b,["path","not_found"])?Promise.resolve():Promise.reject(new Error("API error: "+b.error_summary)):Promise.resolve(b)}).then(void 0,function(b){return b.message='Could not load metadata for file or folder ("'+a+'"): '+b.message,Promise.reject(b)})},_uploadSimple:function(a){var b=this,c={path:z(a.path),mode:{".tag":"overwrite"},mute:!0};return a.ifMatch&&(c.mode={".tag":"update",update:a.ifMatch}),this._request("POST","https://content.dropboxapi.com/2/files/upload",{body:a.body,headers:{"Content-Type":"application/octet-stream","Dropbox-API-Arg":JSON.stringify(c)}}).then(function(c){if(200!==c.status&&409!==c.status)return Promise.resolve({statusCode:c.status});var d=c.responseText;try{d=JSON.parse(d)}catch(a){return Promise.reject(new Error("Invalid API result: "+d))}return 409===c.status?A(d,["path","conflict"])?b._getMetadata(a.path).then(function(a){return Promise.resolve({statusCode:412,revision:a.rev})}):Promise.reject(new Error("API error: "+d.error_summary)):(b._revCache.propagateSet(a.path,d.rev),Promise.resolve({statusCode:c.status,revision:d.rev}))})},_deleteSimple:function(a){var b=this,c={path:z(a)};return this._request("POST","https://api.dropboxapi.com/2/files/delete",{body:c}).then(function(a){if(200!==a.status&&409!==a.status)return Promise.resolve({statusCode:a.status});var b=a.responseText;try{b=JSON.parse(b)}catch(a){return Promise.reject(new Error("Invalid response body: "+b))}return 409===a.status?A(b,["path_lookup","not_found"])?Promise.resolve({statusCode:404}):Promise.reject(new Error("API error: "+b.error_summary)):Promise.resolve({statusCode:200})}).then(function(c){return 200!==c.statusCode&&404!==c.statusCode||(b._revCache.delete(a),delete b._itemRefs[a]),Promise.resolve(c)},function(b){return b.message='Could not delete Dropbox file or folder ("'+a+'"): '+b.message,Promise.reject(b)})},_getSharedLink:function(a){var b={body:{path:z(a),direct_only:!0}};return this._request("POST","https://api.dropbox.com/2/sharing/list_shared_links",b).then(function(a){if(200!==a.status&&409!==a.status)return Promise.reject(new Error("Invalid response status: "+a.status));var b;try{b=JSON.parse(a.responseText)}catch(b){return Promise.reject(new Error("Invalid response body: "+a.responseText))}return 409===a.status?Promise.reject(new Error("API error: "+a.error_summary)):b.links.length?Promise.resolve(b.links[0].url):Promise.reject(new Error("No links returned"))},function(b){return b.message='Could not get link to a shared file or folder ("'+a+'"): '+b.message,Promise.reject(b)})}},C._rs_init=function(a){t=q.localStorageAvailable(),a.apiKeys.dropbox&&(a.dropbox=new C(a)),"dropbox"===a.backend&&k(a)},C._rs_supported=function(){return!0},C._rs_cleanup=function(a){l(a),t&&localStorage.removeItem(u),a.setBackend(void 0)},a.exports=C},function(a,b,c){"use strict";var d=c(2),e="undefined"!=typeof window?"browser":"node",f={},g=function(){return f};g.isBrowser=function(){return"browser"===e},g.isNode=function(){return"node"===e},g.goBackground=function(){g._emit("background")},g.goForeground=function(){g._emit("foreground")},g._rs_init=function(){function a(){document[f.hiddenProperty]?g.goBackground():g.goForeground()}d(g,"background","foreground"),"browser"===e&&(void 0!==document.hidden?(f.hiddenProperty="hidden",f.visibilityChangeEvent="visibilitychange"):void 0!==document.mozHidden?(f.hiddenProperty="mozHidden",f.visibilityChangeEvent="mozvisibilitychange"):void 0!==document.msHidden?(f.hiddenProperty="msHidden",f.visibilityChangeEvent="msvisibilitychange"):void 0!==document.webkitHidden&&(f.hiddenProperty="webkitHidden",f.visibilityChangeEvent="webkitvisibilitychange"),document.addEventListener(f.visibilityChangeEvent,a,!1),a())},g._rs_cleanup=function(){},a.exports=g},function(a,b,c){"use strict";function d(a){return"/"===a.substr(-1)&&(a=a.substr(0,a.length-1)),decodeURIComponent(a)}function e(a){return a.replace(/[^\/]+\/?$/,"")}function f(a){var b=a.split("/");return"/"===a.substr(-1)?b[b.length-2]+"/":b[b.length-1]}function g(a){return t(r+"/"+a)}function h(a){a._origBaseClientGetItemURL||(a._origBaseClientGetItemURL=l.prototype.getItemURL,l.prototype.getItemURL=function(){throw new Error("getItemURL is not implemented for Google Drive yet")})}function i(a){a._origBaseClientGetItemURL&&(l.prototype.getItemURL=a._origBaseClientGetItemURL,delete a._origBaseClientGetItemURL)}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},k=c(4),l=c(5),m=c(7),n=c(2),o=c(0),p="https://www.googleapis.com",q="remotestorage:googledrive",r="/remotestorage",s=o.isFolder,t=o.cleanPath,u=o.shouldBeTreatedAsBinary,v=o.readBinaryData,w=void 0,x=function(a){this.maxAge=a,this._items={}};x.prototype={get:function(a){var b=this._items[a],c=(new Date).getTime();return b&&b.t>=c-this.maxAge?b.v:void 0},set:function(a,b){this._items[a]={v:b,t:(new Date).getTime()}}};var y=function(a,b){if(n(this,"connected","not-connected"),this.rs=a,this.clientId=b,this._fileIdCache=new x(300),w=o.localStorageAvailable()){var c=void 0;try{c=JSON.parse(localStorage.getItem(q))}catch(a){}c&&this.configure(c)}};y.prototype={connected:!1,online:!0,configure:function(a){var b=this;void 0!==a.userAddress&&(this.userAddress=a.userAddress),void 0!==a.token&&(this.token=a.token);var c=function(){w&&localStorage.setItem(q,JSON.stringify({userAddress:this.userAddress,token:this.token}))},d=function(){this.connected=!1,delete this.token,w&&localStorage.removeItem(q)};this.token?(this.connected=!0,this.userAddress?(this._emit("connected"),c.apply(this)):this.info().then(function(a){b.userAddress=a.user.emailAddress,b._emit("connected"),c.apply(b)}).catch(function(){d.apply(b),b.rs._emit("error",new Error("Could not fetch user info."))})):d.apply(this)},connect:function(){this.rs.setBackend("googledrive"),k(this.rs,"https://accounts.google.com/o/oauth2/auth","https://www.googleapis.com/auth/drive",String(k.getLocation()),this.clientId)},stopWaitingForToken:function(){this.connected||this._emit("not-connected")},get:function(a,b){return"/"===a.substr(-1)?this._getFolder(g(a),b):this._getFile(g(a),b)},put:function(a,b,c,d){function e(a){if(a.status>=200&&a.status<300){var b=JSON.parse(a.responseText),c=b.etag.substring(1,b.etag.length-1);return Promise.resolve({statusCode:200,contentType:b.mimeType,revision:c})}return 412===a.status?Promise.resolve({statusCode:412,revision:"conflict"}):Promise.reject("PUT failed with status "+a.status+" ("+a.responseText+")")}var f=this,h=g(a);return this._getFileId(h).then(function(a){return a?d&&"*"===d.ifNoneMatch?e({status:412}):f._updateFile(a,h,b,c,d).then(e):f._createFile(h,b,c,d).then(e)})},delete:function(a,b){var c=this,d=g(a);return this._getFileId(d).then(function(a){return a?c._getMeta(a).then(function(d){var e=void 0;return"object"===(void 0===d?"undefined":j(d))&&"string"==typeof d.etag&&(e=d.etag.substring(1,d.etag.length-1)),b&&b.ifMatch&&b.ifMatch!==e?{statusCode:412,revision:e}:c._request("DELETE",p+"/drive/v2/files/"+a,{}).then(function(a){return 200===a.status||204===a.status?{statusCode:200}:Promise.reject("Delete failed: "+a.status+" ("+a.responseText+")")})}):Promise.resolve({statusCode:200})})},info:function(){return this._request("GET","https://www.googleapis.com/drive/v2/about?fields=user",{}).then(function(a){try{var b=JSON.parse(a.responseText);return Promise.resolve(b)}catch(a){return Promise.reject(a)}})},_updateFile:function(a,b,c,d,e){var f=this,g={mimeType:d},h={"Content-Type":"application/json; charset=UTF-8"};return e&&e.ifMatch&&(h["If-Match"]='"'+e.ifMatch+'"'),this._request("PUT",p+"/upload/drive/v2/files/"+a+"?uploadType=resumable",{body:JSON.stringify(g),headers:h}).then(function(a){return 412===a.status?a:f._request("PUT",a.getResponseHeader("Location"),{body:d.match(/^application\/json/)?JSON.stringify(c):c})})},_createFile:function(a,b,c){var e=this;return this._getParentId(a).then(function(g){var h=f(a),i={title:d(h),mimeType:c,parents:[{kind:"drive#fileLink",id:g}]};return e._request("POST",p+"/upload/drive/v2/files?uploadType=resumable",{body:JSON.stringify(i),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(function(a){return e._request("POST",a.getResponseHeader("Location"),{body:c.match(/^application\/json/)?JSON.stringify(b):b})})})},_getFile:function(a,b){var c=this;return this._getFileId(a).then(function(a){return c._getMeta(a).then(function(a){var d=void 0;if("object"===(void 0===a?"undefined":j(a))&&"string"==typeof a.etag&&(d=a.etag.substring(1,a.etag.length-1)),b&&b.ifNoneMatch&&d===b.ifNoneMatch)return Promise.resolve({statusCode:304});var e={};if(!a.downloadUrl){if(!a.exportLinks||!a.exportLinks["text/html"])return Promise.resolve({statusCode:200,body:"",contentType:a.mimeType,revision:d});a.mimeType+=";export=text/html",a.downloadUrl=a.exportLinks["text/html"]}return c._request("GET",a.downloadUrl,e).then(function(b){var c=b.response;if(a.mimeType.match(/^application\/json/))try{c=JSON.parse(c)}catch(a){}else if(u(c,a.mimeType))return v(c,a.mimeType).then(function(b){return{statusCode:200,body:b,contentType:a.mimeType,revision:d}});return Promise.resolve({statusCode:200,body:c,contentType:a.mimeType,revision:d})})})})},_getFolder:function(a){var b=this;return this._getFileId(a).then(function(c){var d=void 0,e=void 0,f=void 0,g=void 0,h=void 0;return c?(d="'"+c+"' in parents",e="items(downloadUrl,etag,fileSize,id,mimeType,title)",b._request("GET",p+"/drive/v2/files?q="+encodeURIComponent(d)+"&fields="+encodeURIComponent(e)+"&maxResults=1000",{}).then(function(c){if(200!==c.status)return Promise.reject("request failed or something: "+c.status);try{f=JSON.parse(c.responseText)}catch(a){return Promise.reject("non-JSON response from GoogleDrive")}h={};var d=!0,e=!1,i=void 0;try{for(var j,k=f.items[Symbol.iterator]();!(d=(j=k.next()).done);d=!0){var l=j.value;g=l.etag.substring(1,l.etag.length-1),"application/vnd.google-apps.folder"===l.mimeType?(b._fileIdCache.set(a+l.title+"/",l.id),h[l.title+"/"]={ETag:g}):(b._fileIdCache.set(a+l.title,l.id),h[l.title]={ETag:g,"Content-Type":l.mimeType,"Content-Length":l.fileSize})}}catch(a){e=!0,i=a}finally{try{!d&&k.return&&k.return()}finally{if(e)throw i}}return Promise.resolve({statusCode:200,body:h,contentType:"application/json; charset=UTF-8",revision:void 0})})):Promise.resolve({statusCode:404})})},_getParentId:function(a){var b=this,c=e(a);return this._getFileId(c).then(function(a){return a?Promise.resolve(a):b._createFolder(c)})},_createFolder:function(a){var b=this;return this._getParentId(a).then(function(c){return b._request("POST",p+"/drive/v2/files",{body:JSON.stringify({title:d(f(a)),mimeType:"application/vnd.google-apps.folder",parents:[{id:c}]}),headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(function(a){var b=JSON.parse(a.responseText);return Promise.resolve(b.id)})})},_getFileId:function(a){var b=this,c=void 0;return"/"===a?Promise.resolve("root"):(c=this._fileIdCache.get(a))?Promise.resolve(c):this._getFolder(e(a)).then(function(){return c=b._fileIdCache.get(a),c?Promise.resolve(c):"/"===a.substr(-1)?b._createFolder(a).then(function(){return b._getFileId(a)}):Promise.resolve()})},_getMeta:function(a){return this._request("GET",p+"/drive/v2/files/"+a,{}).then(function(b){return 200===b.status?Promise.resolve(JSON.parse(b.responseText)):Promise.reject("request (getting metadata for "+a+") failed with status: "+b.status)})},_request:function(a,b,c){var d=this;return c.headers||(c.headers={}),c.headers.Authorization="Bearer "+this.token,this.rs._emit("wire-busy",{method:a,isFolder:s(b)}),m.request.call(this,a,b,c).then(function(c){return c&&401===c.status?void d.connect():(d.online||(d.online=!0,d.rs._emit("network-online")),d.rs._emit("wire-done",{method:a,isFolder:s(b),success:!0}),Promise.resolve(c))},function(c){return d.online&&(d.online=!1,d.rs._emit("network-offline")),d.rs._emit("wire-done",{method:a,isFolder:s(b),success:!1}),Promise.reject(c)})}},y._rs_init=function(a){var b=a.apiKeys.googledrive;b&&(a.googledrive=new y(a,b.clientId),"googledrive"===a.backend&&(a._origRemote=a.remote,a.remote=a.googledrive,h(a)))},y._rs_supported=function(){return!0},y._rs_cleanup=function(a){a.setBackend(void 0),a._origRemote&&(a.remote=a._origRemote,delete a._origRemote),i(a)},a.exports=y},function(a,b,c){"use strict";var d,e,f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(1),h=c(0),i=c(24),j={},k=function(a){return new Promise(function(b,c){return a in j?b(j[a]):new i({tls_only:!1,uri_fallback:!0,request_timeout:5e3}).lookup(a,function(d,h){if(d)return c(d);if("object"!==f(h.idx.links.remotestorage)||"number"!=typeof h.idx.links.remotestorage.length||h.idx.links.remotestorage.length<=0)return g("[Discover] WebFinger record for "+a+" does not have remotestorage defined in the links section ",JSON.stringify(h.json)),c("WebFinger record for "+a+" does not have remotestorage defined in the links section.");var i=h.idx.links.remotestorage[0],k=i.properties["http://tools.ietf.org/html/rfc6749#section-4.2"]||i.properties["auth-endpoint"],l=i.properties["http://remotestorage.io/spec/version"]||i.type;return j[a]={href:i.href,storageType:l,authURL:k,properties:i.properties},e&&(localStorage["remotestorage:discover"]=JSON.stringify({cache:j})),b(j[a])})})};k.DiscoveryError=function(a){this.name="DiscoveryError",this.message=a,this.stack=(new Error).stack},k.DiscoveryError.prototype=Object.create(Error.prototype),k.DiscoveryError.prototype.constructor=k.DiscoveryError,k._rs_init=function(){if(e=h.localStorageAvailable()){var a;try{a=JSON.parse(localStorage["remotestorage:discover"])}catch(a){}a&&(j=a.cache)}},k._rs_supported=function(){return d=!!h.globalContext.XMLHttpRequest},k._rs_cleanup=function(){e&&delete localStorage["remotestorage:discover"]},a.exports=k},function(a,b,c){"use strict";var d=function(){this.reset()};d.prototype={claim:function(a,b){if("string"!=typeof a||-1!==a.indexOf("/")||0===a.length)throw new Error("Scope should be a non-empty string without forward slashes");if(!b.match(/^rw?$/))throw new Error("Mode should be either 'r' or 'rw'");this._adjustRootPaths(a),this.scopeModeMap[a]=b},get:function(a){return this.scopeModeMap[a]},remove:function(a){var b,c={};for(b in this.scopeModeMap)c[b]=this.scopeModeMap[b];this.reset(),delete c[a];for(b in c)this.set(b,c[b])},checkPermission:function(a,b){var c=this.get(a);return c&&("r"===b||"rw"===c)},checkPathPermission:function(a,b){return!!this.checkPermission("*",b)||!!this.checkPermission(this._getModuleName(a),b)},reset:function(){this.rootPaths=[],this.scopeModeMap={}},_getModuleName:function(a){if("/"!==a[0])throw new Error("Path should start with a slash");var b=a.replace(/^\/public/,"").match(/^\/([^\/]*)\//);return b?b[1]:"*"},_adjustRootPaths:function(a){"*"in this.scopeModeMap||"*"===a?this.rootPaths=["/"]:a in this.scopeModeMap||(this.rootPaths.push("/"+a+"/"),this.rootPaths.push("/public/"+a+"/"))},_scopeNameForParameter:function(a){if("*"===a.name&&this.storageType){if("2012.04"===this.storageType)return"";if(this.storageType.match(/remotestorage-0[01]/))return"root"}return a.name},setStorageType:function(a){this.storageType=a}},Object.defineProperty(d.prototype,"scopes",{get:function(){return Object.keys(this.scopeModeMap).map(function(a){return{name:a,mode:this.scopeModeMap[a]}}.bind(this))}}),Object.defineProperty(d.prototype,"scopeParameter",{get:function(){return this.scopes.map(function(a){return this._scopeNameForParameter(a)+":"+a.mode}.bind(this)).join(" ")}}),d._rs_init=function(){},a.exports=d},function(a,b,c){"use strict";var d=c(0),e=c(1),f=d.containingFolder,g=function(){this.reset()};g.prototype={pendingActivations:[],set:function(a,b){if("string"!=typeof a)throw new Error("path should be a string");if(!d.isFolder(a))throw new Error("path should be a folder");if(this._remoteStorage&&this._remoteStorage.access&&!this._remoteStorage.access.checkPathPermission(a,"r"))throw new Error('No access to path "'+a+'". You have to claim access to it first.');if(!b.match(/^(FLUSH|SEEN|ALL)$/))throw new Error("strategy should be 'FLUSH', 'SEEN', or 'ALL'");this._rootPaths[a]=b,"ALL"===b&&(this.activateHandler?this.activateHandler(a):this.pendingActivations.push(a))},enable:function(a){this.set(a,"ALL")},disable:function(a){this.set(a,"FLUSH")},onActivate:function(a){var b;for(e("[Caching] Setting activate handler",a,this.pendingActivations),this.activateHandler=a,b=0;b<this.pendingActivations.length;b++)a(this.pendingActivations[b]);delete this.pendingActivations},checkPath:function(a){return void 0!==this._rootPaths[a]?this._rootPaths[a]:"/"===a?"SEEN":this.checkPath(f(a))},reset:function(){this._rootPaths={},this._remoteStorage=null}},g._rs_init=function(a){this._remoteStorage=a},a.exports=g},function(a,b,c){a.exports=c(10)},function(a,b,c){var d,e,f;!function(c,g){e=[],d=g,void 0!==(f="function"==typeof d?d.apply(b,e):d)&&(a.exports=f)}(0,function(){function a(a){return encodeURI(a).replace(/%25[0-9][0-9]/g,function(a){return"%"+a.substring(3)})}function b(b){var c="";m[b.charAt(0)]&&(c=b.charAt(0),b=b.substring(1));var d="",e="",f=!0,g=!1,h=!1;"+"===c?f=!1:"."===c?(e=".",d="."):"/"===c?(e="/",d="/"):"#"===c?(e="#",f=!1):";"===c?(e=";",d=";",g=!0,h=!0):"?"===c?(e="?",d="&",g=!0):"&"===c&&(e="&",d="&",g=!0);for(var i=[],j=b.split(","),k=[],l={},o=0;o<j.length;o++){var p=j[o],q=null;if(-1!==p.indexOf(":")){var r=p.split(":");p=r[0],q=parseInt(r[1],10)}for(var s={};n[p.charAt(p.length-1)];)s[p.charAt(p.length-1)]=!0,p=p.substring(0,p.length-1);var t={truncate:q,name:p,suffices:s};k.push(t),l[p]=t,i.push(p)}var u=function(b){for(var c="",i=0,j=0;j<k.length;j++){var l=k[j],m=b(l.name);if(null===m||void 0===m||Array.isArray(m)&&0===m.length||"object"==typeof m&&0===Object.keys(m).length)i++;else if(c+=j===i?e:d||",",Array.isArray(m)){g&&(c+=l.name+"=");for(var n=0;n<m.length;n++)n>0&&(c+=l.suffices["*"]?d||",":",",l.suffices["*"]&&g&&(c+=l.name+"=")),c+=f?encodeURIComponent(m[n]).replace(/!/g,"%21"):a(m[n])}else if("object"==typeof m){g&&!l.suffices["*"]&&(c+=l.name+"=");var o=!0;for(var p in m)o||(c+=l.suffices["*"]?d||",":","),o=!1,c+=f?encodeURIComponent(p).replace(/!/g,"%21"):a(p),c+=l.suffices["*"]?"=":",",c+=f?encodeURIComponent(m[p]).replace(/!/g,"%21"):a(m[p])}else g&&(c+=l.name,h&&""===m||(c+="=")),null!=l.truncate&&(m=m.substring(0,l.truncate)),c+=f?encodeURIComponent(m).replace(/!/g,"%21"):a(m)}return c};return u.varNames=i,{prefix:e,substitution:u}}function c(a){if(!(this instanceof c))return new c(a);for(var d=a.split("{"),e=[d.shift()],f=[],g=[],h=[];d.length>0;){var i=d.shift(),j=i.split("}")[0],k=i.substring(j.length+1),l=b(j);g.push(l.substitution),f.push(l.prefix),e.push(k),h=h.concat(l.substitution.varNames)}this.fill=function(a){for(var b=e[0],c=0;c<g.length;c++)b+=(0,g[c])(a),b+=e[c+1];return b},this.varNames=h,this.template=a}function d(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(Array.isArray(a)!==Array.isArray(b))return!1;if(Array.isArray(a)){if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(!d(a[c],b[c]))return!1}else{var e;for(e in a)if(void 0===b[e]&&void 0!==a[e])return!1;for(e in b)if(void 0===a[e]&&void 0!==b[e])return!1;for(e in a)if(!d(a[e],b[e]))return!1}return!0}return!1}function e(a){var b=String(a).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return b?{href:b[0]||"",protocol:b[1]||"",authority:b[2]||"",host:b[3]||"",hostname:b[4]||"",port:b[5]||"",pathname:b[6]||"",search:b[7]||"",hash:b[8]||""}:null}function f(a,b){return b=e(b||""),a=e(a||""),b&&a?(b.protocol||a.protocol)+(b.protocol||b.authority?b.authority:a.authority)+function(a){var b=[];return a.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(a){"/.."===a?b.pop():b.push(a)}),b.join("").replace(/^\//,"/"===a.charAt(0)?"/":"")}(b.protocol||b.authority||"/"===b.pathname.charAt(0)?b.pathname:b.pathname?(a.authority&&!a.pathname?"/":"")+a.pathname.slice(0,a.pathname.lastIndexOf("/")+1)+b.pathname:a.pathname)+(b.protocol||b.authority||b.pathname?b.search:b.search||a.search)+b.hash:null}function g(a){return a.split("#")[0]}function h(a,b){if(a&&"object"==typeof a)if(void 0===b?b=a.id:"string"==typeof a.id&&(b=f(b,a.id),a.id=b),Array.isArray(a))for(var c=0;c<a.length;c++)h(a[c],b);else{"string"==typeof a.$ref&&(a.$ref=f(b,a.$ref));for(var d in a)"enum"!==d&&h(a[d],b)}}function i(a){a=a||"en";var b=v[a];return function(a){var c=b[a.code]||u[a.code];if("string"!=typeof c)return"Unknown error code "+a.code+": "+JSON.stringify(a.messageParams);var d=a.params;return c.replace(/\{([^{}]*)\}/g,function(a,b){var c=d[b];return"string"==typeof c||"number"==typeof c?c:a})}}function j(a,b,c,d,e){if(Error.call(this),void 0===a)throw new Error("No error code supplied: "+d);this.message="",this.params=b,this.code=a,this.dataPath=c||"",this.schemaPath=d||"",this.subErrors=e||null;var f=new Error(this.message);if(this.stack=f.stack||f.stacktrace,!this.stack)try{throw f}catch(f){this.stack=f.stack||f.stacktrace}}function k(a,b){if(b.substring(0,a.length)===a){var c=b.substring(a.length);if(b.length>0&&"/"===b.charAt(a.length-1)||"#"===c.charAt(0)||"?"===c.charAt(0))return!0}return!1}function l(a){var b,c,d=new o,e={setErrorReporter:function(a){return"string"==typeof a?this.language(a):(c=a,!0)},addFormat:function(){d.addFormat.apply(d,arguments)},language:function(a){return a?(v[a]||(a=a.split("-")[0]),!!v[a]&&(b=a,a)):b},addLanguage:function(a,b){var c;for(c in r)b[c]&&!b[r[c]]&&(b[r[c]]=b[c]);var d=a.split("-")[0];if(v[d]){v[a]=Object.create(v[d]);for(c in b)void 0===v[d][c]&&(v[d][c]=b[c]),v[a][c]=b[c]}else v[a]=b,v[d]=b;return this},freshApi:function(a){var b=l();return a&&b.language(a),b},validate:function(a,e,f,g){var h=i(b),j=c?function(a,b,d){return c(a,b,d)||h(a,b,d)}:h,k=new o(d,!1,j,f,g);"string"==typeof e&&(e={$ref:e}),k.addSchema("",e);var l=k.validateAll(a,e,null,null,"");return!l&&g&&(l=k.banUnknownProperties(a,e)),this.error=l,this.missing=k.missing,this.valid=null===l,this.valid},validateResult:function(){var a={toString:function(){return this.valid?"valid":this.error.message}};return this.validate.apply(a,arguments),a},validateMultiple:function(a,e,f,g){var h=i(b),j=c?function(a,b,d){return c(a,b,d)||h(a,b,d)}:h,k=new o(d,!0,j,f,g);"string"==typeof e&&(e={$ref:e}),k.addSchema("",e),k.validateAll(a,e,null,null,""),g&&k.banUnknownProperties(a,e);var l={toString:function(){return this.valid?"valid":this.error.message}};return l.errors=k.errors,l.missing=k.missing,l.valid=0===l.errors.length,l},addSchema:function(){return d.addSchema.apply(d,arguments)},getSchema:function(){return d.getSchema.apply(d,arguments)},getSchemaMap:function(){return d.getSchemaMap.apply(d,arguments)},getSchemaUris:function(){return d.getSchemaUris.apply(d,arguments)},getMissingUris:function(){return d.getMissingUris.apply(d,arguments)},dropSchemas:function(){d.dropSchemas.apply(d,arguments)},defineKeyword:function(){d.defineKeyword.apply(d,arguments)},defineError:function(a,b,c){if("string"!=typeof a||!/^[A-Z]+(_[A-Z]+)*$/.test(a))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof b||b%1!=0||b<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==r[a])throw new Error("Error already defined: "+a+" as "+r[a]);if(void 0!==s[b])throw new Error("Error code already used: "+s[b]+" as "+b);r[a]=b,s[b]=a,u[a]=u[b]=c;for(var d in v){var e=v[d];e[a]&&(e[b]=e[b]||e[a])}},reset:function(){d.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:h,resolveUrl:f,getDocumentUri:g,errorCodes:r};return e.language(a||"en"),e}Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=c.length;return function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on non-object");var f=[];for(var g in e)a.call(e,g)&&f.push(g);if(b)for(var h=0;h<d;h++)a.call(e,c[h])&&f.push(c[h]);return f}}()),Object.create||(Object.create=function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}()),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null===this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>1&&(d=Number(arguments[1]),d!==d?d=0:0!==d&&d!==1/0&&d!==-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);e<c;e++)if(e in b&&b[e]===a)return e;return-1}),Object.isFrozen||(Object.isFrozen=function(a){for(var b="tv4_test_frozen_key";a.hasOwnProperty(b);)b+=Math.random();try{return a[b]=!0,delete a[b],!1}catch(a){return!0}});var m={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},n={"*":!0};c.prototype={toString:function(){return this.template},fillFromObject:function(a){return this.fill(function(b){return a[b]})}};var o=function(a,b,c,d,e){if(this.missing=[],this.missingMap={},this.formatValidators=a?Object.create(a.formatValidators):{},this.schemas=a?Object.create(a.schemas):{},this.collectMultiple=b,this.errors=[],this.handleError=b?this.collectError:this.returnError,d&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),e&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorReporter=c||i("en"),"string"==typeof this.errorReporter)throw new Error("debug");if(this.definedKeywords={},a)for(var f in a.definedKeywords)this.definedKeywords[f]=a.definedKeywords[f].slice(0)};o.prototype.defineKeyword=function(a,b){this.definedKeywords[a]=this.definedKeywords[a]||[],this.definedKeywords[a].push(b)},o.prototype.createError=function(a,b,c,d,e,f,g){var h=new j(a,b,c,d,e);return h.message=this.errorReporter(h,f,g),h},o.prototype.returnError=function(a){return a},o.prototype.collectError=function(a){
return a&&this.errors.push(a),null},o.prototype.prefixErrors=function(a,b,c){for(var d=a;d<this.errors.length;d++)this.errors[d]=this.errors[d].prefixWith(b,c);return this},o.prototype.banUnknownProperties=function(a,b){for(var c in this.unknownPropertyPaths){var d=this.createError(r.UNKNOWN_PROPERTY,{path:c},c,"",null,a,b),e=this.handleError(d);if(e)return e}return null},o.prototype.addFormat=function(a,b){if("object"==typeof a){for(var c in a)this.addFormat(c,a[c]);return this}this.formatValidators[a]=b},o.prototype.resolveRefs=function(a,b){if(void 0!==a.$ref){if(b=b||{},b[a.$ref])return this.createError(r.CIRCULAR_REFERENCE,{urls:Object.keys(b).join(", ")},"","",null,void 0,a);b[a.$ref]=!0,a=this.getSchema(a.$ref,b)}return a},o.prototype.getSchema=function(a,b){var c;if(void 0!==this.schemas[a])return c=this.schemas[a],this.resolveRefs(c,b);var d=a,e="";if(-1!==a.indexOf("#")&&(e=a.substring(a.indexOf("#")+1),d=a.substring(0,a.indexOf("#"))),"object"==typeof this.schemas[d]){c=this.schemas[d];var f=decodeURIComponent(e);if(""===f)return this.resolveRefs(c,b);if("/"!==f.charAt(0))return;for(var g=f.split("/").slice(1),h=0;h<g.length;h++){var i=g[h].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===c[i]){c=void 0;break}c=c[i]}if(void 0!==c)return this.resolveRefs(c,b)}void 0===this.missing[d]&&(this.missing.push(d),this.missing[d]=d,this.missingMap[d]=d)},o.prototype.searchSchemas=function(a,b){if(Array.isArray(a))for(var c=0;c<a.length;c++)this.searchSchemas(a[c],b);else if(a&&"object"==typeof a){"string"==typeof a.id&&k(b,a.id)&&void 0===this.schemas[a.id]&&(this.schemas[a.id]=a);for(var d in a)if("enum"!==d)if("object"==typeof a[d])this.searchSchemas(a[d],b);else if("$ref"===d){var e=g(a[d]);e&&void 0===this.schemas[e]&&void 0===this.missingMap[e]&&(this.missingMap[e]=e)}}},o.prototype.addSchema=function(a,b){if("string"!=typeof a||void 0===b){if("object"!=typeof a||"string"!=typeof a.id)return;b=a,a=b.id}a===g(a)+"#"&&(a=g(a)),this.schemas[a]=b,delete this.missingMap[a],h(b,a),this.searchSchemas(b,a)},o.prototype.getSchemaMap=function(){var a={};for(var b in this.schemas)a[b]=this.schemas[b];return a},o.prototype.getSchemaUris=function(a){var b=[];for(var c in this.schemas)a&&!a.test(c)||b.push(c);return b},o.prototype.getMissingUris=function(a){var b=[];for(var c in this.missingMap)a&&!a.test(c)||b.push(c);return b},o.prototype.dropSchemas=function(){this.schemas={},this.reset()},o.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},o.prototype.validateAll=function(a,b,c,d,e){var f;if(!(b=this.resolveRefs(b)))return null;if(b instanceof j)return this.errors.push(b),b;var g,h=this.errors.length,i=null,k=null;if(this.checkRecursive&&a&&"object"==typeof a){if(f=!this.scanned.length,a[this.validatedSchemasKey]){var l=a[this.validatedSchemasKey].indexOf(b);if(-1!==l)return this.errors=this.errors.concat(a[this.validationErrorsKey][l]),null}if(Object.isFrozen(a)&&-1!==(g=this.scannedFrozen.indexOf(a))){var m=this.scannedFrozenSchemas[g].indexOf(b);if(-1!==m)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[g][m]),null}if(this.scanned.push(a),Object.isFrozen(a))-1===g&&(g=this.scannedFrozen.length,this.scannedFrozen.push(a),this.scannedFrozenSchemas.push([])),i=this.scannedFrozenSchemas[g].length,this.scannedFrozenSchemas[g][i]=b,this.scannedFrozenValidationErrors[g][i]=[];else{if(!a[this.validatedSchemasKey])try{Object.defineProperty(a,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(a,this.validationErrorsKey,{value:[],configurable:!0})}catch(b){a[this.validatedSchemasKey]=[],a[this.validationErrorsKey]=[]}k=a[this.validatedSchemasKey].length,a[this.validatedSchemasKey][k]=b,a[this.validationErrorsKey][k]=[]}}var n=this.errors.length,o=this.validateBasic(a,b,e)||this.validateNumeric(a,b,e)||this.validateString(a,b,e)||this.validateArray(a,b,e)||this.validateObject(a,b,e)||this.validateCombinations(a,b,e)||this.validateHypermedia(a,b,e)||this.validateFormat(a,b,e)||this.validateDefinedKeywords(a,b,e)||null;if(f){for(;this.scanned.length;)delete this.scanned.pop()[this.validatedSchemasKey];this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(o||n!==this.errors.length)for(;c&&c.length||d&&d.length;){var p=c&&c.length?""+c.pop():null,q=d&&d.length?""+d.pop():null;o&&(o=o.prefixWith(p,q)),this.prefixErrors(n,p,q)}return null!==i?this.scannedFrozenValidationErrors[g][i]=this.errors.slice(h):null!==k&&(a[this.validationErrorsKey][k]=this.errors.slice(h)),this.handleError(o)},o.prototype.validateFormat=function(a,b){if("string"!=typeof b.format||!this.formatValidators[b.format])return null;var c=this.formatValidators[b.format].call(null,a,b);return"string"==typeof c||"number"==typeof c?this.createError(r.FORMAT_CUSTOM,{message:c},"","/format",null,a,b):c&&"object"==typeof c?this.createError(r.FORMAT_CUSTOM,{message:c.message||"?"},c.dataPath||"",c.schemaPath||"/format",null,a,b):null},o.prototype.validateDefinedKeywords=function(a,b,c){for(var d in this.definedKeywords)if(void 0!==b[d])for(var e=this.definedKeywords[d],f=0;f<e.length;f++){var g=e[f],h=g(a,b[d],b,c);if("string"==typeof h||"number"==typeof h)return this.createError(r.KEYWORD_CUSTOM,{key:d,message:h},"","",null,a,b).prefixWith(null,d);if(h&&"object"==typeof h){var i=h.code;if("string"==typeof i){if(!r[i])throw new Error("Undefined error code (use defineError): "+i);i=r[i]}else"number"!=typeof i&&(i=r.KEYWORD_CUSTOM);var j="object"==typeof h.message?h.message:{key:d,message:h.message||"?"},k=h.schemaPath||"/"+d.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(i,j,h.dataPath||null,k,null,a,b)}}return null},o.prototype.validateBasic=function(a,b,c){var d;return(d=this.validateType(a,b,c))?d.prefixWith(null,"type"):(d=this.validateEnum(a,b,c))?d.prefixWith(null,"type"):null},o.prototype.validateType=function(a,b){if(void 0===b.type)return null;var c=typeof a;null===a?c="null":Array.isArray(a)&&(c="array");var d=b.type;Array.isArray(d)||(d=[d]);for(var e=0;e<d.length;e++){var f=d[e];if(f===c||"integer"===f&&"number"===c&&a%1==0)return null}return this.createError(r.INVALID_TYPE,{type:c,expected:d.join("/")},"","",null,a,b)},o.prototype.validateEnum=function(a,b){if(void 0===b.enum)return null;for(var c=0;c<b.enum.length;c++)if(d(a,b.enum[c]))return null;return this.createError(r.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(a):a},"","",null,a,b)},o.prototype.validateNumeric=function(a,b,c){return this.validateMultipleOf(a,b,c)||this.validateMinMax(a,b,c)||this.validateNaN(a,b,c)||null};var p=Math.pow(2,-51),q=1-p;o.prototype.validateMultipleOf=function(a,b){var c=b.multipleOf||b.divisibleBy;if(void 0===c)return null;if("number"==typeof a){var d=a/c%1;if(d>=p&&d<q)return this.createError(r.NUMBER_MULTIPLE_OF,{value:a,multipleOf:c},"","",null,a,b)}return null},o.prototype.validateMinMax=function(a,b){if("number"!=typeof a)return null;if(void 0!==b.minimum){if(a<b.minimum)return this.createError(r.NUMBER_MINIMUM,{value:a,minimum:b.minimum},"","/minimum",null,a,b);if(b.exclusiveMinimum&&a===b.minimum)return this.createError(r.NUMBER_MINIMUM_EXCLUSIVE,{value:a,minimum:b.minimum},"","/exclusiveMinimum",null,a,b)}if(void 0!==b.maximum){if(a>b.maximum)return this.createError(r.NUMBER_MAXIMUM,{value:a,maximum:b.maximum},"","/maximum",null,a,b);if(b.exclusiveMaximum&&a===b.maximum)return this.createError(r.NUMBER_MAXIMUM_EXCLUSIVE,{value:a,maximum:b.maximum},"","/exclusiveMaximum",null,a,b)}return null},o.prototype.validateNaN=function(a,b){return"number"!=typeof a?null:!0===isNaN(a)||a===1/0||a===-1/0?this.createError(r.NUMBER_NOT_A_NUMBER,{value:a},"","/type",null,a,b):null},o.prototype.validateString=function(a,b,c){return this.validateStringLength(a,b,c)||this.validateStringPattern(a,b,c)||null},o.prototype.validateStringLength=function(a,b){return"string"!=typeof a?null:void 0!==b.minLength&&a.length<b.minLength?this.createError(r.STRING_LENGTH_SHORT,{length:a.length,minimum:b.minLength},"","/minLength",null,a,b):void 0!==b.maxLength&&a.length>b.maxLength?this.createError(r.STRING_LENGTH_LONG,{length:a.length,maximum:b.maxLength},"","/maxLength",null,a,b):null},o.prototype.validateStringPattern=function(a,b){if("string"!=typeof a||"string"!=typeof b.pattern&&!(b.pattern instanceof RegExp))return null;var c;if(b.pattern instanceof RegExp)c=b.pattern;else{var d,e="",f=b.pattern.match(/^\/(.+)\/([img]*)$/);f?(d=f[1],e=f[2]):d=b.pattern,c=new RegExp(d,e)}return c.test(a)?null:this.createError(r.STRING_PATTERN,{pattern:b.pattern},"","/pattern",null,a,b)},o.prototype.validateArray=function(a,b,c){return Array.isArray(a)?this.validateArrayLength(a,b,c)||this.validateArrayUniqueItems(a,b,c)||this.validateArrayItems(a,b,c)||null:null},o.prototype.validateArrayLength=function(a,b){var c;return void 0!==b.minItems&&a.length<b.minItems&&(c=this.createError(r.ARRAY_LENGTH_SHORT,{length:a.length,minimum:b.minItems},"","/minItems",null,a,b),this.handleError(c))?c:void 0!==b.maxItems&&a.length>b.maxItems&&(c=this.createError(r.ARRAY_LENGTH_LONG,{length:a.length,maximum:b.maxItems},"","/maxItems",null,a,b),this.handleError(c))?c:null},o.prototype.validateArrayUniqueItems=function(a,b){if(b.uniqueItems)for(var c=0;c<a.length;c++)for(var e=c+1;e<a.length;e++)if(d(a[c],a[e])){var f=this.createError(r.ARRAY_UNIQUE,{match1:c,match2:e},"","/uniqueItems",null,a,b);if(this.handleError(f))return f}return null},o.prototype.validateArrayItems=function(a,b,c){if(void 0===b.items)return null;var d,e;if(Array.isArray(b.items)){for(e=0;e<a.length;e++)if(e<b.items.length){if(d=this.validateAll(a[e],b.items[e],[e],["items",e],c+"/"+e))return d}else if(void 0!==b.additionalItems)if("boolean"==typeof b.additionalItems){if(!b.additionalItems&&(d=this.createError(r.ARRAY_ADDITIONAL_ITEMS,{},"/"+e,"/additionalItems",null,a,b),this.handleError(d)))return d}else if(d=this.validateAll(a[e],b.additionalItems,[e],["additionalItems"],c+"/"+e))return d}else for(e=0;e<a.length;e++)if(d=this.validateAll(a[e],b.items,[e],["items"],c+"/"+e))return d;return null},o.prototype.validateObject=function(a,b,c){return"object"!=typeof a||null===a||Array.isArray(a)?null:this.validateObjectMinMaxProperties(a,b,c)||this.validateObjectRequiredProperties(a,b,c)||this.validateObjectProperties(a,b,c)||this.validateObjectDependencies(a,b,c)||null},o.prototype.validateObjectMinMaxProperties=function(a,b){var c,d=Object.keys(a);return void 0!==b.minProperties&&d.length<b.minProperties&&(c=this.createError(r.OBJECT_PROPERTIES_MINIMUM,{propertyCount:d.length,minimum:b.minProperties},"","/minProperties",null,a,b),this.handleError(c))?c:void 0!==b.maxProperties&&d.length>b.maxProperties&&(c=this.createError(r.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:d.length,maximum:b.maxProperties},"","/maxProperties",null,a,b),this.handleError(c))?c:null},o.prototype.validateObjectRequiredProperties=function(a,b){if(void 0!==b.required)for(var c=0;c<b.required.length;c++){var d=b.required[c];if(void 0===a[d]){var e=this.createError(r.OBJECT_REQUIRED,{key:d},"","/required/"+c,null,a,b);if(this.handleError(e))return e}}return null},o.prototype.validateObjectProperties=function(a,b,c){var d;for(var e in a){var f=c+"/"+e.replace(/~/g,"~0").replace(/\//g,"~1"),g=!1;if(void 0!==b.properties&&void 0!==b.properties[e]&&(g=!0,d=this.validateAll(a[e],b.properties[e],[e],["properties",e],f)))return d;if(void 0!==b.patternProperties)for(var h in b.patternProperties){var i=new RegExp(h);if(i.test(e)&&(g=!0,d=this.validateAll(a[e],b.patternProperties[h],[e],["patternProperties",h],f)))return d}if(g)this.trackUnknownProperties&&(this.knownPropertyPaths[f]=!0,delete this.unknownPropertyPaths[f]);else if(void 0!==b.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[f]=!0,delete this.unknownPropertyPaths[f]),"boolean"==typeof b.additionalProperties){if(!b.additionalProperties&&(d=this.createError(r.OBJECT_ADDITIONAL_PROPERTIES,{key:e},"","/additionalProperties",null,a,b).prefixWith(e,null),this.handleError(d)))return d}else if(d=this.validateAll(a[e],b.additionalProperties,[e],["additionalProperties"],f))return d}else this.trackUnknownProperties&&!this.knownPropertyPaths[f]&&(this.unknownPropertyPaths[f]=!0)}return null},o.prototype.validateObjectDependencies=function(a,b,c){var d;if(void 0!==b.dependencies)for(var e in b.dependencies)if(void 0!==a[e]){var f=b.dependencies[e];if("string"==typeof f){if(void 0===a[f]&&(d=this.createError(r.OBJECT_DEPENDENCY_KEY,{key:e,missing:f},"","",null,a,b).prefixWith(null,e).prefixWith(null,"dependencies"),this.handleError(d)))return d}else if(Array.isArray(f))for(var g=0;g<f.length;g++){var h=f[g];if(void 0===a[h]&&(d=this.createError(r.OBJECT_DEPENDENCY_KEY,{key:e,missing:h},"","/"+g,null,a,b).prefixWith(null,e).prefixWith(null,"dependencies"),this.handleError(d)))return d}else if(d=this.validateAll(a,f,[],["dependencies",e],c))return d}return null},o.prototype.validateCombinations=function(a,b,c){return this.validateAllOf(a,b,c)||this.validateAnyOf(a,b,c)||this.validateOneOf(a,b,c)||this.validateNot(a,b,c)||null},o.prototype.validateAllOf=function(a,b,c){if(void 0===b.allOf)return null;for(var d,e=0;e<b.allOf.length;e++){var f=b.allOf[e];if(d=this.validateAll(a,f,[],["allOf",e],c))return d}return null},o.prototype.validateAnyOf=function(a,b,c){if(void 0===b.anyOf)return null;var d,e,f=[],g=this.errors.length;this.trackUnknownProperties&&(d=this.unknownPropertyPaths,e=this.knownPropertyPaths);for(var h=!0,i=0;i<b.anyOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var j=b.anyOf[i],k=this.errors.length,l=this.validateAll(a,j,[],["anyOf",i],c);if(null===l&&k===this.errors.length){if(this.errors=this.errors.slice(0,g),this.trackUnknownProperties){for(var m in this.knownPropertyPaths)e[m]=!0,delete d[m];for(var n in this.unknownPropertyPaths)e[n]||(d[n]=!0);h=!1;continue}return null}l&&f.push(l.prefixWith(null,""+i).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=d,this.knownPropertyPaths=e),h?(f=f.concat(this.errors.slice(g)),this.errors=this.errors.slice(0,g),this.createError(r.ANY_OF_MISSING,{},"","/anyOf",f,a,b)):void 0},o.prototype.validateOneOf=function(a,b,c){if(void 0===b.oneOf)return null;var d,e,f=null,g=[],h=this.errors.length;this.trackUnknownProperties&&(d=this.unknownPropertyPaths,e=this.knownPropertyPaths);for(var i=0;i<b.oneOf.length;i++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var j=b.oneOf[i],k=this.errors.length,l=this.validateAll(a,j,[],["oneOf",i],c);if(null===l&&k===this.errors.length){if(null!==f)return this.errors=this.errors.slice(0,h),this.createError(r.ONE_OF_MULTIPLE,{index1:f,index2:i},"","/oneOf",null,a,b);if(f=i,this.trackUnknownProperties){for(var m in this.knownPropertyPaths)e[m]=!0,delete d[m];for(var n in this.unknownPropertyPaths)e[n]||(d[n]=!0)}}else l&&g.push(l)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=d,this.knownPropertyPaths=e),null===f?(g=g.concat(this.errors.slice(h)),this.errors=this.errors.slice(0,h),this.createError(r.ONE_OF_MISSING,{},"","/oneOf",g,a,b)):(this.errors=this.errors.slice(0,h),null)},o.prototype.validateNot=function(a,b,c){if(void 0===b.not)return null;var d,e,f=this.errors.length;this.trackUnknownProperties&&(d=this.unknownPropertyPaths,e=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var g=this.validateAll(a,b.not,null,null,c),h=this.errors.slice(f);return this.errors=this.errors.slice(0,f),this.trackUnknownProperties&&(this.unknownPropertyPaths=d,this.knownPropertyPaths=e),null===g&&0===h.length?this.createError(r.NOT_PASSED,{},"","/not",null,a,b):null},o.prototype.validateHypermedia=function(a,b,d){if(!b.links)return null;for(var e,f=0;f<b.links.length;f++){var g=b.links[f];if("describedby"===g.rel){for(var h=new c(g.href),i=!0,j=0;j<h.varNames.length;j++)if(!(h.varNames[j]in a)){i=!1;break}if(i){var k=h.fillFromObject(a),l={$ref:k};if(e=this.validateAll(a,l,[],["links",f],d))return e}}}};var r={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},s={};for(var t in r)s[r[t]]=t;var u={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};j.prototype=Object.create(Error.prototype),j.prototype.constructor=j,j.prototype.name="ValidationError",j.prototype.prefixWith=function(a,b){if(null!==a&&(a=a.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+a+this.dataPath),null!==b&&(b=b.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+b+this.schemaPath),null!==this.subErrors)for(var c=0;c<this.subErrors.length;c++)this.subErrors[c].prefixWith(a,b);return this};var v={},w=l();return w.addLanguage("en-gb",u),w.tv4=w,w})},function(a,b,c){"use strict";var d={uris:{},schemas:{},aliases:{},declare:function(a,b,c,d){var e=a+"/"+b;if(d.extends){var f,g=d.extends.split("/");f=1===g.length?a+"/"+g.shift():g.join("/");var h=this.uris[f];if(!h)throw"Type '"+e+"' tries to extend unknown schema '"+f+"'";d.extends=this.schemas[h]}this.uris[e]=c,this.aliases[c]=e,this.schemas[c]=d},resolveAlias:function(a){return this.uris[a]},getSchema:function(a){return this.schemas[a]},inScope:function(a){var b=a.length,c={};for(var d in this.uris)if(d.substr(0,b+1)===a+"/"){var e=this.uris[d];c[e]=this.schemas[e]}return c}},e=function(a){var b=new Error("Schema not found: "+a);return b.name="SchemaNotFound",b};e.prototype=Error.prototype,d.SchemaNotFound=e,a.exports=d},function(a,b,c){"use strict";(function(a){function d(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(a,b){if(d()<b)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=f.prototype):(null===a&&(a=new f(b)),a.length=b),a}function f(a,b,c){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return j(this,a)}return g(this,a,b,c)}function g(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?m(a,b,c,d):"string"==typeof b?k(a,b,c):n(a,b)}function h(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function i(a,b,c,d){return h(b),b<=0?e(a,b):void 0!==c?"string"==typeof d?e(a,b).fill(c,d):e(a,b).fill(c):e(a,b)}function j(a,b){if(h(b),a=e(a,b<0?0:0|o(b)),!f.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function k(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!f.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|q(b,c);a=e(a,d);var g=a.write(b,c);return g!==d&&(a=a.slice(0,g)),a}function l(a,b){var c=b.length<0?0:0|o(b.length);a=e(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function m(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),f.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=f.prototype):a=l(a,b),a}function n(a,b){if(f.isBuffer(b)){var c=0|o(b.length);return a=e(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||X(b.length)?e(a,0):l(a,b);if("Buffer"===b.type&&$(b.data))return l(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function o(a){if(a>=d())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d().toString(16)+" bytes");return 0|a}function p(a){return+a!=a&&(a=0),f.alloc(+a)}function q(a,b){if(f.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return S(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return V(a).length;default:if(d)return S(a).length;b=(""+b).toLowerCase(),d=!0}}function r(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return G(this,b,c);case"utf8":case"utf-8":return C(this,b,c);case"ascii":return E(this,b,c);case"latin1":case"binary":return F(this,b,c);case"base64":return B(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function s(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function t(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=f.from(b,d)),f.isBuffer(b))return 0===b.length?-1:u(a,b,c,d,e);if("number"==typeof b)return b&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):u(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function u(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&("ucs2"===(d=String(d).toLowerCase())||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,-1===k?0:j-k)){if(-1===k&&(k=j),j-k+1===i)return k*g}else-1!==k&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){l=!1;break}if(l)return j}return-1}function v(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d))>e&&(d=e):d=e;var f=b.length;if(f%2!=0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function w(a,b,c,d){return W(S(b,a.length-c),a,c,d)}function x(a,b,c,d){return W(T(b),a,c,d)}function y(a,b,c,d){return x(a,b,c,d)}function z(a,b,c,d){return W(V(b),a,c,d)}function A(a,b,c,d){return W(U(b,a.length-c),a,c,d)}function B(a,b,c){return 0===b&&c===a.length?Y.fromByteArray(a):Y.fromByteArray(a.slice(b,c))}function C(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:128==(192&(i=a[e+1]))&&(l=(31&f)<<6|63&i)>127&&(g=l);break;case 3:i=a[e+1],j=a[e+2],128==(192&i)&&128==(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j)>2047&&(l<55296||l>57343)&&(g=l);break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128==(192&i)&&128==(192&j)&&128==(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k)>65535&&l<1114112&&(g=l)}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return D(d)}function D(a){var b=a.length;if(b<=_)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=_));return c}function E(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function G(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=R(a[f]);return e}function H(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function I(a,b,c){if(a%1!=0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function J(a,b,c,d,e,g){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<g)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function K(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function L(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function M(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function N(a,b,c,d,e){return e||M(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),Z.write(a,b,c,d,23,4),c+4}function O(a,b,c,d,e){return e||M(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),Z.write(a,b,c,d,52,8),c+8}function P(a){if(a=Q(a).replace(aa,""),a.length<2)return"";for(;a.length%4!=0;)a+="=";return a}function Q(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function R(a){return a<16?"0"+a.toString(16):a.toString(16)}function S(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if((c=a.charCodeAt(g))>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=65536+(e-55296<<10|c-56320)}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function T(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function U(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function V(a){return Y.toByteArray(P(a))}function W(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function X(a){return a!==a}var Y=c(21),Z=c(22),$=c(23);b.Buffer=f,b.SlowBuffer=p,b.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==a.TYPED_ARRAY_SUPPORT?a.TYPED_ARRAY_SUPPORT:function(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}(),b.kMaxLength=d(),f.poolSize=8192,f._augment=function(a){return a.__proto__=f.prototype,a},f.from=function(a,b,c){return g(null,a,b,c)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(a,b,c){return i(null,a,b,c)},f.allocUnsafe=function(a){return j(null,a)},f.allocUnsafeSlow=function(a){return j(null,a)},f.isBuffer=function(a){return!(null==a||!a._isBuffer)},f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,g=Math.min(c,d);e<g;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},f.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(a,b){if(!$(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return f.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=f.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var g=a[c];if(!f.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,e),e+=g.length}return d},f.byteLength=q,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var a=this.length;if(a%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)s(this,b,b+1);return this},f.prototype.swap32=function(){var a=this.length;if(a%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)s(this,b,b+3),s(this,b+1,b+2);return this},f.prototype.swap64=function(){var a=this.length;if(a%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)s(this,b,b+7),s(this,b+1,b+6),s(this,b+2,b+5),s(this,b+3,b+4);return this},f.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?C(this,0,a):r.apply(this,arguments)},f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===f.compare(this,a)},f.prototype.inspect=function(){var a="",c=b.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,c).match(/.{2}/g).join(" "),this.length>c&&(a+=" ... ")),"<Buffer "+a+">"},f.prototype.compare=function(a,b,c,d,e){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var g=e-d,h=c-b,i=Math.min(g,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){g=j[l],h=k[l];break}return g<h?-1:h<g?1:0},f.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)},
f.prototype.indexOf=function(a,b,c){return t(this,a,b,c,!0)},f.prototype.lastIndexOf=function(a,b,c){return t(this,a,b,c,!1)},f.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return v(this,a,b,c);case"utf8":case"utf-8":return w(this,a,b,c);case"ascii":return x(this,a,b,c);case"latin1":case"binary":return y(this,a,b,c);case"base64":return z(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var _=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c)<0&&(a=0):a>c&&(a=c),b<0?(b+=c)<0&&(b=0):b>c&&(b=c),b<a&&(b=a);var d;if(f.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=f.prototype;else{var e=b-a;d=new f(e,void 0);for(var g=0;g<e;++g)d[g]=this[g+a]}return d},f.prototype.readUIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},f.prototype.readUIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},f.prototype.readUInt8=function(a,b){return b||I(a,1,this.length),this[a]},f.prototype.readUInt16LE=function(a,b){return b||I(a,2,this.length),this[a]|this[a+1]<<8},f.prototype.readUInt16BE=function(a,b){return b||I(a,2,this.length),this[a]<<8|this[a+1]},f.prototype.readUInt32LE=function(a,b){return b||I(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},f.prototype.readUInt32BE=function(a,b){return b||I(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},f.prototype.readIntLE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},f.prototype.readIntBE=function(a,b,c){a|=0,b|=0,c||I(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},f.prototype.readInt8=function(a,b){return b||I(a,1,this.length),128&this[a]?-1*(255-this[a]+1):this[a]},f.prototype.readInt16LE=function(a,b){b||I(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt16BE=function(a,b){b||I(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},f.prototype.readInt32LE=function(a,b){return b||I(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},f.prototype.readInt32BE=function(a,b){return b||I(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},f.prototype.readFloatLE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!0,23,4)},f.prototype.readFloatBE=function(a,b){return b||I(a,4,this.length),Z.read(this,a,!1,23,4)},f.prototype.readDoubleLE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!0,52,8)},f.prototype.readDoubleBE=function(a,b){return b||I(a,8,this.length),Z.read(this,a,!1,52,8)},f.prototype.writeUIntLE=function(a,b,c,d){a=+a,b|=0,c|=0,d||J(this,a,b,c,Math.pow(2,8*c)-1,0);var e=1,f=0;for(this[b]=255&a;++f<c&&(e*=256);)this[b+f]=a/e&255;return b+c},f.prototype.writeUIntBE=function(a,b,c,d){a=+a,b|=0,c|=0,d||J(this,a,b,c,Math.pow(2,8*c)-1,0);var e=c-1,f=1;for(this[b+e]=255&a;--e>=0&&(f*=256);)this[b+e]=a/f&255;return b+c},f.prototype.writeUInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,255,0),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},f.prototype.writeUInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeUInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeUInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):L(this,a,b,!0),b+4},f.prototype.writeUInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b|=0,!d){var e=Math.pow(2,8*c-1);J(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},f.prototype.writeInt8=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,1,127,-128),f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},f.prototype.writeInt16LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):K(this,a,b,!0),b+2},f.prototype.writeInt16BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):K(this,a,b,!1),b+2},f.prototype.writeInt32LE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):L(this,a,b,!0),b+4},f.prototype.writeInt32BE=function(a,b,c){return a=+a,b|=0,c||J(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):L(this,a,b,!1),b+4},f.prototype.writeFloatLE=function(a,b,c){return N(this,a,b,!0,c)},f.prototype.writeFloatBE=function(a,b,c){return N(this,a,b,!1,c)},f.prototype.writeDoubleLE=function(a,b,c){return O(this,a,b,!0,c)},f.prototype.writeDoubleBE=function(a,b,c){return O(this,a,b,!1,c)},f.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,g=d-c;if(this===a&&c<b&&b<d)for(e=g-1;e>=0;--e)a[e+b]=this[e+c];else if(g<1e3||!f.TYPED_ARRAY_SUPPORT)for(e=0;e<g;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+g),b);return g},f.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!f.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a&=255);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var g;if("number"==typeof a)for(g=b;g<c;++g)this[g]=a;else{var h=f.isBuffer(a)?a:S(new f(a,d).toString()),i=h.length;for(g=0;g<c-b;++g)this[g+b]=h[g%i]}return this};var aa=/[^+\/0-9A-Za-z-_]/g}).call(b,c(6))},function(a,b,c){"use strict";function d(a){var b=a.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function e(a){return 3*a.length/4-d(a)}function f(a){var b,c,e,f,g,h=a.length;f=d(a),g=new l(3*h/4-f),c=f>0?h-4:h;var i=0;for(b=0;b<c;b+=4)e=k[a.charCodeAt(b)]<<18|k[a.charCodeAt(b+1)]<<12|k[a.charCodeAt(b+2)]<<6|k[a.charCodeAt(b+3)],g[i++]=e>>16&255,g[i++]=e>>8&255,g[i++]=255&e;return 2===f?(e=k[a.charCodeAt(b)]<<2|k[a.charCodeAt(b+1)]>>4,g[i++]=255&e):1===f&&(e=k[a.charCodeAt(b)]<<10|k[a.charCodeAt(b+1)]<<4|k[a.charCodeAt(b+2)]>>2,g[i++]=e>>8&255,g[i++]=255&e),g}function g(a){return j[a>>18&63]+j[a>>12&63]+j[a>>6&63]+j[63&a]}function h(a,b,c){for(var d,e=[],f=b;f<c;f+=3)d=(a[f]<<16)+(a[f+1]<<8)+a[f+2],e.push(g(d));return e.join("")}function i(a){for(var b,c=a.length,d=c%3,e="",f=[],g=0,i=c-d;g<i;g+=16383)f.push(h(a,g,g+16383>i?i:g+16383));return 1===d?(b=a[c-1],e+=j[b>>2],e+=j[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=j[b>>10],e+=j[b>>4&63],e+=j[b<<2&63],e+="="),f.push(e),f.join("")}b.byteLength=e,b.toByteArray=f,b.fromByteArray=i;for(var j=[],k=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=m.length;n<o;++n)j[n]=m[n],k[m.charCodeAt(n)]=n;k["-".charCodeAt(0)]=62,k["_".charCodeAt(0)]=63},function(a,b){b.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},b.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,c){var d,e;"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=c(25)),function(c){function f(a){return a.toString=function(){return this.message},a}function g(a){return"string"==typeof a&&"https"===a.split("://")[0]}function h(a){"object"!=typeof a&&(a={}),this.config={tls_only:void 0===a.tls_only||a.tls_only,webfist_fallback:void 0!==a.webfist_fallback&&a.webfist_fallback,uri_fallback:void 0!==a.uri_fallback&&a.uri_fallback,request_timeout:void 0!==a.request_timeout?a.request_timeout:1e4}}var i={"http://webfist.org/spec/rel":"webfist","http://webfinger.net/rel/avatar":"avatar",remotestorage:"remotestorage","http://tools.ietf.org/id/draft-dejong-remotestorage":"remotestorage",remoteStorage:"remotestorage","http://www.packetizer.com/rel/share":"share","http://webfinger.net/rel/profile-page":"profile",me:"profile",vcard:"vcard",blog:"blog","http://packetizer.com/rel/blog":"blog","http://schemas.google.com/g/2010#updates-from":"updates","https://camlistore.org/rel/server":"camilstore"},j={avatar:[],remotestorage:[],blog:[],vcard:[],updates:[],share:[],profile:[],webfist:[],camlistore:[]},k=["webfinger","host-meta","host-meta.json"];h.prototype.__fetchJRD=function(a,b,c){function d(){if(!i)return i=!0,200===j.status?h.__isValidJSON(j.responseText)?c(j.responseText):b(f({message:"invalid json",url:a,status:j.status})):404===j.status?b(f({message:"resource not found",url:a,status:j.status})):j.status>=301&&j.status<=302?g(j.getResponseHeader("Location"))?e():b(f({message:"no redirect URL found",url:a,status:j.status})):b(f({message:"error during request",url:a,status:j.status}))}function e(){j.onreadystatechange=function(){4===j.readyState&&d()},j.onload=function(){d()},j.ontimeout=function(){return b(f({message:"request timed out",url:a,status:j.status}))},j.open("GET",a,!0),j.timeout=h.config.request_timeout,j.setRequestHeader("Accept","application/jrd+json, application/json"),j.send()}var h=this,i=!1,j=new XMLHttpRequest;return e()},h.prototype.__isValidJSON=function(a){try{JSON.parse(a)}catch(a){return!1}return!0},h.prototype.__isLocalhost=function(a){return/^localhost(\.localdomain)?(\:[0-9]+)?$/.test(a)},h.prototype.__processJRD=function(a,b,c,d){var e=JSON.parse(b);if("object"!=typeof e||"object"!=typeof e.links)return c(f(void 0!==e.error?{message:e.error,request:a}:{message:"unknown response from server",request:a}));var g=e.links;Array.isArray(g)||(g=[]);var h={object:e,json:b,idx:{}};h.idx.properties={name:void 0},h.idx.links=JSON.parse(JSON.stringify(j)),g.map(function(a,b){if(i.hasOwnProperty(a.rel)&&h.idx.links[i[a.rel]]){var c={};Object.keys(a).map(function(b,d){c[b]=a[b]}),h.idx.links[i[a.rel]].push(c)}});var k=JSON.parse(b).properties;for(var l in k)k.hasOwnProperty(l)&&"http://packetizer.com/ns/name"===l&&(h.idx.properties.name=k[l]);return d(h)},h.prototype.lookup=function(a,b){function c(){var b="";return a.split("://")[1]||(b="acct:"),i+"://"+g+"/.well-known/"+k[h]+"?resource="+b+a}function d(a){if(f.config.uri_fallback&&"webfist.org"!==g&&h!==k.length-1)return h+=1,e();if(!f.config.tls_only&&"https"===i)return h=0,i="http",e();if(!f.config.webfist_fallback||"webfist.org"===g)return b(a);h=0,i="http",g="webfist.org";var d=c();f.__fetchJRD(d,b,function(a){f.__processJRD(d,a,b,function(a){"object"==typeof a.idx.links.webfist&&"string"==typeof a.idx.links.webfist[0].href&&f.__fetchJRD(a.idx.links.webfist[0].href,b,function(a){f.__processJRD(d,a,b,function(a){return b(null,b)})})})})}function e(){var a=c();f.__fetchJRD(a,d,function(c){f.__processJRD(a,c,b,function(a){b(null,a)})})}if("string"!=typeof a)throw new Error("first parameter must be a user address");if("function"!=typeof b)throw new Error("second parameter must be a callback");var f=this,g="";g=a.indexOf("://")>-1?a.replace(/ /g,"").split("/")[2]:a.replace(/ /g,"").split("@")[1];var h=0,i="https";return f.__isLocalhost(g)&&(i="http"),setTimeout(e,0)},h.prototype.lookupLink=function(a,b,c){if(!j.hasOwnProperty(b))return c("unsupported rel "+b);this.lookup(a,function(a,d){var e=d.idx.links[b];return a?c(a):0===e.length?c('no links found with rel="'+b+'"'):c(null,e[0])})},d=[],void 0!==(e=function(){return h}.apply(b,d))&&(a.exports=e)}()},function(a,b){a.exports=XMLHttpRequest},function(a,b,c){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},e=c(0),f=c(1),g=c(27),h=c(3),i={features:[],featuresDone:0,readyFired:!1,loadFeatures:function(){var a=this;this.features=[],this.featuresDone=0,this.readyFired=!1,this.featureModules={WireClient:c(7),Dropbox:c(11),GoogleDrive:c(13),Access:c(15),Discover:c(14),Authorize:c(4),BaseClient:c(5),Env:c(12)},h.cache&&e.extend(this.featureModules,{Caching:c(16),IndexedDB:c(28),LocalStorage:c(29),InMemoryStorage:c(30),Sync:c(8)}),h.disableFeatures.forEach(function(b){a.featureModules[b]&&delete a.featureModules[b]}),this._allLoaded=!1;for(var b in this.featureModules)this.loadFeature(b)},hasFeature:function(a){for(var b=this.features.length-1;b>=0;b--)if(this.features[b].name===a)return this.features[b].supported;return!1},loadFeature:function(a){var b=this,c=this.featureModules[a],e=!c._rs_supported||c._rs_supported();f("[RemoteStorage] [FEATURE "+a+"] initializing ..."),"object"===(void 0===e?"undefined":d(e))?e.then(function(){b.featureSupported(a,!0),b.initFeature(a)},function(){b.featureSupported(a,!1)}):"boolean"==typeof e?(this.featureSupported(a,e),e&&this.initFeature(a)):this.featureSupported(a,!1)},initFeature:function(a){var b=this,c=this.featureModules[a],e=void 0;try{e=c._rs_init(this)}catch(b){return void this.featureFailed(a,b)}"object"===(void 0===e?"undefined":d(e))&&"function"==typeof e.then?e.then(function(){b.featureInitialized(a)},function(c){b.featureFailed(a,c)}):this.featureInitialized(a)},featureFailed:function(a,b){f("[RemoteStorage] [FEATURE "+a+"] initialization failed ("+b+")"),this.featureDone()},featureSupported:function(a,b){f("[RemoteStorage] [FEATURE "+a+"]  "+(b?"":" not")+" supported"),b||this.featureDone()},featureInitialized:function(a){f("[RemoteStorage] [FEATURE "+a+"] initialized."),this.features.push({name:a,init:this.featureModules[a]._rs_init,supported:!0,cleanup:this.featureModules[a]._rs_cleanup}),this.featureDone()},featureDone:function(){++this.featuresDone===Object.keys(this.featureModules).length&&setTimeout(this.featuresLoaded.bind(this),0)},_setCachingModule:function(){var a=this;["IndexedDB","LocalStorage","InMemoryStorage"].some(function(b){if(a.features.some(function(a){return a.name===b}))return a.features.local=a.featureModules[b],!0})},_fireReady:function(){try{this.readyFired||(this._emit("ready"),this.readyFired=!0)}catch(a){console.error("'ready' failed: ",a,a.stack),this._emit("error",a)}},featuresLoaded:function(){var a=this;f("[REMOTESTORAGE] All features loaded !"),this._setCachingModule(),this.local=h.cache&&this.features.local&&new this.features.local,this.local&&this.remote?(this._setGPD(g,this),this._bindChange(this.local)):this.remote&&this._setGPD(this.remote,this.remote),this.remote&&(this.remote.on("connected",function(){a._fireReady(),a._emit("connected")}),this.remote.on("not-connected",function(){a._fireReady(),a._emit("not-connected")}),this.remote.connected&&(this._fireReady(),this._emit("connected")),this.hasFeature("Authorize")||this.remote.stopWaitingForToken()),this._collectCleanupFunctions();try{this._allLoaded=!0,this._emit("features-loaded")}catch(a){e.logError(a),this._emit("error",a)}this._processPending()},_collectCleanupFunctions:function(){this._cleanups=[];for(var a=0;a<this.features.length;a++){var b=this.features[a].cleanup;"function"==typeof b&&this._cleanups.push(b)}}};a.exports=i},function(a,b,c){"use strict";function d(a){return"dropbox"===this.backend&&a.match(/^\/public\/.*[^\/]$/)}function e(a){return!1!==a&&"number"!=typeof a}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=c(1),h={get:function(a,b){return this.local?(void 0===b&&("object"===f(this.remote)&&this.remote.connected&&this.remote.online?b=2*this.getSyncInterval():(g("Not setting default maxAge, because remote is offline or not connected"),b=!1)),e(b)?Promise.reject("Argument 'maxAge' must be false or a number"):this.local.get(a,b,this.sync.queueGetRequest.bind(this.sync))):this.remote.get(a)},put:function(a,b,c){return d.bind(this)(a)?h._wrapBusyDone.call(this,this.remote.put(a,b,c)):this.local?this.local.put(a,b,c):h._wrapBusyDone.call(this,this.remote.put(a,b,c))},delete:function(a){return this.local?this.local.delete(a):h._wrapBusyDone.call(this,this.remote.delete(a))},_wrapBusyDone:function(a){var b=this;return this._emit("wire-busy"),a.then(function(a){return b._emit("wire-done",{success:!0}),Promise.resolve(a)},function(a){return b._emit("wire-done",{success:!1}),Promise.reject(a)})}};a.exports=h},function(a,b,c){"use strict";var d,e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=c(9),h=c(2),i=c(0),j=function(a){if(this.db=a||d,!this.db)return void f("[IndexedDB] Failed to open DB");g(this),h(this,"change","local-events-done"),this.getsRunning=0,this.putsRunning=0,this.changesQueued={},this.changesRunning={}};j.prototype={getNodes:function(a){for(var b=[],c={},d=0,e=a.length;d<e;d++)void 0!==this.changesQueued[a[d]]?c[a[d]]=i.deepClone(this.changesQueued[a[d]]||void 0):void 0!==this.changesRunning[a[d]]?c[a[d]]=i.deepClone(this.changesRunning[a[d]]||void 0):b.push(a[d]);return b.length>0?this.getNodesFromDb(b).then(function(a){for(var b in c)a[b]=c[b];return a}):Promise.resolve(c)},setNodes:function(a){for(var b in a)this.changesQueued[b]=a[b]||!1;return this.maybeFlush(),Promise.resolve()},maybeFlush:function(){0===this.putsRunning?this.flushChangesQueued():this.commitSlownessWarning||(this.commitSlownessWarning=setInterval(function(){console.warn("WARNING: waited more than 10 seconds for previous commit to finish")},1e4))},flushChangesQueued:function(){this.commitSlownessWarning&&(clearInterval(this.commitSlownessWarning),this.commitSlownessWarning=null),Object.keys(this.changesQueued).length>0&&(this.changesRunning=this.changesQueued,this.changesQueued={},this.setNodesInDb(this.changesRunning).then(this.flushChangesQueued.bind(this)))},getNodesFromDb:function(a){var b=this;return new Promise(function(c,d){var e=b.db.transaction(["nodes"],"readonly"),f=e.objectStore("nodes"),g={};b.getsRunning++,a.map(function(a){f.get(a).onsuccess=function(b){g[a]=b.target.result}}),e.oncomplete=function(){c(g),this.getsRunning--}.bind(b),e.onerror=e.onabort=function(){d("get transaction error/abort"),this.getsRunning--}.bind(b)})},setNodesInDb:function(a){var b=this;return new Promise(function(c,d){var g=b.db.transaction(["nodes"],"readwrite"),h=g.objectStore("nodes"),i=(new Date).getTime();b.putsRunning++,f("[IndexedDB] Starting put",a,b.putsRunning);for(var j in a){var k=a[j];if("object"===(void 0===k?"undefined":e(k)))try{h.put(k)}catch(a){throw f("[IndexedDB] Error while putting",k,a),a}else try{h.delete(j)}catch(a){throw f("[IndexedDB] Error while removing",h,k,a),a}}g.oncomplete=function(){this.putsRunning--,f("[IndexedDB] Finished put",a,this.putsRunning,(new Date).getTime()-i+"ms"),c()}.bind(b),g.onerror=function(){this.putsRunning--,d("transaction error")}.bind(b),g.onabort=function(){d("transaction abort"),this.putsRunning--}.bind(b)})},reset:function(a){var b=this,c=this.db.name;this.db.close(),j.clean(this.db.name,function(){j.open(c,function(c,d){c?f("[IndexedDB] Error while resetting local storage",c):b.db=d,"function"==typeof a&&a(self)})})},forAllNodes:function(a){var b=this;return new Promise(function(c){b.db.transaction(["nodes"],"readonly").objectStore("nodes").openCursor().onsuccess=function(d){var e=d.target.result;e?(a(b.migrate(e.value)),e.continue()):c()}})},closeDB:function(){this.db.close()}},j.open=function(a,b){var c=setTimeout(function(){b("timeout trying to open db")},1e4);try{var d=indexedDB.open(a,2);d.onerror=function(){f("[IndexedDB] Opening DB failed",d),clearTimeout(c),b(d.error)},d.onupgradeneeded=function(a){var b=d.result;f("[IndexedDB] Upgrade: from ",a.oldVersion," to ",a.newVersion),1!==a.oldVersion&&(f("[IndexedDB] Creating object store: nodes"),b.createObjectStore("nodes",{keyPath:"path"})),f("[IndexedDB] Creating object store: changes"),b.createObjectStore("changes",{keyPath:"path"})},d.onsuccess=function(){clearTimeout(c);var e=d.result;if(!e.objectStoreNames.contains("nodes")||!e.objectStoreNames.contains("changes"))return f("[IndexedDB] Missing object store. Resetting the database."),void j.clean(a,function(){j.open(a,b)});b(null,d.result)}}catch(d){f("[IndexedDB] Failed to open database: "+d),f("[IndexedDB] Resetting database and trying again."),clearTimeout(c),j.clean(a,function(){j.open(a,b)})}},j.clean=function(a,b){var c=indexedDB.deleteDatabase(a);c.onsuccess=function(){f("[IndexedDB] Done removing DB"),b()},c.onerror=c.onabort=function(b){console.error('Failed to remove database "'+a+'"',b)}},j._rs_init=function(a){return new Promise(function(b,c){j.open("remotestorage",function(e,f){e?c(e):(d=f,f.onerror=function(){a._emit("error",e)},b())})})},j._rs_supported=function(){return new Promise(function(a,b){var c=i.getGlobalContext(),d=!1;if("undefined"!=typeof navigator&&navigator.userAgent.match(/Android (2|3|4\.[0-3])/)&&(navigator.userAgent.match(/Chrome|Firefox/)||(d=!0)),"indexedDB"in c&&!d)try{var e=indexedDB.open("rs-check");e.onerror=function(){b()},e.onsuccess=function(){e.result.close(),indexedDB.deleteDatabase("rs-check"),a()}}catch(a){b()}else b()})},j._rs_cleanup=function(a){return new Promise(function(b){a.local&&a.local.closeDB(),j.clean("remotestorage",b)})},a.exports=j},function(a,b,c){"use strict";function d(a){return a.substr(0,j.length)===j||a.substr(0,k.length)===k}function e(a){return a.substr(0,j.length)===j}var f=c(9),g=c(1),h=c(2),i=c(0),j="remotestorage:cache:nodes:",k="remotestorage:cache:changes:",l=function(){f(this),g("[LocalStorage] Registering events"),h(this,"change","local-events-done")};l.prototype={getNodes:function(a){for(var b={},c=0,d=a.length;c<d;c++)try{b[a[c]]=JSON.parse(localStorage[j+a[c]])}catch(d){b[a[c]]=void 0}return Promise.resolve(b)},setNodes:function(a){for(var b in a)localStorage[j+b]=JSON.stringify(a[b]);return Promise.resolve()},forAllNodes:function(a){for(var b,c=0,d=localStorage.length;c<d;c++)if(e(localStorage.key(c))){try{b=this.migrate(JSON.parse(localStorage[localStorage.key(c)]))}catch(a){b=void 0}b&&a(b)}return Promise.resolve()}},l._rs_init=function(){},l._rs_supported=function(){return i.localStorageAvailable()},l._rs_cleanup=function(){for(var a=[],b=0,c=localStorage.length;b<c;b++){var e=localStorage.key(b);d(e)&&a.push(e)}a.forEach(function(a){g("[LocalStorage] Removing",a),delete localStorage[a]})},a.exports=l},function(a,b,c){"use strict";var d=c(2),e=c(1),f=c(9),g=function(){f(this),e("[InMemoryStorage] Registering events"),d(this,"change","local-events-done"),this._storage={}};g.prototype={getNodes:function(a){for(var b={},c=0,d=a.length;c<d;c++)b[a[c]]=this._storage[a[c]];return Promise.resolve(b)},setNodes:function(a){for(var b in a)void 0===a[b]?delete this._storage[b]:this._storage[b]=a[b];return Promise.resolve()},forAllNodes:function(a){for(var b in this._storage)a(this.migrate(this._storage[b]));return Promise.resolve()}},g._rs_init=function(){},g._rs_supported=function(){return!0},g._rs_cleanup=function(){},a.exports=g},function(a,b,c){"use strict";var d=c(5),e=c(10);e.prototype.addModule=function(a){var b=a.name,c=a.builder;if(Object.defineProperty(this,b,{configurable:!0,get:function(){var a=this._loadModule(b,c);return Object.defineProperty(this,b,{value:a}),a}}),-1!==b.indexOf("-")){var d=b.replace(/\-[a-z]/g,function(a){return a[1].toUpperCase()});Object.defineProperty(this,d,{get:function(){return this[b]}})}},e.prototype._loadModule=function(a,b){if(b)return b(new d(this,"/"+a+"/"),new d(this,"/public/"+a+"/")).exports;throw"Unknown module: "+a}}])}),function(){"use strict";function a(b,c,d){return("string"==typeof c?c:c.toString()).replace(b.define||f,function(a,c,e,f){return 0===c.indexOf("def.")&&(c=c.substring(4)),c in d||(":"===e?(b.defineParams&&f.replace(b.defineParams,function(a,b,e){d[c]={arg:b,text:e}}),c in d||(d[c]=f)):new Function("def","def['"+c+"']="+f)(d)),""}).replace(b.use||f,function(c,e){b.useParams&&(e=e.replace(b.useParams,function(a,b,c,e){if(d[c]&&d[c].arg&&e){var f=(c+":"+e).replace(/'|\\/g,"_");return d.__exp=d.__exp||{},d.__exp[f]=d[c].text.replace(new RegExp("(^|[^\\w$])"+d[c].arg+"([^\\w$])","g"),"$1"+e+"$2"),b+"def.__exp['"+f+"']"}}));var f=new Function("def","return "+e)(d);return f?a(b,f,d):f})}function b(a){return a.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var c,d={version:"1.1.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0,log:!0};d.encodeHTMLSource=function(a){var b={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},c=a?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(a){return a?a.toString().replace(c,function(a){return b[a]||a}):""}},c=function(){return this||(0,eval)("this")}(),"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&define.amd?define(function(){return d}):c.doT=d;var e={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},f=/$^/;d.template=function(g,h,i){h=h||d.templateSettings;var j,k,l=h.append?e.append:e.split,m=0,n=h.use||h.define?a(h,g,i||{}):g;n=("var out='"+(h.strip?n.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):n).replace(/'|\\/g,"\\$&").replace(h.interpolate||f,function(a,c){return l.start+b(c)+l.end}).replace(h.encode||f,function(a,c){return j=!0,l.startencode+b(c)+l.end}).replace(h.conditional||f,function(a,c,d){return c?d?"';}else if("+b(d)+"){out+='":"';}else{out+='":d?"';if("+b(d)+"){out+='":"';}out+='"}).replace(h.iterate||f,function(a,c,d,e){return c?(m+=1,k=e||"i"+m,c=b(c),"';var arr"+m+"="+c+";if(arr"+m+"){var "+d+","+k+"=-1,l"+m+"=arr"+m+".length-1;while("+k+"<l"+m+"){"+d+"=arr"+m+"["+k+"+=1];out+='"):"';} } out+='"}).replace(h.evaluate||f,function(a,c){return"';"+b(c)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,""),j&&(h.selfcontained||!c||c._encodeHTML||(c._encodeHTML=d.encodeHTMLSource(h.doNotSkipEncoded)),n="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+d.encodeHTMLSource.toString()+"("+(h.doNotSkipEncoded||"")+"));"+n);try{return new Function(h.varname,n)}catch(a){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+n),a}},d.compile=function(a,b){return d.template(a,null,b)}}(),function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a}(),function(window){function show(a,b){var c=document.querySelector("section#"+a);if(0==c.length)return void console.warn("section with id=%s not found!",a);var d=c.classList.contains("modal"),e=pageHandlers[a];if(e){var f=c.length>0?c[0]:null,g=e.call(f,b);"function"==typeof g&&(c.hasAttribute("[no-ctl-cache]")||(pageHandlers[a]=g),g.call(f,b))}if(currentPageName&&(!0!==d&&document.body.classList.remove(currentPageName),$currentPage&&(document.dispatchEvent(new CustomEvent("page.hidden",{currentPage:currentPageName})),$currentPage.hasAttribute("[no-ctl-cache]")&&($currentPage.innerHTML=null))),oldPageName=currentPageName,document.body.classList.add(currentPageName=a),($currentPage=c)&&(document.dispatchEvent(new CustomEvent("page.shown",{detail:{currentPage:currentPageName,title:c.getAttribute("title")}})),!c.hasAttribute("default")&&!d)){var h="#"+currentPageName;b&&"object"!=typeof b&&(h+=":"+b),location.hash!==h&&history.pushState(null,null,h)}}function app(a,b){var c=document.body.querySelector("section#"+a);c||console.error("page"+a+" is not declared has a section");var d=c.getAttribute("src");d&&!c.hasChildNodes()?app.get(d,c,a,b):show(a,b)}function onhashchange(){var a=location.hash||"#"+document.querySelector("section[default]").getAttribute("id"),b=/#([-0-9A-Za-z]+)(\:(.+))?/,c=b.exec(a);a=c[1],app(a,c[3])}var pageHandlers={},currentPageName=null,oldPageName=null,$currentPage=null;app.back=function(a){app(oldPageName,a)},app.page=function(a,b){pageHandlers[a]=b},app.get=function(src,$page,pageName,param,modal){var request=new XMLHttpRequest;request.open("GET",src,!0),request.onload=function(){request.status>=200&&request.status<400?($page.innerHTML=request.responseText,$script=$page.querySelector("script"),$script&&eval($script.text),show(pageName,param,modal)):console.warn("failed to get %s page!",pageName)},request.onerror=function(){console.warn("failed to get %s page!",pageName)},request.send()},window.addEventListener("hashchange",onhashchange),window.app=app}(this);